{"version":3,"file":"js/926.cf6a953d.js","mappings":"wWAAIA,EAAe,MACjB,IAAIC,EAAcC,iGAElB,OAAOC,eAAgBC,EAAY,CAAC,GAClC,IAAIC,EAmBAC,EAAqBC,EAHrBC,EAASJ,EAITK,EAAe,IAAIC,QAAQ,CAACC,EAASC,KACvCN,EAAsBK,EACtBJ,EAAqBK,IAEvB,CACE,wBACA,uBACA,uBACA,+BACA,oBACA,uBACA,0BACA,oBACA,uBACA,yBACA,8BACA,2BACA,qCACA,mCACA,wBACA,wBACA,gCACA,yCACA,0BACA,kCACA,uCACA,6BACA,4BACA,sBACA,kCACA,qBACA,uBACA,4BACA,wBACA,qCACA,4BACA,8BACA,kCACA,kCACA,4BACA,sBACA,kCACA,qBACA,uBACA,qBACA,4BACA,4BACA,wBACA,8BACA,kCACA,yBACA,oCACA,iCACA,kCACA,iCACA,6BACA,4BACA,sBACA,4BACA,uBACA,uBACA,4BACA,0BACA,wBACA,yBACA,2BACA,6BACA,4BACA,uBACA,sBACA,wBACA,yBACA,wBACA,2BACA,6BACA,wBACA,8BACA,2BACA,0BACA,yBACA,gBACA,gBACA,0BACA,2BACA,6BACA,sBACA,yBACA,wBACA,uBACA,wBACA,wBACA,wBACA,0BACA,eACA,gBACA,kBACA,gBACA,6BACA,sBACA,oBACA,oBACA,qBACA,sBACA,oBACA,aACA,gCACA,yBACA,sBACA,wBACA,yBACA,aACA,yBACA,sBACA,kBACA,qBACA,8BACA,wBACA,uBACA,0BACA,wBACA,uBACA,qBACA,4CACA,gBACA,kCACA,iCACA,yBACA,8BACA,8BACA,0BACA,8BACA,0BACA,uBACA,oBACA,qBACA,oBACA,qBACA,2BACA,uBACA,2BACA,qBACA,sBACA,uBACA,qBACA,2BACA,4BACA,qBACA,sBACA,mCACA,0BACA,2BACA,uBACA,4BACA,0BACA,yBACA,0BACA,oBACA,2BACA,oBACA,8BACA,2BACA,qBACA,wBACA,0BACA,iBACA,gBACA,kBACA,iCACA,2BACA,qBACA,iCACA,yBACA,4BACA,yBACA,+BACA,8CACA,mCACA,mBACA,wBACA,mCACA,mCACA,yBACA,0BACA,yCACA,wCACA,2CACA,2CACA,oCACA,mCACA,0CACA,0CACA,mCACA,oCACA,oCACA,oCACA,iCACA,0CACA,wCACA,sCACA,8CACA,4BACA,8BACA,yCACA,gDACA,8CACA,iCACA,gCACA,yCACA,+BACA,8BACA,yBACA,iCACA,mCACA,8BACA,4BACA,0BACA,+BACA,oCACA,yCACA,2CACA,kCACA,sBACA,0BACA,sBACA,yBACA,+BACA,0BACA,oCACA,0BACA,mCACA,mBACA,iCACA,uBACA,sBACA,+BACA,sBACA,kCACA,uCACA,0BACA,yBACA,+CACA,iCACA,iCACA,uCACA,iCACA,qCACA,+BACA,8BACA,8BACA,+BACA,6BACA,4BACA,qBACA,qBACA,4BACA,4BACA,uBACA,4BACA,4BACA,4BACA,qBACA,4BACA,wBACA,0BACA,yBACA,iCACA,oBACA,uBACA,sCACA,8BACA,gCACA,2BACA,0BACA,mBACA,iCACA,uBACA,sBACA,sBACA,kCACA,0BACA,+BACA,qBACA,4BACA,oBACA,0BACA,0BACA,0BACA,iCACA,6BACA,+BACA,yBACA,0BACA,iCACA,oBACA,qBACA,yBACA,6BACA,wBACA,yBACA,0BACA,yBACA,qBACA,uBACA,sBACA,uBACA,wBACA,wBACA,wBACA,wBACA,uBACA,qBACA,0BACA,yBACA,wBACA,8BACA,+BACA,yBACA,wBACA,2BACA,2BACA,kCACA,+BACA,6BACA,8BACA,oBACA,yBACA,iCACA,4BACA,mCACA,yBACA,8BACA,+BACA,oCACA,uBACA,mCACA,kBACA,sBACA,4BACA,uBACA,0BACA,qBACA,wBACA,yBACA,0BACA,0BACA,2BACA,sBACA,4BACA,yBACA,4BACA,oCACA,qCACA,0BACA,yCACA,oCACA,gCACA,+BACA,oCACA,iCACA,kCACA,kCACA,6BACA,mCACA,0BACA,0BACA,gCACA,kCACA,0BACA,4BACA,uBACA,0BACA,sBACA,sBACA,qBACA,yBACA,oBACA,2BACA,iCACA,0BACA,oBACA,yBACA,mBACA,yBACA,uBACA,yBACA,wBACA,mBACA,oBACA,mCACA,4BACA,qBACA,0BACA,0BACA,sBACA,wBACA,uBACA,oCACA,wBACA,sBACA,gCACA,wBACA,iCACA,uBACA,gCACA,4BACA,2BACA,yBACA,gCACA,gBACA,wBACA,yBACA,sBACA,wBACA,uBACA,wBACA,wBACA,uBACA,4BACA,8BACA,uBACA,0BACA,6BACA,6BACA,6BACA,uBACA,yBACA,2BACA,4BACA,4BACA,4BACA,4BACA,2BACA,0BACA,2BACA,uBACA,kCACA,yBACA,gCACA,8BACA,8BACA,uBACA,+BACA,2BACA,0BACA,0BACA,4BACA,4BACA,4BACA,4BACA,2BACA,0BACA,2BACA,yBACA,8BACA,8BACA,yBACA,iCACA,0BACA,+BACA,2BACA,qCACA,oCACA,+BACA,uCACA,qCACA,+BACA,gCACA,+BACA,kCACA,qBACA,kBACA,0BACA,wBACA,2BACA,mBACA,mBACA,wBACA,4BACA,4BACA,2BACA,iCACA,gCACA,wCACA,8BACA,iCACA,4BACA,sBACA,uBACA,uBACA,sBACA,qBACA,qBACA,sBACA,2BACA,yBACA,uBACA,8BACA,sCACA,0BACA,yBACA,wBACA,wBACA,0BACA,4BACA,sBACA,oBACA,wBACA,8BACA,2BACA,oBACA,sCACA,0BACA,uBACA,+BACA,wBACA,qBACA,6BACA,qBACA,qBACA,6BACA,yBACA,oBACA,uBACA,2BACA,iCACA,uBACA,iCACA,iCACA,6BACA,+BACA,qCACA,+BACA,+BACA,kBACA,qCACA,4BACA,8BACA,wBACA,UACA,QACA,UACA,6BACA,wBACAC,QAASC,IACJC,OAAOC,yBAAyBP,EAAcK,IACjDC,OAAOE,eAAeR,EAAcK,EAAM,CACxCI,IAAKA,IACHC,EACE,mBACEL,EACA,iJAENM,IAAKA,IACHD,EACE,mBACEL,EACA,qJAUZ,IAAIO,EAAsC,iBAAVC,OAC5BC,EAAgD,mBAAjBC,cAIf,iBAAXC,SACoB,iBAApBA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,GACxBlK,EAAO,SAAWo9B,GAClBp9B,EAAO,SAAW69B,GAClB79B,EAAO,eAAiBy8B,GACxBz8B,EAAO,kBAAoB89B,GAC3B99B,EAAO,YAAcwN,GACrBxN,EAAO,YAAcmN,GACrBnN,EAAO,gBAAkBgP,GACzBhP,EAAO,gBAAkBwyB,GACzBxyB,EAAO,iBAAmB26B,GAC1B36B,EAAO,iBAAmBi+B,GAC1B,IAAIqD,GAAwB,CAC1B,gBACA,uBACA,yBACA,uBACA,yBACA,iBACA,iBACA,sBACA,sBACA,cACA,cACA,SACA,YACA,YACA,YACA,YACA,eACA,gBACA,gBACA,gBACA,UACA,aACA,yBACA,gBACA,eACA,UACA,kBACA,mBACA,uBACA,sBACA,mBACA,YACA,cACA,kBACA,oBACA,aACA,cACA,eACA,aACA,iBACA,SACA,SACA,SACA,eACA,mBACA,gBACA,mBACA,gBACA,gBACA,mBACA,kBACA,2BACA,yBACA,kBACA,wBACA,qBACA,6BACA,6BACA,0BACA,6BACA,iCACA,yCACA,4BACA,oCACA,oBACA,iCACA,yCACA,gCACA,wCACA,6BACA,qCACA,0BACA,mCACA,wBACA,eACA,wCACA,sBACA,iCACA,yCACA,wCACA,qBACA,gCACA,wCACA,6BACA,uBACA,+BACA,oCACA,uBACA,UACA,+BACA,uBACA,uBACA,eACA,eACA,4BACA,iBACA,yBACA,yBACA,uBACA,iBACA,sBACA,wBACA,uBACA,uBACA,sBACA,aACA,cACA,gBACA,sBACA,gBACA,oBACA,kCACA,4BACA,WACA,UACA,kBACA,mBACA,YACA,eACA,sBACA,yBACA,oBACA,sCACA,uCACA,kCACA,gCACA,wCACA,gCACA,kCACA,qBACA,gCACA,iCACA,iCACA,4BACA,0BACA,6CACA,uBACA,iCACA,+BACA,eACA,6BACA,qBACA,eACA,cACA,WACA,sBACA,qBACA,WACA,WACA,cAEFA,GAAsBjhC,QAAQ0M,IAE9B,IAyHIw0B,GACAC,GA1HAC,GAAoB,CACtB,MACA,cACA,YACA,eACA,YACA,eACA,mBACA,sBACA,MACA,MACA,WACA,QACA,aACA,mBACA,mBACA,6BACA,YACA,eACA,aACA,cACA,aACA,aACA,aACA,MACA,cACA,WACA,MACA,YACA,UACA,iBACA,aACA,SACA,WACA,qBACA,UACA,oBACA,YACA,cACA,YACA,YACA,gBACA,WACA,gBACA,iBACA,mBACA,0BACA,mBACA,sBACA,oBACA,iBACA,qBACA,OACA,UACA,cACA,oBACA,oBACA,kBACA,qBACA,gBACA,eACA,sBACA,qBACA,WACA,qBACA,wBACA,4BACA,0BACA,eACA,aACA,gBACA,UACA,WACA,aACA,yBACA,gBACA,kBACA,UACA,8BACA,OACA,qBACA,kBACA,gCACA,6BACA,aACA,eACA,WACA,iBACA,yBACA,uBACA,aACA,0BACA,mBACA,gBACA,kBACA,cACA,KACA,oBACA,oBACA,QACA,MACA,SACA,SACA,uBACA,4BACA,0BACA,KACA,KACA,OACA,MACA,OACA,WACA,MACA,UACA,eACA,sBACA,QACA,YAaF,SAASC,KAIPhB,KAEAr6B,GACF,CAEA,SAASs7B,KAiBP,SAASC,IAGHL,KACJA,GAAY,EACZvhC,EAAO,aAAe,EAElBwF,IAEJ+B,IAEAzH,EAAoBE,GACpBA,EAAO,4BAEPqC,GACGrC,EAAO,SACR,4GAGF4H,KACF,CApCIW,EAAkB,IAItBm5B,MAEKF,KACHA,GAAe,EACfr6B,IAGIoB,EAAkB,KA2BpBvI,EAAO,cACTA,EAAO,aAAa,cACpBsC,WAAW,KACTA,WAAW,IAAMtC,EAAO,aAAa,IAAK,GAC1C4hC,KACC,IAEHA,IAEFp7B,KACF,CA4CA,GAjHAi7B,GAAkBphC,QAAQ4M,IAK1BxE,EAAwB,SAASo5B,IAE1BN,IAAWI,KACXJ,KAAW94B,EAAwBo5B,EAC1C,EAwGI7hC,EAAO,WAAY,CACW,mBAArBA,EAAO,aAA0BA,EAAO,WAAa,CAACA,EAAO,aACxE,MAAOA,EAAO,WAAWmK,OAAS,EAChCnK,EAAO,WAAW8pB,KAAlB9pB,EAEJ,CAEA2hC,KAWA9hC,EAAYI,EAOZ,IAAK,MAAMK,KAAQC,OAAOoa,KAAK3a,GACvBM,KAAQV,GACZW,OAAOE,eAAeb,EAAWU,EAAM,CACrC+L,cAAc,EACd3L,GAAAA,GACEC,EACE,+BAA+BL,oHAEnC,IAMN,OAAOT,CACT,CACD,EAx7PkB,GCCZ,MAAMiiC,EAAY,CACvBC,qBAAsB,CAAC,CAAC,SAAU,WAAqB,UACvDC,oBAAqB,CACnB,CAAC,SAAU,SAAU,UAAW,SAAU,UAC1C,UAEFC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,WAClDC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,UAEFC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,iBAAkB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC5DC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,WACrDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,UAC5DC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,kCAAmC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC7EC,gCAAiC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC3EC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,6BAA8B,CAAC,CAAC,UAAoB,WACpDC,sCAAuC,CAAC,CAAC,SAAU,UAAoB,WACvEC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,oCAAqC,CAAC,CAAC,UAAoB,UAC3DC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,WAC3DC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,UAC1DC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,+BAAgC,CAC9B,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,oBAAqB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC/DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,kCAAmC,CACjC,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACpEC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,+BAAgC,CAAC,CAAC,UAAoB,UACtDC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,+BAAgC,CAC9B,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,WACnDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,WACrDC,kBAAmB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC7DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,WAC5DC,+BAAgC,CAAC,CAAC,SAAU,UAAoB,WAChEC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,WACjEC,iCAAkC,CAAC,CAAC,SAAU,UAAoB,WAClEC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,8BAA+B,CAAC,CAAC,SAAU,UAAoB,WAC/DC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,WAC3DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACpEC,mBAAoB,CAAC,CAAC,UAAoB,WAC1CC,yBAA0B,CAAC,CAAC,UAAoB,WAChDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,WACrDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC9EC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAClEC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAChEC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,wBAAyB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACnEC,0BAA2B,CACzB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,yBAA0B,CACxB,CAAC,SAAU,SAAU,UAAW,SAAU,UAAW,SAAU,UAAW,UAC1E,UAEFC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACzEC,mBAAoB,CAClB,CAAC,SAAU,UAAW,SAAU,UAAW,SAAU,UAAW,UAChE,UAEFC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,WACjEC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,UAC3DC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAChEC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,WAC5DC,wBAAyB,CAAC,CAAC,SAAU,SAAU,UAAoB,WACnEC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,UAAW,WAC1C,WAEFC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAW,WAAqB,WAC7EC,aAAc,CAAC,CAAC,SAAU,UAAoB,WAC9CC,aAAc,CAAC,CAAC,SAAU,UAAoB,WAC9CC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,MACxDC,wBAAyB,CAAC,CAAC,UAAoB,MAC/CC,0BAA2B,CAAC,CAAC,UAAoB,MACjDC,mBAAoB,CAAC,CAAC,SAAU,SAAU,UAAoB,MAC9DC,sBAAuB,CAAC,CAAC,UAAoB,WAC7CC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAChEC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACzEC,qBAAsB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC1EC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAChEC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,MACtDC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,MACxDC,YAAa,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACjEC,aAAc,CAAC,CAAC,SAAU,SAAU,SAAU,SAAU,UAAoB,WAC5EC,eAAgB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACpEC,aAAc,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAClEC,0BAA2B,CACzB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iBAAkB,CAChB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iBAAkB,CAChB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,kBAAmB,CACjB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iBAAkB,CAChB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,UAAW,CAAC,CAAC,SAAU,UAAoB,WAC3CC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,MACxEC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,MACjEC,mBAAoB,CAAC,CAAC,SAAU,UAAoB,WACpDC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,sBAAuB,CAAC,CAAC,SAAU,SAAU,SAAU,WAAqB,WAC5EC,UAAW,CAAC,CAAC,SAAU,UAAoB,WAC3CC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,MACjEC,mBAAoB,CAAC,CAAC,UAAoB,MAC1CC,eAAgB,CAAC,CAAC,UAAoB,MACtCC,kBAAmB,CAAC,CAAC,UAAoB,MACzCC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,WAC5DC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACzEC,uBAAwB,CAAC,GAAa,UACtCC,qBAAsB,CAAC,CAAC,UAAoB,MAC5CC,oBAAqB,CAAC,GAAa,MACnCC,kBAAmB,CACjB,CACE,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEF,WAEFC,yCAA0C,CAAC,CAAC,UAAoB,WAChEC,aAAc,CACZ,CACE,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEF,MAEFC,+BAAgC,CAAC,CAAC,UAAoB,MACtDC,8BAA+B,CAAC,GAAa,UAC7CC,sBAAuB,CAAC,GAAa,UACrCC,2BAA4B,CAAC,GAAa,UAC1CC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC5EC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,WACrDC,iBAAkB,CAAC,CAAC,UAAoB,UACxCC,kBAAmB,CAAC,GAAa,UACjCC,iBAAkB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACtEC,kBAAmB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACvEC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,kBAAmB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACvEC,wBAAyB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC7EC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,gCAAiC,CAAC,CAAC,UAAoB,UACvDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,oBAAqB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC/DC,yBAA0B,CACxB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,sBAAuB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC3EC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,iBAAkB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACtEC,wBAAyB,CACvB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iBAAkB,CAAC,GAAa,MAChCC,2BAA4B,CAAC,CAAC,UAAoB,MAClDC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,UACnDC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAChEC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,cAAe,CAAC,CAAC,SAAU,UAAoB,UAC/CC,aAAc,CAAC,CAAC,UAAoB,WACpCC,eAAgB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACpEC,8BAA+B,CAAC,CAAC,UAAoB,UACrDC,wBAAyB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACnEC,kBAAmB,CACjB,CACE,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEF,WAEFC,8BAA+B,CAAC,CAAC,UAAoB,MACrDC,sBAAuB,CAAC,CAAC,UAAoB,MAC7CC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,UAC1DC,sBAAuB,CACrB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UACvE,MAEFC,4BAA6B,CAC3B,CACE,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEF,UAEFC,2CAA4C,CAC1C,CACE,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEF,UAEFC,gCAAiC,CAC/B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,MAEFC,gBAAiB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC3DC,qBAAsB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC1EC,gCAAiC,CAAC,CAAC,SAAU,UAAoB,MACjEC,gCAAiC,CAAC,CAAC,SAAU,SAAU,UAAoB,MAC3EC,sBAAuB,CAAC,CAAC,SAAU,WAAqB,MACxDC,uBAAwB,CAAC,CAAC,UAAoB,MAC9CC,sCAAuC,CAAC,CAAC,UAAoB,UAC7DC,qCAAsC,CACpC,CAAC,SAAU,SAAU,SAAU,UAC/B,WAEFC,wCAAyC,CAAC,CAAC,SAAU,UAAoB,WACzEC,wCAAyC,CAAC,CAAC,SAAU,UAAoB,UACzEC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,gCAAiC,CAC/B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,uCAAwC,CAAC,CAAC,SAAU,UAAoB,WACxEC,uCAAwC,CACtC,CAAC,SAAU,SAAU,SAAU,UAC/B,WAEFC,gCAAiC,CAAC,CAAC,UAAoB,UACvDC,iCAAkC,CAAC,CAAC,SAAU,UAAoB,UAClEC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,iCAAkC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC5EC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,uCAAwC,CAAC,CAAC,SAAU,UAAoB,UACxEC,qCAAsC,CAAC,CAAC,UAAoB,UAC5DC,mCAAoC,CAAC,CAAC,SAAU,UAAoB,UACpEC,2CAA4C,CAAC,CAAC,SAAU,UAAoB,UAC5EC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACpEC,2BAA4B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACtEC,sCAAuC,CAAC,CAAC,UAAoB,UAC7DC,6CAA8C,CAAC,CAAC,SAAU,UAAoB,UAC9EC,2CAA4C,CAAC,CAAC,UAAoB,UAClEC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,6BAA8B,CAAC,CAAC,UAAoB,UACpDC,sCAAuC,CACrC,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,4BAA6B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACvEC,2BAA4B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACtEC,sBAAuB,CAAC,CAAC,UAAoB,MAC7CC,8BAA+B,CAAC,CAAC,UAAoB,UACrDC,gCAAiC,CAAC,CAAC,SAAU,UAAoB,UACjEC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,yBAA0B,CAAC,CAAC,UAAoB,UAChDC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC5EC,4BAA6B,CAAC,CAAC,UAAoB,UACnDC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,sCAAuC,CAAC,CAAC,UAAoB,UAC7DC,wCAAyC,CAAC,CAAC,SAAU,UAAoB,UACzEC,+BAAgC,CAAC,CAAC,UAAoB,WACtDC,mBAAoB,CAAC,CAAC,SAAU,UAAoB,UACpDC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,sBAAuB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC3EC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,iCAAkC,CAAC,CAAC,SAAU,UAAoB,WAClEC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,gCAAiC,CAAC,CAAC,UAAoB,UACvDC,gBAAiB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACrEC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACzEC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACzEC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,4BAA6B,CAAC,CAAC,UAAoB,UACnDC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,oCAAqC,CAAC,CAAC,UAAoB,UAC3DC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,WACjEC,4CAA6C,CAC3C,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,8BAA+B,CAAC,CAAC,SAAU,UAAoB,UAC/DC,8BAA+B,CAAC,CAAC,SAAU,UAAoB,UAC/DC,oCAAqC,CACnC,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,kCAAmC,CACjC,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,2BAA4B,CAC1B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,UAC5DC,4BAA6B,CAC3B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,0BAA2B,CAAC,CAAC,UAAoB,UACjDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC9EC,kBAAmB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC7DC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,UAC1DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,yBAA0B,CAAC,CAAC,UAAoB,UAChDC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,UAC1DC,yBAA0B,CACxB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,WACnDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC9EC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,UACxDC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACjEC,8BAA+B,CAAC,CAAC,UAAoB,WACrDC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,WAClDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,WACrDC,mCAAoC,CAAC,CAAC,UAAoB,WAC1DC,2BAA4B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACtEC,6BAA8B,CAAC,CAAC,UAAoB,WACpDC,wBAAyB,CAAC,CAAC,UAAoB,WAC/CC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,gBAAiB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC3DC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACzEC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WACzEC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,mBAAoB,CAAC,CAAC,SAAU,UAAoB,WACpDC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,4BAA6B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACvEC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,WACnDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,WAClDC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC5EC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,8BAA+B,CAC7B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,0BAA2B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACrEC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC5EC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACzEC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,UAClDC,kBAAmB,CAAC,CAAC,UAAoB,MACzCC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,0BAA2B,CAAC,CAAC,UAAoB,UACjDC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACjEC,kBAAmB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC7DC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,mBAAoB,CAAC,CAAC,UAAoB,MAC1CC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,UACnDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,sBAAuB,CAAC,CAAC,UAAoB,UAC7CC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,UAC5DC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACjEC,qBAAsB,CAAC,CAAC,UAAoB,WAC5CC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,wBAAyB,CAAC,CAAC,UAAoB,UAC/CC,+BAAgC,CAAC,CAAC,SAAU,UAAoB,UAChEC,4BAA6B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACvEC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,UAC3DC,2BAA4B,CAC1B,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,WAEFC,iBAAkB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC5DC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,8BAA+B,CAAC,CAAC,UAAoB,MACrDC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,WAC1DC,gCAAiC,CAAC,CAAC,UAAoB,MACvDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,gCAAiC,CAAC,CAAC,SAAU,UAAoB,UACjEC,eAAgB,CAAC,CAAC,UAAoB,MACtCC,mBAAoB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC9DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACpEC,oBAAqB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC/DC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,qBAAsB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC1EC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACjEC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC5EC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,yBAA0B,CAAC,CAAC,UAAoB,UAChDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,WAC1DC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,kCAAmC,CAAC,CAAC,SAAU,UAAoB,UACnEC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,sCAAuC,CACrC,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iCAAkC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC5EC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACxEC,4BAA6B,CAC3B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,iCAAkC,CAAC,CAAC,UAAoB,UACxDC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACzEC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC1EC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC1EC,0BAA2B,CACzB,CAAC,SAAU,SAAU,SAAU,UAC/B,WAEFC,gCAAiC,CAC/B,CAAC,SAAU,SAAU,SAAU,UAC/B,WAEFC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC5EC,uBAAwB,CACtB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,WAEFC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACxEC,+BAAgC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC1EC,uBAAwB,CAAC,CAAC,UAAoB,MAC9CC,yBAA0B,CAAC,CAAC,UAAoB,UAChDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,mBAAoB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC9DC,mBAAoB,CAAC,CAAC,UAAoB,UAC1CC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,UACnDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,UAClDC,wBAAyB,CAAC,CAAC,SAAU,SAAU,UAAoB,UACnEC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAClEC,iBAAkB,CAChB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,WAEFC,sBAAuB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC3EC,gBAAiB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACrEC,sBAAuB,CAAC,CAAC,UAAoB,UAC7CC,oBAAqB,CAAC,CAAC,UAAoB,MAC3CC,sBAAuB,CAAC,CAAC,UAAoB,UAC7CC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,gBAAiB,CAAC,CAAC,SAAU,UAAoB,MACjDC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,UAClDC,gCAAiC,CAC/B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,yBAA0B,CAAC,CAAC,UAAoB,WAChDC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,UACnDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,UACxDC,mBAAoB,CAClB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,qBAAsB,CACpB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iCAAkC,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC5EC,qBAAsB,CACpB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,mBAAoB,CAAC,CAAC,SAAU,UAAoB,UACpDC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACxEC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,8BAA+B,CAAC,CAAC,UAAoB,UACrDC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,6BAA8B,CAC5B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,yBAA0B,CAAC,CAAC,UAAoB,WAChDC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,MACzDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,MACvDC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACxEC,aAAc,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAClEC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WACtDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,mBAAoB,CAAC,CAAC,SAAU,SAAU,SAAU,SAAU,UAAoB,MAClFC,qBAAsB,CACpB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,MAEFC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,SAAU,UAAoB,MACnFC,qBAAsB,CACpB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,MAEFC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,MACtDC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,SAAU,UAAoB,MACnFC,yBAA0B,CACxB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,MAEFC,2BAA4B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACtEC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,UAC3DC,0BAA2B,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UAC/EC,0BAA2B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACrEC,oBAAqB,CAAC,CAAC,UAAoB,MAC3CC,sBAAuB,CACrB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,wBAAyB,CAAC,CAAC,UAAoB,UAC/CC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,yBAA0B,CAAC,CAAC,UAAoB,UAChDC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,WAC1DC,yBAA0B,CACxB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,wBAAyB,CAAC,CAAC,UAAoB,UAC/CC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,+BAAgC,CAAC,CAAC,UAAoB,UACtDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,6BAA8B,CAAC,CAAC,SAAU,UAAoB,WAC9DC,2BAA4B,CAC1B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,WAC5DC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,4BAA6B,CAAC,CAAC,UAAoB,WACnDC,wBAAyB,CAAC,CAAC,UAAoB,UAC/CC,uBAAwB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAClEC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,MAC1DC,yBAA0B,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC9EC,yBAA0B,CAAC,CAAC,SAAU,UAAoB,WAC1DC,yBAA0B,CACxB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,wBAAyB,CAAC,CAAC,SAAU,WAAqB,WAC1DC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,WACvDC,2BAA4B,CAC1B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,2BAA4B,CAAC,CAAC,SAAU,UAAoB,WAC5DC,sBAAuB,CACrB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,MAEFC,8BAA+B,CAC7B,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,MAEFC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,WACxDC,4BAA6B,CAAC,CAAC,UAAoB,UACnDC,wBAAyB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC7EC,kCAAmC,CACjC,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,iCAAkC,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC5EC,4BAA6B,CAC3B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,oCAAqC,CACnC,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,kCAAmC,CAAC,CAAC,SAAU,UAAoB,UACnEC,4BAA6B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACvEC,6BAA8B,CAC5B,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,4BAA6B,CAC3B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,+BAAgC,CAC9B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,WAEFC,kBAAmB,CACjB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,WAEFC,eAAgB,CAAC,CAAC,UAAoB,WACtCC,uBAAwB,CAAC,CAAC,UAAoB,UAC9CC,qBAAsB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAChEC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,UACzDC,gBAAiB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC3DC,gBAAiB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC3DC,qBAAsB,CAAC,CAAC,SAAU,SAAU,WAAqB,WACjEC,yBAA0B,CAAC,CAAC,UAAoB,WAChDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,wBAAyB,CAAC,CAAC,UAAoB,UAC/CC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,6BAA8B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACxEC,qCAAsC,CAAC,CAAC,UAAoB,UAC5DC,2BAA4B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACtEC,8BAA+B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACzEC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACpEC,mBAAoB,CAAC,CAAC,UAAoB,MAC1CC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,oBAAqB,CAAC,CAAC,SAAU,SAAU,UAAoB,UAC/DC,mBAAoB,CAAC,CAAC,UAAoB,MAC1CC,kBAAmB,CAAC,CAAC,UAAoB,WACzCC,kBAAmB,CAAC,CAAC,UAAoB,WACzCC,mBAAoB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACxEC,wBAAyB,CACvB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UAC7D,UAEFC,sBAAuB,CAAC,CAAC,SAAU,UAAoB,UACvDC,oBAAqB,CACnB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,2BAA4B,CAC1B,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,mCAAoC,CAAC,CAAC,SAAU,UAAoB,UACpEC,uBAAwB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,WAC5EC,sBAAuB,CACrB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,qBAAsB,CACpB,CAAC,SAAU,SAAU,SAAU,SAAU,UACzC,UAEFC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,UACxDC,yBAA0B,CAAC,CAAC,SAAU,SAAU,UAAoB,WACpEC,mBAAoB,CAAC,CAAC,SAAU,SAAU,UAAoB,WAC9DC,iBAAkB,CAChB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,qBAAsB,CAAC,CAAC,UAAoB,UAC5CC,2BAA4B,CAAC,CAAC,UAAoB,UAClDC,wBAAyB,CACvB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,WAEFC,iBAAkB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACtEC,mCAAoC,CAAC,CAAC,SAAU,UAAoB,UACpEC,uBAAwB,CAAC,CAAC,SAAU,UAAoB,UACxDC,oBAAqB,CAAC,CAAC,SAAU,UAAoB,UACrDC,4BAA6B,CAAC,CAAC,SAAU,UAAoB,UAC7DC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,UACtDC,kBAAmB,CAAC,CAAC,SAAU,UAAoB,UACnDC,0BAA2B,CACzB,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,UACnD,UAEFC,kBAAmB,CACjB,CAAC,SAAU,SAAU,SAAU,SAAU,WACzC,UAEFC,kBAAmB,CAAC,CAAC,UAAoB,UACzCC,0BAA2B,CAAC,CAAC,SAAU,UAAoB,UAC3DC,sBAAuB,CAAC,CAAC,SAAU,SAAU,UAAoB,WACjEC,iBAAkB,CAAC,CAAC,SAAU,UAAoB,WAClDC,oBAAqB,CAAC,CAAC,UAAoB,UAC3CC,wBAAyB,CAAC,CAAC,SAAU,UAAoB,WACzDC,8BAA+B,CAC7B,CAAC,SAAU,SAAU,SAAU,UAC/B,UAEFC,oBAAqB,CAAC,CAAC,SAAU,SAAU,SAAU,UAAoB,UACzEC,8BAA+B,CAAC,CAAC,UAAoB,UACrDC,8BAA+B,CAAC,CAAC,SAAU,UAAoB,WAC/DC,0BAA2B,CAAC,CAAC,UAAoB,MACjDC,4BAA6B,CAAC,CAAC,UAAoB,MACnDC,kCAAmC,CAAC,CAAC,UAAoB,MACzDC,4BAA6B,CAAC,CAAC,SAAU,SAAU,UAAoB,UACvEC,4BAA6B,CAAC,CAAC,UAAoB,UACnDC,eAAgB,CAAC,GAAa,MAC9BC,kCAAmC,CAAC,CAAC,SAAU,UAAoB,UACnEC,yBAA0B,CAAC,GAAa,UACxCC,2BAA4B,CAAC,GAAa,UAC1CC,qBAAsB,CAAC,CAAC,SAAU,UAAoB,WCtxBjDxjD,eAAeyjD,EACpBC,GAEA,MAAM13C,EAA8B,CAClC03C,UAGF,IAAK,MAAM3oC,KAAOonB,EAAW,CAC3B,MAAMjF,EAAQniB,EACRzQ,EAAO63B,EAAUjF,GAAO,GACxBvtB,EAAMwyB,EAAUjF,GAAO,GAE7BlxB,EAAOkxB,GAASwmB,EAAOxlB,MAAMnjB,EAAKpL,EAAKrF,EACzC,CAEA,OAAO0B,CACT,CCtDOhM,eAAe+H,EAAKjG,GACzB,MAAM4hD,QAAe7jD,EAAmCiC,GACxD,OAAO2hD,EAAoBC,EAC7B,C,kHCVO,SAASC,EACdC,EACAC,EACAC,EACAC,EAAwB,KAExB,IAAI79C,EAAS09C,EAAWr5C,YAAYy5C,OAAOD,GAC3C,IAAK,IAAIvzC,EAAI,EAAGA,EAAIuzC,EAAevzC,IACjCozC,EAAWv+C,MAAMa,EAASsK,GAAK,EAEjC,MAAMyzC,EAAeJ,EAAU39C,EAAQ69C,GACvC,IAAIj1C,EACJ,GAAIm1C,EAAeF,EAAe,CAChCH,EAAWr5C,YAAY25C,KAAKh+C,GAC5BA,EAAS09C,EAAWr5C,YAAYy5C,OAAOC,GACvC,IAAK,IAAIzzC,EAAI,EAAGA,EAAIyzC,EAAczzC,IAChCozC,EAAWv+C,MAAMa,EAASsK,GAAK,EAEjCqzC,EAAU39C,EAAQ+9C,GAClBn1C,EAAMg1C,EAAW59C,EACnB,MACE4I,EAAMg1C,EAAW59C,GAInB,OAFA09C,EAAWr5C,YAAY25C,KAAKh+C,GAErB4I,CACT,CASO,SAASq1C,EACdP,EACAC,GAEA,MAAMO,EAAaP,EAAU,EAAG,GAE1BQ,EAAYT,EAAWr5C,YAAYy5C,OAAOI,GAEhDP,EAAUQ,EAAWD,GAErB,MAAMz/C,EAAc,IAAI0W,YAAY+oC,GAC9BvyC,EAAO,IAAIyyC,SAAS3/C,GAE1B,IAAK,IAAI6L,EAAI,EAAGA,EAAI4zC,EAAY5zC,IAC9BqB,EAAK0yC,QAAQ/zC,EAAGozC,EAAWp2C,SAAS62C,EAAY7zC,EAAG,OAKrD,OAFAozC,EAAWr5C,YAAY25C,KAAKG,GAErB1/C,CACT,CAEA,MAAM6/C,EAAA,IAAyBC,IAAI,CACjC,QACA,SACA,UACA,WACA,WACA,UACA,eACA,UACA,YAGK,SAASC,EAAiB3pC,GAG/B,IAAKA,GAAOA,EAAIvQ,OAAS,IAAK,OAAO,EACrC,GAAIg6C,EAAmBG,IAAI5pC,GAAM,OAAO,EACxC,GAAe,MAAXA,EAAI,GAAY,OAAO,EAE3B,IAAK,IAAIvK,EAAI,EAAGA,EAAIuK,EAAIvQ,OAAQgG,IAAK,CACnC,MAAM8C,EAAIyH,EAAIxH,WAAW/C,GACzB,GAAI8C,EAAI,IAAQA,EAAI,IAAM,OAAO,CACnC,CACA,OAAO,CACT,CAWO,SAASsxC,EACdC,EACAC,EACAC,EACAC,GAEA,MAAMC,EAAWH,EAAKI,OAAO/rB,EACvBgsB,EAAaL,EAAKI,OAAOE,EACzBC,EAAYJ,EAAWH,EAAK/tC,KAAKuuC,MACjCC,EAAUJ,EAAaL,EAAK/tC,KAAKyuC,OACjCC,EAAYV,EAASO,MACrBI,EAAaX,EAASS,OAGtBG,EAASp9C,KAAKq9C,MAAMf,EAAOxnC,EAAGwnC,EAAO5+C,GACrC4/C,EAASt9C,KAAKq9C,MAAMf,EAAOvxC,EAAGuxC,EAAO15B,GACrC26B,EAA0B,KAAP,EAAXd,GAERe,EAAaD,EACfv9C,KAAK5B,IAAI,EAAG4B,KAAKy9C,MAAMN,EAAaC,IACpCp9C,KAAK5B,IAAI,EAAG4B,KAAKy9C,MAAMP,EAAYE,IACjCM,EAAcH,EAChBv9C,KAAK5B,IAAI,EAAG4B,KAAKy9C,MAAMP,EAAYI,IACnCt9C,KAAK5B,IAAI,EAAG4B,KAAKy9C,MAAMN,EAAaG,IAExC,IAAIK,EACAC,EACJ,OAAQnB,GACN,KAAKoB,EAAAA,GAASC,QACZH,GAAU39C,KAAKy9C,MAAMf,EAAWU,GAChCQ,GAAU59C,KAAKy9C,MAAMb,EAAaU,GAClC,MACF,KAAKO,EAAAA,GAASE,SACZJ,EAAS39C,KAAKy9C,OAAOT,EAAUG,GAAcC,GAC7CQ,GAAU59C,KAAKy9C,MAAMf,EAAWY,GAChC,MACF,KAAKO,EAAAA,GAASG,UACZL,EAAS39C,KAAKy9C,OAAOX,EAAYI,GAAaE,GAC9CQ,EAAS59C,KAAKy9C,OAAOT,EAAUG,GAAcG,GAC7C,MACF,KAAKO,EAAAA,GAASI,UACZN,GAAU39C,KAAKy9C,MAAMb,EAAaQ,GAClCQ,EAAS59C,KAAKy9C,OAAOX,EAAYI,GAAaI,GAC9C,MACF,QACEK,GAAU39C,KAAKy9C,MAAMf,EAAWU,GAChCQ,GAAU59C,KAAKy9C,MAAMb,EAAaU,GAClC,MAGJ,MAAO,CAAEK,SAAQC,SAAQJ,aAAYE,cAAaN,SAAQE,SAC5D,CClJO,MAAMY,EAAeh5C,GAA6BA,ECCnDi5C,EAAwC,CAC5CC,QAAS,IACTC,oBAAqB,IAGhB,MAAMC,EAIXnhC,WAAAA,CACmBg+B,EACAoD,EACjBC,EAAsB,CAAC,GAFN,KAAArD,OAAAA,EACA,KAAAoD,cAAAA,EALnB,KAAiBE,KAAA,IAAWC,IAQ1BrhC,KAAKmhC,OAAS,IAAKL,KAAmBK,EACxC,CAGAG,WAAAA,CAAYpkD,EAAYqkD,EAAiBC,GACvC,IAAIC,EAAMzhC,KAAKohC,KAAKjmD,IAAI+B,GACnBukD,IACHA,EAAM,IAAIC,EAAgBH,EAASC,EAAQxhC,KAAK89B,OAAQ99B,KAAKkhC,cAAelhC,KAAKmhC,QACjFnhC,KAAKohC,KAAK/lD,IAAI6B,EAAIukD,GAEtB,CAGAE,UAAAA,CAAWC,GACT,OAAO5hC,KAAKohC,KAAKjmD,IAAIymD,EACvB,CAGAC,aAAAA,CAAcD,GACZ,MAAMH,EAAMzhC,KAAKohC,KAAKjmD,IAAIymD,GAC1B,QAAKH,IACLA,EAAIK,UACJ9hC,KAAKohC,KAAK3oB,OAAOmpB,IACV,EACT,CAGAG,iBAAAA,GACE,IAAK,MAAMN,KAAOzhC,KAAKohC,KAAKY,SAC1BP,EAAIK,UAEN9hC,KAAKohC,KAAKa,OACZ,CAGAC,YAAAA,CAAaC,GACXnnD,OAAOmB,OAAO6jB,KAAKmhC,OAAQgB,GAE3B,IAAK,MAAMV,KAAOzhC,KAAKohC,KAAKY,SAC1BP,EAAIS,aAAaliC,KAAKmhC,OAE1B,CAGAiB,aAAAA,GAKE,MAAMC,EAA0C,CAAC,EACjD,IAAIC,EAAa,EAEjB,IAAK,MAAOV,EAAOH,KAAQzhC,KAAKohC,KAAKlsC,UAAW,CAC9C,MAAMqtC,EAAYd,EAAIe,eACtBH,EAAgBT,GAASW,EACzBD,GAAcC,CAChB,CAEA,MAAO,CACLE,UAAWziC,KAAKohC,KAAKjwC,KACrBmxC,aACAD,kBAEJ,EAGK,MAAMX,EAGX5hC,WAAAA,CACkByhC,EACAC,EAChB1D,EACiBoD,EACjBC,GAJgB,KAAAI,QAAAA,EACA,KAAAC,OAAAA,EAEC,KAAAN,cAAAA,EAGjBlhC,KAAK0iC,UAAY,IAAIC,EAAU7E,EAAQ0D,EAAQL,EACjD,CAGAyB,WAAAA,CAAYC,GACV,OAAO7iC,KAAK0iC,UAAUI,QAAQD,EAChC,CAGAE,UAAAA,CAAcF,EAAiBz3B,GAC7B,OAAOpL,KAAK0iC,UAAUK,WAAWF,EAASz3B,EAC5C,CAGA82B,YAAAA,CAAaf,GACXnhC,KAAK0iC,UAAUR,aAAaf,EAC9B,CAGAqB,YAAAA,GACE,OAAOxiC,KAAK0iC,UAAUvxC,MACxB,CAGA2wC,OAAAA,GAEE9hC,KAAK0iC,UAAUM,kBAGfhjC,KAAK0iC,UAAUO,IAAI9f,mBAAmBnjB,KAAKwhC,QAG3CxhC,KAAKkhC,cAAc5C,KAAKuC,EAAY7gC,KAAKuhC,SAC3C,EAGK,MAAMoB,EAKX7iC,WAAAA,CACkBmjC,EACCzB,EACjBL,GAFgB,KAAA8B,IAAAA,EACC,KAAAzB,OAAAA,EANnB,KAAiB0B,MAAA,IAAY7B,IAC7B,KAAiB8B,YAAwB,GAQvCnjC,KAAKmhC,OAASA,CAChB,CAEA2B,OAAAA,CAAQD,GACN,IAAIpB,EAAMzhC,KAAKkjC,MAAM/nD,IAAI0nD,GAEzB,IAAKpB,EAAK,CAERzhC,KAAKojC,gBAEL,MAAMC,EAAUrjC,KAAKijC,IAAI1c,cAAcvmB,KAAKwhC,OAAQqB,GACpDpB,EAAM,IAAI6B,EAAYtjC,KAAKijC,IAAKjjC,KAAKwhC,OAAQqB,EAASQ,EAASrjC,KAAKmhC,OAAOJ,QAAS,KAClF/gC,KAAKkjC,MAAMzqB,OAAOoqB,GAClB7iC,KAAKujC,sBAAsBV,KAE7B7iC,KAAKkjC,MAAM7nD,IAAIwnD,EAASpB,EAC1B,CAOA,OAJAzhC,KAAKwjC,kBAAkBX,GAEvBpB,EAAIgC,mBACJhC,EAAIiC,eACGjC,CACT,CAMAsB,UAAAA,CAAcF,EAAiBz3B,GAC7B,MAAMu4B,EAAU3jC,KAAKkjC,MAAMnE,IAAI8D,GACzBpB,EAAMzhC,KAAK8iC,QAAQD,GACzB,IACE,OAAOz3B,EAAGq2B,EACZ,CAAE,QACAkC,EAAUlC,EAAImC,UAAYnC,EAAIoC,kBAChC,CACF,CAEAb,eAAAA,GACE,IAAK,MAAMvB,KAAOzhC,KAAKkjC,MAAMlB,SAC3BP,EAAIoC,mBAEN7jC,KAAKkjC,MAAMjB,QACXjiC,KAAKmjC,YAAYv+C,OAAS,CAC5B,CAGAs9C,YAAAA,CAAaf,GACXnhC,KAAKmhC,OAASA,EAGd,IAAK,MAAMM,KAAOzhC,KAAKkjC,MAAMlB,SAC3BP,EAAIqC,UAAU3C,EAAOJ,SAIvB/gC,KAAKojC,eACP,CAGAjyC,IAAAA,GACE,OAAO6O,KAAKkjC,MAAM/xC,IACpB,CAGQiyC,aAAAA,GACN,MAAOpjC,KAAKkjC,MAAM/xC,MAAQ6O,KAAKmhC,OAAOH,oBAAqB,CACzD,MAAM+C,EAAa/jC,KAAKmjC,YAAY,GACpC,QAAmB,IAAfY,EAiBF,MAjB4B,CAC5B,MAAMtC,EAAMzhC,KAAKkjC,MAAM/nD,IAAI4oD,GAC3B,GAAItC,EAAK,CAEP,GAA0B,IAAtBA,EAAIuC,cAMN,MALAvC,EAAIoC,kBAOR,MAEE7jC,KAAKujC,sBAAsBQ,EAE/B,CAGF,CACF,CAGQP,iBAAAA,CAAkBX,GAExB7iC,KAAKujC,sBAAsBV,GAE3B7iC,KAAKmjC,YAAY91C,KAAKw1C,EACxB,CAGQU,qBAAAA,CAAsBV,GAC5B,MAAMrqB,EAAQxY,KAAKmjC,YAAYj+B,QAAQ29B,GACnCrqB,GAAS,GACXxY,KAAKmjC,YAAYr4C,OAAO0tB,EAAO,EAEnC,EAGK,MAAM8qB,EAWXxjC,WAAAA,CACmBmjC,EACDzB,EACAqB,EACAQ,EAChBY,EACiBC,GALA,KAAAjB,IAAAA,EACD,KAAAzB,OAAAA,EACA,KAAAqB,QAAAA,EACA,KAAAQ,QAAAA,EAEC,KAAAa,eAAAA,EAhBnB,KAAQC,SAAW,EAEnB,KAAQC,UAAW,EAgBjBpkC,KAAKikC,IAAMA,CACb,CAGAP,YAAAA,GACE,GAAI1jC,KAAKokC,SAAU,MAAM,IAAI5nD,MAAM,4BACnCwjB,KAAKmkC,UACP,CAGAH,WAAAA,GACE,OAAOhkC,KAAKmkC,QACd,CAGAV,gBAAAA,GACMzjC,KAAKqkC,cACPpnD,aAAa+iB,KAAKqkC,aAClBrkC,KAAKqkC,iBAAc,EAEvB,CAGAP,SAAAA,CAAUQ,GACRtkC,KAAKikC,IAAMK,EAEPtkC,KAAKqkC,aAAiC,IAAlBrkC,KAAKmkC,WAC3BnkC,KAAKyjC,mBACLzjC,KAAKqkC,YAActnD,WAAW,IAAMijB,KAAK6jC,mBAAoB7jC,KAAKikC,KAEtE,CAGAL,OAAAA,GACM5jC,KAAKokC,WACTpkC,KAAKmkC,WACiB,IAAlBnkC,KAAKmkC,WAEPnkC,KAAKqkC,YAActnD,WAAW,IAAMijB,KAAK6jC,mBAAoB7jC,KAAKikC,MAEtE,CAGAJ,gBAAAA,GACM7jC,KAAKokC,WACTpkC,KAAKokC,UAAW,EAGhBpkC,KAAKyjC,wBAGoB,IAArBzjC,KAAKukC,aACPvkC,KAAKijC,IAAIxI,mBAAmBz6B,KAAKukC,kBAIX,IAApBvkC,KAAKwkC,aACPxkC,KAAKijC,IAAIlhB,uBAAuB/hB,KAAKqjC,QAASrjC,KAAKwkC,YACnDxkC,KAAKijC,IAAI5F,kCAAkCr9B,KAAKwkC,kBAEzB,IAArBxkC,KAAKykC,aACPzkC,KAAKijC,IAAI7F,4BAA4Bp9B,KAAKykC,aAI5CzkC,KAAKijC,IAAI7f,eAAepjB,KAAKqjC,SAG7BrjC,KAAKkkC,iBACP,CAKAQ,WAAAA,GAKE,OAJA1kC,KAAK2kC,mBACoB,IAArB3kC,KAAKukC,cACPvkC,KAAKukC,YAAcvkC,KAAKijC,IAAIxG,kBAAkBz8B,KAAKqjC,UAE9CrjC,KAAKukC,WACd,CAGAK,aAAAA,GAOE,OANA5kC,KAAK2kC,mBACmB,IAApB3kC,KAAKwkC,aACPxkC,KAAKykC,YAAczkC,KAAKijC,IAAItF,6BAC5B39B,KAAKwkC,WAAaxkC,KAAKijC,IAAIxF,kCAAkCz9B,KAAKwhC,OAAQxhC,KAAKykC,aAC/EzkC,KAAKijC,IAAInhB,qBAAqB9hB,KAAKqjC,QAASrjC,KAAKwkC,aAE5CxkC,KAAKwkC,UACd,CAMAK,cAAAA,CAAkBC,EAAkB15B,GAClCpL,KAAK2kC,cACL,MAAMI,EAAW/kC,KAAKijC,IAAIxO,kBAAkBz0B,KAAKqjC,QAASyB,GAC1D,IACE,OAAO15B,EAAG25B,EACZ,CAAE,QACA/kC,KAAKijC,IAAI/O,oBAAoB6Q,EAC/B,CACF,CAEQJ,WAAAA,GACN,GAAI3kC,KAAKokC,SAAU,MAAM,IAAI5nD,MAAM,+BACrC,EChXK,MAAMwoD,EAAgB,CAE3BC,iBAAkB,YAMPC,EAAS,CACpBC,OAAQH,GCpBJI,EAAa,eACbC,EAAe,gBASd,MAAMC,EAIXxlC,WAAAA,CACUylC,EACAC,GADA,KAAAD,aAAAA,EACA,KAAAC,OAAAA,EALV,KAAQC,YAAA,IAAkBpE,IAC1B,KAAQqE,eAAiB,CAKtB,CAKHtH,MAAAA,CAAOjtC,GAEL,GAAI6O,KAAK0lC,eAAiBv0C,EAAO+zC,EAAOC,OAAOF,iBAC7C,MAAM,IAAIzoD,MACR,0CACKwjB,KAAK0lC,eAAiBv0C,OAAU+zC,EAAOC,OAAOF,oBAIvD,MAAMp9C,EAAMmY,KAAKulC,aAAazH,OAAOn5C,YAAYy5C,OAAOjtC,GAExD,IAAKtJ,EACH,MAAM,IAAIrL,MAAM,sBAAsB2U,WAIxC,MAAMw0C,EAAyB,CAC7B99C,IAAKg5C,EAAYh5C,GACjBsJ,OACAlB,UAAWC,KAAKC,MAChBuY,MAAO1I,KAAKwlC,OAAOI,UAAU,UAAW,IAAIppD,OAAQksB,WAAQ,GAM9D,OAHA1I,KAAKylC,YAAYpqD,IAAIwM,EAAK89C,GAC1B3lC,KAAK0lC,gBAAkBv0C,EAEhB0vC,EAAYh5C,EACrB,CAKAy2C,IAAAA,CAAKz2C,GACH,MAAM89C,EAAa3lC,KAAKylC,YAAYtqD,IAAI0M,GACnC89C,GAGH3lC,KAAK0lC,gBAAkBC,EAAWx0C,KAClC6O,KAAKylC,YAAYhtB,OAAO5wB,IAHxBmY,KAAKwlC,OAAOloD,KAAK8nD,EAAYC,EAAc,8BAA8Bx9C,KAM3EmY,KAAKulC,aAAazH,OAAOn5C,YAAY25C,KAAKz2C,EAC5C,CAKAg+C,QAAAA,GACE,MAAO,CACLH,eAAgB1lC,KAAK0lC,eACrBI,gBAAiB9lC,KAAKylC,YAAYt0C,KAClCs0C,YAAazlC,KAAKwlC,OAAOI,UAAU,SAAWt3C,MAAM5B,KAAKsT,KAAKylC,YAAYzD,UAAY,GAE1F,CAKA+D,UAAAA,GACE,GAAI/lC,KAAKylC,YAAYt0C,KAAO,EAAG,CAC7B6O,KAAKwlC,OAAOloD,KACV8nD,EACAC,EACA,0BAA0BrlC,KAAKylC,YAAYt0C,4BAG7C,IAAK,MAAOtJ,EAAKm+C,KAAUhmC,KAAKylC,YAC9BzlC,KAAKwlC,OAAOloD,KAAK8nD,EAAYC,EAAc,OAAOx9C,MAAQm+C,EAAM70C,aAAc60C,EAAMt9B,MAExF,CACF,ECUF,MAAMu9B,EAAmB,GACnBC,EAAiB,EACjBC,EAAiB,EACjBC,EAAmB,EACnBC,EAAiB,GACjBC,EAAiB,GACjBC,EAAqB,GACrBC,EAAqB,GACrBC,EAAwB,GACxBC,EAAoB,GAEpBC,EAAa,SACbC,EAAe,gBAWd,MAAMC,EAoBX/mC,WAAAA,CAAYqhC,EAA4BqE,EAAiB,IAAIsB,EAAAA,IAjB7D,KAAiBC,YAAA,IAA2C1F,IAC5D,KAAiB2F,UAAA,IAAyC3F,IAC1D,KAAQ4F,aAAe,EACvB,KAAQ7gD,OAAqC,KAC7C,KAAQ8gD,SAAU,EAGlB,KAAQC,UAAoB,EAC5B,KAAQC,aAAuB,EAC/B,KAAQC,eAAyB,EACjC,KAAQC,aAAuB,EAC/B,KAAQC,aAAuB,EAC/B,KAAQC,iBAA2B,EACnC,KAAQC,iBAA2B,EACnC,KAAQC,oBAA8B,EACtC,KAAQC,gBAA0B,EAGhC3nC,KAAK4nC,WAAazG,EAClBnhC,KAAKwlC,OAASA,CAChB,CAKAqC,UAAAA,CAAWzhD,GACT,GAAI4Z,KAAKknC,QAEP,YADAlnC,KAAKwlC,OAAOloD,KAAKqpD,EAAYC,EAAc,qCAI7C5mC,KAAK5Z,OAASA,EACd,MAAM03C,EAAS13C,EAAO03C,OAGtB,GAAkC,oBAAvBA,EAAO5mB,YASlB,IAGE,GADAlX,KAAKmnC,UAAYrJ,EAAOn5C,YAAYy5C,OAAO6H,IACtCjmC,KAAKmnC,UACR,MAAM,IAAI3qD,MAAM,8CAIlB,IAAK,IAAIoO,EAAI,EAAGA,EAAIq7C,EAAkBr7C,IACpCkzC,EAAO71C,SAAS+X,KAAKmnC,UAAYv8C,EAAG,EAAG,MAQzCoV,KAAKonC,aAAetJ,EAAO5mB,YAAa4wB,MAErC,MAGH9nC,KAAKqnC,eAAiBvJ,EAAO5mB,YAAY,CAAC4wB,EAAgBC,OAEvD,OAKH/nC,KAAKsnC,aAAexJ,EAAO5mB,YACzB,CACE4wB,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,KAEA,MAAMC,EAAOF,EAAUtK,EAAOr0C,aAAa2+C,GAAW,GAChDG,EAASvoC,KAAKwoC,QAAQR,EAAQC,EAASC,EAASC,EAAaG,GAOnE,OAJID,GACFvK,EAAO71C,SAASogD,EAAW,EAAG,OAGzBE,GAET,YAIFvoC,KAAKunC,aAAezJ,EAAO5mB,YAAY,CAAC4wB,EAAgBM,KACtD,MAAME,EAAOF,EAAUtK,EAAOr0C,aAAa2+C,GAAW,GAEtD,OAAOpoC,KAAKwoC,QAAQ,IAAK,EAAG,EAAG,EAAGF,IACjC,OAIHtoC,KAAKwnC,iBAAmB1J,EAAO5mB,YAC7B,CAAC4wB,EAAgBW,EAAeC,EAAepoD,EAAgBszB,IACtD5T,KAAK2oC,YAAYF,EAAOC,EAAOpoD,EAAQszB,GAEhD,UAIF5T,KAAKynC,iBAAmB3J,EAAO5mB,YAC7B,CAAC4wB,EAAgBc,EAAgBC,EAAiBC,IAEzC,EAET,SAIF9oC,KAAK0nC,oBAAsB5J,EAAO5mB,YAAY,CAAC4wB,EAAgBW,KAC7D,MAAMF,EAASvoC,KAAK+mC,YAAY5rD,IAAIstD,GACpC,OAAO,MAAAF,OAAA,EAAAA,EAAQL,UAAW,GACzB,OAGHloC,KAAK2nC,gBAAkB7J,EAAO5mB,YAAY,CAAC4wB,EAAgBW,KACzDzoC,KAAK+oC,WAAWN,IACf,OAGH3K,EAAO71C,SAAS+X,KAAKmnC,UAAYjB,EAAgB,EAAG,OACpDpI,EAAO71C,SAAS+X,KAAKmnC,UAAYhB,EAAgBnmC,KAAKonC,aAAc,OACpEtJ,EAAO71C,SAAS+X,KAAKmnC,UAAYf,EAAkBpmC,KAAKqnC,eAAgB,OACxEvJ,EAAO71C,SAAS+X,KAAKmnC,UAAYd,EAAgBrmC,KAAKsnC,aAAc,OACpExJ,EAAO71C,SAAS+X,KAAKmnC,UAAYb,EAAgBtmC,KAAKunC,aAAc,OACpEzJ,EAAO71C,SAAS+X,KAAKmnC,UAAYZ,EAAoBvmC,KAAKwnC,iBAAkB,OAC5E1J,EAAO71C,SAAS+X,KAAKmnC,UAAYX,EAAoBxmC,KAAKynC,iBAAkB,OAC5E3J,EAAO71C,SAAS+X,KAAKmnC,UAAYV,EAAuBzmC,KAAK0nC,oBAAqB,OAClF5J,EAAO71C,SAAS+X,KAAKmnC,UAAYT,EAAmB1mC,KAAK2nC,gBAAiB,OAG1EvhD,EAAOqhC,uBAAuBznB,KAAKmnC,WACnCnnC,KAAKknC,SAAU,EAEflnC,KAAKwlC,OAAOv/C,KACV0gD,EACAC,EACA,qDACA5rD,OAAOoa,KAAK4K,KAAK4nC,WAAWoB,OAEhC,CAAE,MAAOzrD,GAGP,MAFAyiB,KAAKwlC,OAAOjoD,MAAMopD,EAAYC,EAAc,qCAAsCrpD,GAClFyiB,KAAKipC,UACC1rD,CACR,MAzHEyiB,KAAKwlC,OAAOjoD,MACVopD,EACAC,EACA,kFAuHN,CAKAsC,OAAAA,GACOlpC,KAAKknC,SAAYlnC,KAAK5Z,SAK3B4Z,KAAK5Z,OAAOqhC,uBAAuB,GACnCznB,KAAKipC,UACLjpC,KAAKknC,SAAU,EAEflnC,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,iCAC9C,CAKQqC,OAAAA,GACN,IAAKjpC,KAAK5Z,OAAQ,OAElB,MAAM03C,EAAS99B,KAAK5Z,OAAO03C,OAGvB99B,KAAKmnC,YACPrJ,EAAOn5C,YAAY25C,KAAKt+B,KAAKmnC,WAC7BnnC,KAAKmnC,UAAY,GAInB,MAAMiC,EAAkBvhD,IACtB,GAAIA,GAAwC,oBAA1Bi2C,EAAOvlB,eACvB,IACEulB,EAAOvlB,eAAe1wB,EACxB,CAAE,MAEF,GAIJuhD,EAAeppC,KAAKonC,cACpBgC,EAAeppC,KAAKqnC,gBACpB+B,EAAeppC,KAAKsnC,cACpB8B,EAAeppC,KAAKunC,cACpB6B,EAAeppC,KAAKwnC,kBACpB4B,EAAeppC,KAAKynC,kBACpB2B,EAAeppC,KAAK0nC,qBACpB0B,EAAeppC,KAAK2nC,iBAEpB3nC,KAAKonC,aAAe,EACpBpnC,KAAKqnC,eAAiB,EACtBrnC,KAAKsnC,aAAe,EACpBtnC,KAAKunC,aAAe,EACpBvnC,KAAKwnC,iBAAmB,EACxBxnC,KAAKynC,iBAAmB,EACxBznC,KAAK0nC,oBAAsB,EAC3B1nC,KAAK2nC,gBAAkB,CACzB,CAKA/B,SAAAA,GACE,OAAO5lC,KAAKknC,OACd,CAKArB,QAAAA,GAKE,MAAO,CACLwD,YAAarpC,KAAK+mC,YAAY51C,KAC9Bm4C,UAAWtpC,KAAKgnC,UAAU71C,KAC1Bo4C,WAAYj7C,MAAM5B,KAAKsT,KAAKgnC,UAAU5xC,QAE1C,CAMA,kBAAMo0C,CAAaC,GACjB,MAAMC,EAAOD,EACVE,IAAKzB,GAAYloC,KAAK4pC,qBAAqB1B,IAC3C/8C,OAAQhN,GAA+B,OAARA,GAE5B0rD,EAAa,IAAI,IAAIhL,IAAI6K,UAEzB/uD,QAAQmvD,IACZD,EAAWF,IAAIvvD,UACb,IAAK4lB,KAAKgnC,UAAUjI,IAAI5gD,GACtB,IACE,MAAMvB,QAAaojB,KAAK+pC,eAAe5rD,GACnCvB,IACFojB,KAAKgnC,UAAU3rD,IAAI8C,EAAKvB,GACxBojB,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,oBAAoBzoD,KAEpE,CAAE,MAAOZ,GACPyiB,KAAKwlC,OAAOloD,KAAKqpD,EAAYC,EAAc,4BAA4BzoD,IAAOZ,EAChF,IAIR,CASQirD,OAAAA,CACNR,EACAC,EACAC,EACAC,EACAG,GAEA,MAAM0B,EAAqB,IAAZ/B,EAEfjoC,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,iBAAkB,CAC5DoB,SACAgC,SACA9B,UACAC,cACAG,SAGF,MAAM3iD,EAASqa,KAAKiqC,kBAAkB/B,EAASF,EAAQgC,GACvD,IAAKrkD,EAEH,OADAqa,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,kCAAkCsB,KACvE,EAIT,MAAMK,EAAqB,CACzBrrD,GAAI8iB,KAAKinC,eACTiB,UACAF,SACAgC,SACA7rD,IAAKwH,EAAOxH,IACZvB,KAAM,MAWR,OARAojB,KAAK+mC,YAAY1rD,IAAIktD,EAAOrrD,GAAIqrD,GAEhCvoC,KAAKwlC,OAAO2D,MACVxC,EACAC,EACA,uBAAuB2B,EAAOrrD,UAAUyI,EAAOxH,0BAA0B6pD,aAAkBgC,sBAA2BrkD,EAAOukD,yBAAyBvkD,EAAOwkD,kBAGxJ5B,EAAOrrD,EAChB,CAKQyrD,WAAAA,CACNyB,EACA1B,EACAjK,EACA7qB,GAEA,MAAM20B,EAASvoC,KAAK+mC,YAAY5rD,IAAIivD,GACpC,IAAK7B,EAEH,OADAvoC,KAAKwlC,OAAOloD,KAAKqpD,EAAYC,EAAc,wBAAwBwD,KAC5D,EAkBT,GAdK7B,EAAO3rD,OAENojB,KAAKgnC,UAAUjI,IAAIwJ,EAAOpqD,KAC5BoqD,EAAO3rD,KAAOojB,KAAKgnC,UAAU7rD,IAAIotD,EAAOpqD,MAIxCoqD,EAAO3rD,KAAOojB,KAAKqqC,cAAc9B,EAAOpqD,KACpCoqD,EAAO3rD,MACTojB,KAAKgnC,UAAU3rD,IAAIktD,EAAOpqD,IAAKoqD,EAAO3rD,SAKvC2rD,EAAO3rD,KAEV,OADAojB,KAAKwlC,OAAOloD,KAAKqpD,EAAYC,EAAc,wBAAwB2B,EAAOpqD,OACnE,EAGT,MAAMmsD,EAAW/B,EAAO3rD,KAIxB,GAAc,IAAV8rD,EAMF,OALA1oC,KAAKwlC,OAAO2D,MACVxC,EACAC,EACA,SAAS8B,mDAEJ,EAIT,GAAkB,IAAdjK,GAAmB7qB,EAAU02B,EAAS1lD,OACxC,OAAO0lD,EAAS1lD,OAIlB,GAAIob,KAAK5Z,OAAQ,CACf,MAAMyH,EAAOmS,KAAK5Z,OAAO03C,OAAOp+C,OAChCmO,EAAKxS,IAAIivD,EAAU7L,GAEnBz+B,KAAKwlC,OAAO2D,MACVxC,EACAC,EACA,UAAU0D,EAAS1lD,qCAAqCwlD,IAE5D,CAEA,OAAOE,EAAS1lD,MAClB,CAKQmkD,UAAAA,CAAWqB,GACjB,MAAM7B,EAASvoC,KAAK+mC,YAAY5rD,IAAIivD,GAChC7B,IACFvoC,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,wBAAwBwD,KAEpEpqC,KAAK+mC,YAAYtuB,OAAO2xB,GAE5B,CASQH,iBAAAA,CACN/B,EACAqC,EACAC,GAEA,MAAM,MAAExB,EAAA,YAAOyB,EAAA,QAAaC,GAAY1qC,KAAK4nC,WAEvC+C,EAAQ3B,EAAMd,IAA2BuC,EAC/C,IAAKE,EACH,OAAO,KAIT,MAAMC,EAAW5qC,KAAK6qC,oBAAoBF,GAC1C,GAAwB,IAApBC,EAAShmD,OACX,OAAO,KAIT,MAAMkmD,EAAO9qC,KAAK+qC,kBAAkBH,EAAUL,EAAiBC,GAG/D,IAAIrsD,EAAM2sD,EAAK3sD,IAUf,OAREusD,GACCvsD,EAAIJ,WAAW,YACfI,EAAIJ,WAAW,aACfI,EAAIJ,WAAW,OAEhBI,EAAM,GAAGusD,KAAWvsD,KAGf,CACLA,MACA+rD,cAAeY,EAAK9C,QAAU,IAC9BmC,cAAeW,EAAKd,SAAU,EAElC,CAKQa,mBAAAA,CAAoBF,GAC1B,MAAqB,kBAAVA,EACF,CAAC,CAAExsD,IAAKwsD,EAAO3C,OAAQ,IAAKgC,QAAQ,IAEzC17C,MAAM08C,QAAQL,GACTA,EAAMhB,IAAKsB,IAAA,CAChB9sD,IAAK8sD,EAAE9sD,IACP6pD,OAAQiD,EAAEjD,QAAU,IACpBgC,OAAQiB,EAAEjB,SAAU,KAGjB,CAAC,CAAE7rD,IAAKwsD,EAAMxsD,IAAK6pD,OAAQ2C,EAAM3C,QAAU,IAAKgC,OAAQW,EAAMX,SAAU,GACjF,CAQQe,iBAAAA,CACNH,EACAL,EACAC,GAEA,GAAwB,IAApBI,EAAShmD,OACX,OAAOgmD,EAAS,GAIlB,MAAMM,EAAgBN,EAASz/C,OAAQ8/C,IAAOA,EAAEjB,SAAU,KAAWQ,GAC/DW,EAAaD,EAActmD,OAAS,EAAIsmD,EAAgBN,EAG9D,IAAIQ,EAAYD,EAAW,GACvBE,EAAe1oD,KAAKspB,KAAKm/B,EAAUpD,QAAU,KAAOuC,GAExD,IAAK,MAAMe,KAAWH,EAAY,CAChC,MAAMI,EAAgBD,EAAQtD,QAAU,IAClCwD,EAAW7oD,KAAKspB,IAAIs/B,EAAgBhB,GAE1C,GAAIiB,EAAWH,EACbD,EAAYE,EACZD,EAAeG,OACV,GAAIA,IAAaH,EAAc,CAEpC,MAAMI,EAAgBL,EAAUpD,QAAU,IACtCuC,GAAmB,IAEjBgB,EAAgBE,IAClBL,EAAYE,GAIVC,EAAgBE,IAClBL,EAAYE,EAGlB,CACF,CAEA,OAAOF,CACT,CAKQxB,oBAAAA,CAAqB1B,GAC3B,MAAMviD,EAASqa,KAAKiqC,kBAAkB/B,EAAS,KAAK,GACpD,OAAO,MAAAviD,OAAA,EAAAA,EAAQxH,MAAO,IACxB,CAMQksD,aAAAA,CAAcqB,GAIpB,GAHA1rC,KAAKwlC,OAAO2D,MAAMxC,EAAYC,EAAc,gCAAgC8E,KAGxE1rC,KAAK4nC,WAAW+D,WAClB,IACE,MAAM/uD,EAAOojB,KAAK4nC,WAAW+D,WAAWD,GAcxC,OAbI9uD,EACFojB,KAAKwlC,OAAOv/C,KACV0gD,EACAC,EACA,kCAAkC8E,MAAc9uD,EAAKgI,iBAGvDob,KAAKwlC,OAAOloD,KACVqpD,EACAC,EACA,yCAAyC8E,KAGtC9uD,CACT,CAAE,MAAOW,GAOP,OANAyiB,KAAKwlC,OAAOjoD,MACVopD,EACAC,EACA,gCAAgC8E,IAChCnuD,GAEK,IACT,CAIF,IACE,MAAMa,EAAM,IAAIC,eAKhB,GAJAD,EAAIE,KAAK,MAAOotD,GAAW,GAC3BttD,EAAIG,aAAe,cACnBH,EAAII,OAEe,MAAfJ,EAAIY,OAAgB,CACtB,MAAMpC,EAAO,IAAID,WAAWyB,EAAIK,UAMhC,OALAuhB,KAAKwlC,OAAOv/C,KACV0gD,EACAC,EACA,gBAAgB8E,MAAc9uD,EAAKgI,iBAE9BhI,CACT,CAME,OALAojB,KAAKwlC,OAAOjoD,MACVopD,EACAC,EACA,wBAAwB8E,WAAmBttD,EAAIY,WAE1C,IAEX,CAAE,MAAOzB,GAEP,OADAyiB,KAAKwlC,OAAOjoD,MAAMopD,EAAYC,EAAc,wBAAwB8E,IAAanuD,GAC1E,IACT,CACF,CAMA,oBAAcwsD,CAAe2B,GAE3B,GAAI1rC,KAAK4nC,WAAW+D,WAClB,IAEE,OAAO3rC,KAAK4nC,WAAW+D,WAAWD,EACpC,CAAE,MACA,OAAO,IACT,CAIF,IACE,MAAMjtD,QAAiBE,MAAM+sD,GAC7B,GAAIjtD,EAASK,GAAI,CACf,MAAMwB,QAAe7B,EAASM,cAC9B,OAAO,IAAIpC,WAAW2D,EACxB,CACA,OAAO,IACT,CAAE,MACA,OAAO,IACT,CACF,ECvlBF,MAAMsrD,EAAa,eACbC,EAAe,SA8Bd,MAAMC,EA+BXhsC,WAAAA,CACUylC,EACRwG,EAA+B,CAAC,GADxB,KAAAxG,aAAAA,EAlBV,KAAQyG,wBAAyC,KAUjD,KAAQC,oBAAkD,KAWxD,MAAM,OAAEzG,EAAS,IAAIsB,EAAAA,GAAA,aAAcoF,GAAiBH,EAEpD/rC,KAAKwlC,OAASA,EACdxlC,KAAKkhC,cAAgB,IAAIoE,EAActlC,KAAKulC,aAAcvlC,KAAKwlC,QAC/DxlC,KAAKkjC,MAAQ,IAAIjC,EAASjhC,KAAKulC,aAAcvlC,KAAKkhC,eAE9ClhC,KAAKwlC,OAAOI,UAAU,WACxB5lC,KAAKgsC,wBAA0BxoD,YAAY,KACzCwc,KAAKkhC,cAAc6E,cAClB,MAIL/lC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAC5C7rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,QAAS,WAClE7rC,KAAKulC,aAAa/H,iBAClBx9B,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAO,WAG5DK,IACFlsC,KAAKisC,oBAAsB,IAAIpF,EAAoBqF,EAAclsC,KAAKwlC,QACtExlC,KAAKisC,oBAAoBpE,WAAW7nC,KAAKulC,cACzCvlC,KAAKwlC,OAAOv/C,KAAK2lD,EAAYC,EAAc,gCAE/C,CAOAO,OAAAA,GAgBE,OAfApsC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,WAC5C7rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,UAAW,QAAS,WAG3D7rC,KAAKisC,sBACPjsC,KAAKisC,oBAAoB/C,UACzBlpC,KAAKisC,oBAAsB,MAG7BjsC,KAAKulC,aAAa5hB,sBACd3jB,KAAKgsC,0BACPvoD,cAAcuc,KAAKgsC,yBACnBhsC,KAAKgsC,wBAA0B,MAEjChsC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,UAAW,MAAO,WACtDQ,EAAAA,EAAczxD,SAAQ,EAC/B,CAMA0xD,sBAAAA,GACE,OAAOtsC,KAAKisC,mBACd,CAGQM,WAAAA,CAAerkD,EAAekjB,GAEpC,MAAMxmB,EAA8B,GAApBsD,EAAMtD,OAAS,GACzBiD,EAAMmY,KAAKkhC,cAAc9C,OAAOx5C,GACtC,IAGE,OADAob,KAAKulC,aAAazH,OAAOplB,cAAcxwB,EAAOL,EAAKjD,GAC5CwmB,EAAGvjB,EACZ,CAAE,QACAmY,KAAKkhC,cAAc5C,KAAKz2C,EAC1B,CACF,CAGQ2kD,cAAAA,CACNxK,EACA52B,GAEA,MAAMve,EAAMm1C,GAAU,GAChBzrB,EAAqB,EAAb1pB,EAAIjI,OACZiD,EAAM0uB,EAAQvW,KAAKkhC,cAAc9C,OAAO7nB,GAASsqB,EAAY,GACnE,IACE,GAAItqB,EACF,IAAK,IAAI3rB,EAAI,EAAGA,EAAIiC,EAAIjI,OAAQgG,IAC9BoV,KAAKulC,aAAazH,OAAO71C,SAASJ,EAAU,EAAJ+C,EAAOiC,EAAIjC,GAAI,SAG3D,OAAOwgB,EAAGvjB,EAAKgF,EAAIjI,OACrB,CAAE,QACI2xB,GAAOvW,KAAKkhC,cAAc5C,KAAKz2C,EACrC,CACF,CAOA4kD,kBAAAA,CAAmBznD,EAAe+mD,GAChC/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,qBAAsB7mD,EAAM+mD,GACxE/rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,qBAAsB,QAAS7mD,EAAK9H,IAC/E,MAAMs6B,EAAQ,IAAI76B,WAAWqI,EAAK0nD,SAC5B9nD,EAAS4yB,EAAM5yB,OACf28C,EAAUvhC,KAAKkhC,cAAc9C,OAAOx5C,GAC1Cob,KAAKulC,aAAazH,OAAOp+C,OAAOrE,IAAIm8B,EAAO+pB,GAE3C,MAAMC,EAASxhC,KAAKulC,aAAalf,qBAAqBkb,EAAS38C,GAAQ,MAAAmnD,OAAA,EAAAA,EAASY,WAAY,IAE5F,IAAKnL,EAAQ,CACX,MAAMoL,EAAY5sC,KAAKulC,aAAa9gB,oBAKpC,OAJAzkB,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,oCAAoCe,KAChF5sC,KAAKkhC,cAAc5C,KAAKiD,GACxBvhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,qBAAsB,MAAO7mD,EAAK9H,IAEtEmvD,EAAAA,EAAcxxD,OAA0B,CAC7ColB,KAAM2sC,EACNC,QAAS,+BAEb,CAEA,MAAMtK,EAAYviC,KAAKulC,aAAaxgB,kBAAkByc,GAEhDvvB,EAAyB,GACzB66B,EAAU9sC,KAAKkhC,cAAc9C,OAAO,GAC1C,IAAK,IAAI5lB,EAAQ,EAAGA,EAAQ+pB,EAAW/pB,IAAS,CAC9C,MAAM7yB,EAASqa,KAAKulC,aAAangB,yBAAyBoc,EAAQhpB,EAAOs0B,GACzE,IAAKnnD,EAAQ,CACX,MAAMinD,EAAY5sC,KAAKulC,aAAa9gB,oBAUpC,OATAzkB,KAAKwlC,OAAOjoD,MACVquD,EACAC,EACA,wCAAwCe,KAE1C5sC,KAAKkhC,cAAc5C,KAAKwO,GACxB9sC,KAAKulC,aAAapiB,mBAAmBqe,GACrCxhC,KAAKkhC,cAAc5C,KAAKiD,GACxBvhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,qBAAsB,MAAO7mD,EAAK9H,IACtEmvD,EAAAA,EAAcxxD,OAA0B,CAC7ColB,KAAM2sC,EACNC,QAAS,mCAEb,CAEA,MAAMzN,EAAWp/B,KAAKulC,aAAa5oB,4BAA4B6kB,EAAQhpB,GAEjEu0B,EAAO,CACXv0B,QACArnB,KAAM,CACJuuC,MAAO1/B,KAAKulC,aAAazH,OAAOl2C,SAASklD,EAAS,SAClDlN,OAAQ5/B,KAAKulC,aAAazH,OAAOl2C,SAASklD,EAAU,EAAG,UAEzD1N,YAGFntB,EAAM5kB,KAAK0/C,EACb,CACA/sC,KAAKkhC,cAAc5C,KAAKwO,GAExB,MAAME,EAA4B,CAChC9vD,GAAI8H,EAAK9H,GACTqlD,YACAtwB,SAOF,OAJAjS,KAAKkjC,MAAM5B,YAAYt8C,EAAK9H,GAAIqkD,EAASC,GAEzCxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,qBAAsB,MAAO7mD,EAAK9H,IAEtEmvD,EAAAA,EAAczxD,QAAQoyD,EAC/B,CAOAC,WAAAA,CAAYC,GACVltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAAeqB,GAC3DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,QAASqB,EAAIhwD,IAEvE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAC9DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMQ,EAAcrtC,KAAKstC,aAAa7L,EAAID,OAAQ,gBAC5C+L,EAASvtC,KAAKstC,aAAa7L,EAAID,OAAQ,WAEvCgM,EAA8B,CAClCC,MAAOztC,KAAKstC,aAAa7L,EAAID,OAAQ,SACrCkM,OAAQ1tC,KAAKstC,aAAa7L,EAAID,OAAQ,UACtCmM,QAAS3tC,KAAKstC,aAAa7L,EAAID,OAAQ,WACvCoM,SAAU5tC,KAAKstC,aAAa7L,EAAID,OAAQ,YACxCqM,SAAU7tC,KAAKstC,aAAa7L,EAAID,OAAQ,YACxCsM,QAAS9tC,KAAKstC,aAAa7L,EAAID,OAAQ,WACvCuM,aAAcV,GAAeW,EAAAA,EAAAA,IAAcX,IAAgB,KAAQ,KACnEY,iBAAkBV,GAAUS,EAAAA,EAAAA,IAAcT,IAAW,KAAQ,KAC7DW,QAASluC,KAAKmuC,eAAe1M,EAAID,QACjC4M,OAAQpuC,KAAKquC,YAAY5M,EAAID,QAAQ,IAKvC,OAFAxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAE9DmvD,EAAAA,EAAczxD,QAAQ4yD,EAC/B,CAOAc,WAAAA,CAAYpB,EAAwBqB,GAClCvuC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAAeqB,EAAKqB,GAChEvuC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,QAASqB,EAAIhwD,IAEvE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAC9DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAM2B,EAAmD,CACvD,CAAC,QAAS,SACV,CAAC,SAAU,UACX,CAAC,UAAW,WACZ,CAAC,WAAY,YACb,CAAC,WAAY,YACb,CAAC,UAAW,YAGd,IAAI1vD,GAAK,EAGT,IAAK,MAAO2vD,EAAOt5C,KAAQq5C,EAAQ,CACjC,MAAMvD,EAAIsD,EAAKE,GACf,QAAU,IAANxD,EAAiB,SACrB,MAAMyD,EAAU,OAANzD,EAAa,KAAQA,EAC1BjrC,KAAK2uC,YAAYlN,EAAID,OAAQrsC,EAAKu5C,KAAI5vD,GAAK,EAClD,CAGA,MAAM8vD,EAAYA,CAChBH,EACAt5C,KAEA,MAAM81C,EAAIsD,EAAKE,GACf,QAAU,IAANxD,EAAiB,OACrB,GAAU,OAANA,EAEF,YADKjrC,KAAK2uC,YAAYlN,EAAID,OAAQrsC,EAAK,QAAOrW,GAAK,IAGrD,MAAMymB,EAAI0lC,EACJ4D,GAAMC,EAAAA,EAAAA,IAAcvpC,GACrBvF,KAAK2uC,YAAYlN,EAAID,OAAQrsC,EAAK05C,KAAM/vD,GAAK,IAUpD,GAPA8vD,EAAU,eAAgB,gBAC1BA,EAAU,mBAAoB,gBAET,IAAjBL,EAAKL,UACFluC,KAAK+uC,eAAetN,EAAID,OAAQ+M,EAAKL,SAAW,QAAOpvD,GAAK,SAG/C,IAAhByvD,EAAKH,OACP,IAAK,MAAOj5C,EAAKjN,KAAUlN,OAAOka,QAAQq5C,EAAKH,QACxCtP,EAAiB3pC,GAIjB6K,KAAK2uC,YAAYlN,EAAID,OAAQrsC,EAAKjN,GAAS,QAAOpJ,GAAK,GAH1DkhB,KAAKwlC,OAAOloD,KAAKsuD,EAAYC,EAAc,sCAAuC12C,GASxF,OAFA6K,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAE9D4B,EACHutD,EAAAA,EAAczxD,SAAQ,GACtByxD,EAAAA,EAAcxxD,OAAO,CACnBolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,oDAEjB,CAOAoC,iBAAAA,CAAkB/B,GAChBltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,oBAAqBqB,GACjEltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,oBAAqB,QAASqB,EAAIhwD,IAE7E,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,oBAAqB,MAAOqB,EAAIhwD,IACpEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMqC,EAAclvC,KAAKulC,aAAanhB,uBAAuBqd,EAAID,QAEjE,OAAO6K,EAAAA,EAAczxD,QAAQs0D,EAC/B,CAOAC,qBAAAA,CAAsBjC,GACpBltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,wBAAyBqB,GACrEltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,QAASqB,EAAIhwD,IAEjF,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,MAAOqB,EAAIhwD,IACxEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMqC,EAAclvC,KAAKulC,aAAalhB,2BAA2Bod,EAAID,QAErE,OAAO6K,EAAAA,EAAczxD,QAAQs0D,EAC/B,CAOAE,aAAAA,CAAclC,GACZltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,gBAAiBqB,GAC7DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,QAASqB,EAAIhwD,IAEzE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMwC,EAAmC,GAEnC1tC,EAAQ3B,KAAKulC,aAAa/f,uBAAuBic,EAAID,QAC3D,IAAK,IAAI52C,EAAI,EAAGA,EAAI+W,EAAO/W,IAAK,CAC9B,MAAM0kD,EAAkBtvC,KAAKulC,aAAa9f,wBAAwBgc,EAAID,OAAQ52C,GAExEyI,EAAWkrC,EAAgBv+B,KAAKulC,aAAazH,OAAQ,CAACx9C,EAAQk+C,IAC3Dx+B,KAAKulC,aAAanL,6BAA6BkV,EAAiBhvD,EAAQk+C,IAG3E+Q,EAAYhR,EAAgBv+B,KAAKulC,aAAazH,OAAQ,CAACx9C,EAAQk+C,IAEsB,EAAvFx+B,KAAKulC,aAAapL,8BAA8BmV,EAAiBhvD,EAAQk+C,IAIvEgR,EAAYjR,EAAgBv+B,KAAKulC,aAAazH,OAAQ,CAACx9C,EAAQk+C,IAC5Dx+B,KAAKulC,aAAahL,8BAA8B+U,EAAiBhvD,EAAQk+C,IAG5Eh5C,EAASu4C,EACb/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAajL,2BACvBgV,EACAhvD,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAGrBrG,EAAOgvB,EACX/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAa/K,yBAAyB8U,EAAiBhvD,EAAQmvD,GAE7EzvC,KAAKulC,aAAazH,OAAOr0C,cAGrBimD,EAAS1vC,KAAKulC,aAAalL,qCAAqCiV,GAEtED,EAAWhiD,KAAK,CACdgG,WACAk8C,YACAC,YACAhqD,SACAupB,OACA2gC,UAEJ,CAGA,OAFA1vC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAEhEmvD,EAAAA,EAAczxD,QAAQy0D,EAC/B,CAOAM,YAAAA,CAAazC,GACXltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,eAAgBqB,GAC5DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,QAASqB,EAAIhwD,IAExE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAM+C,EAAY5vC,KAAK6vC,iBAAiBpO,EAAID,OAAQ,GAIpD,OAFAxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAE/DmvD,EAAAA,EAAczxD,QAAQ,CAC3Bg1D,aAEJ,CAOAE,YAAAA,CAAa5C,EAAwB6C,GACnC/vC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,eAAgBqB,EAAK6C,GACjE/vC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,QAASqB,EAAIhwD,IAExE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,IAAK7sC,KAAKulC,aAAa3lB,mBAAmB6hB,EAAID,QAE5C,OADAxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,uCAKb,MAAMmD,EAAQA,CAACC,EAAmBC,K,MAEhC,IAAK,MAAMv5B,KAAQu5B,EAAO,CAExB,MAAMC,EAAQnwC,KAAKusC,YAAY51B,EAAK82B,OAAS,GAAK2C,GAChDpwC,KAAKulC,aAAa5lB,yBAAyB8hB,EAAID,OAAQyO,EAAWG,IAEpE,IAAKD,EAAO,OAAO,EAGnB,GAAIx5B,EAAKlB,OAAQ,CACf,MAAM46B,EAAKrwC,KAAKswC,oBAAoB7O,EAAID,OAAQ2O,EAAOx5B,EAAKlB,QAC5D,IAAK46B,EAAI,OAAO,CAClB,CAGA,GAAI,OAAAE,EAAA55B,EAAK65B,eAAL,EAAAD,EAAe3rD,OAAQ,CACzB,MAAMyrD,EAAKL,EAAMG,EAAOx5B,EAAK65B,UAC7B,IAAKH,EAAI,OAAO,CAClB,CAGF,CACA,OAAO,GAGHvxD,EAAKkxD,EAAoB,EAAGD,GAGlC,OAFA/vC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAEjE4B,EAMEutD,EAAAA,EAAczxD,SAAQ,GALpByxD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,iCAIf,CAOA4D,eAAAA,CAAgBvD,GACdltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,kBAAmBqB,GAC/DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,kBAAmB,QAASqB,EAAIhwD,IAE3E,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,kBAAmB,MAAOqB,EAAIhwD,IAClEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAM/tD,EAAKkhB,KAAKulC,aAAa3lB,mBAAmB6hB,EAAID,QAGpD,OAFAxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,kBAAmB,MAAOqB,EAAIhwD,IAElE4B,EACHutD,EAAAA,EAAczxD,SAAQ,GACtByxD,EAAAA,EAAcxxD,OAAO,CACnBolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,6BAEjB,CAOA6D,aAAAA,CACExD,EACAH,EACAhB,GAEA/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,aAAcqB,EAAKH,EAAMhB,GACrE/rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,QAAS,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEpF,MAAM0mB,EAAO,CAAEI,OAAQ,CAAE/rB,EAAG,EAAGisB,EAAG,GAAKruC,KAAM47C,EAAK57C,MAC5Cw/C,EAAO3wC,KAAK4wC,kBAAkB1D,EAAKH,EAAM7N,EAAM6M,GAGrD,OAFA/rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAO,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAE3Em4B,CACT,CAOAE,cAAAA,CACE3D,EACAH,EACA7N,EACA6M,GAEA/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,iBAAkBqB,EAAKH,EAAM7N,EAAM6M,GAC/E/rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,iBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMm4B,EAAO3wC,KAAK4wC,kBAAkB1D,EAAKH,EAAM7N,EAAM6M,GAGrD,OAFA/rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,iBAAkB,MAAO,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAE/Em4B,CACT,CAOAG,kBAAAA,CAAmB5D,EAAwBH,GACzC/sC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,qBAAsBqB,EAAKH,GACvE/sC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,qBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,qBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMkE,EAAc/wC,KAAKgxC,oBAAoBvP,EAAKsL,GAkBlD,OAhBA/sC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,qBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpBxY,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,qBACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,QAClBu4B,GAGK1E,EAAAA,EAAczxD,QAAQm2D,EAC/B,CAOAE,oBAAAA,CACE/D,EACAH,EACAmE,EACAC,GAEAnxC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,uBAAwBqB,EAAKH,EAAMmE,GAC/ElxC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B64B,EAAgBrxC,KAAKulC,aAAa5kB,qBAAqBywB,EAAQ/N,QAAS6N,EAAWr1D,MACzF,IAAKw1D,EAUH,OATArxC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEpB44B,EAAQxN,UAEDyI,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAamE,gBACnBzE,QAAS,kDAQb,IAJK0E,EAAAA,EAAAA,IAASL,EAAWh0D,MACvBg0D,EAAWh0D,IAAKs0D,EAAAA,EAAAA,QAGbxxC,KAAKyxC,eAAeJ,EAAe,KAAMH,EAAWh0D,IAGvD,OAFA8iB,KAAKulC,aAAarR,oBAAoBmd,GACtCD,EAAQxN,UACDyI,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAauE,mBACnB7E,QAAS,2CAIb,IAAK7sC,KAAK2xC,gBAAgB5E,EAAMsE,EAAeH,EAAWhS,MAUxD,OATAl/B,KAAKulC,aAAarR,oBAAoBmd,GACtCD,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAayE,iBACnB/E,QAAS,2CAIb,IAAIgF,GAAY,EAChB,OAAQX,EAAWr1D,MACjB,KAAKi2D,EAAAA,GAAqBC,IACxBF,EAAY7xC,KAAKgyC,aAAajF,EAAMqE,EAAQ/N,QAASgO,EAAeH,GACpE,MACF,KAAKY,EAAAA,GAAqBG,MACxBJ,EAAY7xC,KAAKkyC,gBACfzQ,EAAID,OACJuL,EACAqE,EAAQ/N,QACRgO,EACAH,EACA,MAAAC,OAAA,EAAAA,EAASgB,WAEX,MACF,KAAKL,EAAAA,GAAqBM,KACxBP,EAAY7xC,KAAKqyC,eAAetF,EAAMqE,EAAQ/N,QAASgO,EAAeH,GACtE,MACF,KAAKY,EAAAA,GAAqBQ,SACxBT,EAAY7xC,KAAKuyC,mBAAmBxF,EAAMqE,EAAQ/N,QAASgO,EAAeH,GAC1E,MACF,KAAKY,EAAAA,GAAqBU,KACxBX,EAAY7xC,KAAKyyC,eAAe1F,EAAMqE,EAAQ/N,QAASgO,EAAeH,GACtE,MACF,KAAKY,EAAAA,GAAqBY,SAC1B,KAAKZ,EAAAA,GAAqBa,QACxBd,EAAY7xC,KAAK4yC,eAAe7F,EAAMqE,EAAQ/N,QAASgO,EAAeH,GACtE,MACF,KAAKY,EAAAA,GAAqBe,OAC1B,KAAKf,EAAAA,GAAqBgB,OACxBjB,EAAY7xC,KAAK+yC,gBAAgBhG,EAAMqE,EAAQ/N,QAASgO,EAAeH,GACvE,MACF,KAAKY,EAAAA,GAAqBkB,UAC1B,KAAKlB,EAAAA,GAAqBmB,UAC1B,KAAKnB,EAAAA,GAAqBoB,SAC1B,KAAKpB,EAAAA,GAAqBqB,UACxBtB,EAAY7xC,KAAKozC,qBAAqBrG,EAAMqE,EAAQ/N,QAASgO,EAAeH,GAC5E,MAGJ,OAAKW,QAiBwB,IAAzBX,EAAWmC,UACbrzC,KAAKulC,aAAa9nB,sCAAsC4zB,EAAeH,EAAWmC,WAElFrzC,KAAKulC,aAAa/nB,6BAA6B6zB,GAGjDrxC,KAAKulC,aAAa/Q,yBAAyB4c,EAAQ/N,SAEnDrjC,KAAKulC,aAAarR,oBAAoBmd,GACtCD,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGb6zB,EAAAA,EAAczxD,QAAgBs2D,EAAWh0D,MAlC9C8iB,KAAKulC,aAAa3P,qBAAqBwb,EAAQ/N,QAASgO,GACxDD,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAamG,oBACnBzG,QAAS,0CAuBf,CAWA0G,oBAAAA,CACErG,EACAH,EACAmE,GAEAlxC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,uBAAwBqB,EAAKH,EAAMmE,GAC/ElxC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/BusB,EAAW/kC,KAAKwzC,oBAAoBpC,EAAQ/N,QAAS6N,EAAWh0D,IACtE,IAAK6nD,EASH,OARAqM,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAAEolB,KAAMktC,EAAAA,GAAasG,SAAU5G,QAAS,yBAItE,IAAK7sC,KAAK2xC,gBAAgB5E,EAAMhI,EAAUmM,EAAWhS,MAUnD,OATAl/B,KAAKulC,aAAarR,oBAAoB6Q,GACtCqM,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAayE,iBACnB/E,QAAS,8BAKb,IAAI/tD,GAAK,EACT,OAAQoyD,EAAWr1D,MAEjB,KAAKi2D,EAAAA,GAAqBC,IAExB,IAAK/xC,KAAKulC,aAAarY,wBAAwB6X,GAAW,MAC1DjmD,EAAKkhB,KAAKgyC,aAAajF,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GACxD,MAIF,KAAKY,EAAAA,GAAqBG,MACxBnzD,EAAKkhB,KAAKkyC,gBAAgBzQ,EAAID,OAAQuL,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GACvE,MAGF,KAAKY,EAAAA,GAAqBM,KACxBtzD,EAAKkhB,KAAKqyC,eAAetF,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAC1D,MAIF,KAAKY,EAAAA,GAAqBQ,SACxBxzD,EAAKkhB,KAAKuyC,mBAAmBxF,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAC9D,MAIF,KAAKY,EAAAA,GAAqBe,OAC1B,KAAKf,EAAAA,GAAqBgB,OACxBh0D,EAAKkhB,KAAK+yC,gBAAgBhG,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAC3D,MAIF,KAAKY,EAAAA,GAAqBU,KACxB1zD,EAAKkhB,KAAKyyC,eAAe1F,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAC1D,MAIF,KAAKY,EAAAA,GAAqBa,QAC1B,KAAKb,EAAAA,GAAqBY,SACxB5zD,EAAKkhB,KAAK4yC,eAAe7F,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAC1D,MAIF,KAAKY,EAAAA,GAAqBqB,UAC1B,KAAKrB,EAAAA,GAAqBkB,UAC1B,KAAKlB,EAAAA,GAAqBmB,UAC1B,KAAKnB,EAAAA,GAAqBoB,SAExBp0D,EAAKkhB,KAAKozC,qBAAqBrG,EAAMqE,EAAQ/N,QAAS0B,EAAUmM,GAChE,MAIF,QACEpyD,GAAK,EAwBT,OApBIA,SAC2B,IAAzBoyD,EAAWmC,UACbrzC,KAAKulC,aAAa9nB,sCAAsCsnB,EAAUmM,EAAWmC,WAE7ErzC,KAAKulC,aAAa/nB,6BAA6BunB,GAEjD/kC,KAAKulC,aAAa/Q,yBAAyB4c,EAAQ/N,UAIrDrjC,KAAKulC,aAAarR,oBAAoB6Q,GACtCqM,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGb15B,EACHutD,EAAAA,EAAczxD,SAAiB,GAC/ByxD,EAAAA,EAAcxxD,OAAgB,CAC5BolB,KAAMktC,EAAAA,GAAamG,oBACnBzG,QAAS,+BAEjB,CAOA6G,oBAAAA,CACExG,EACAH,EACAmE,GAEAlxC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,uBAAwBqB,EAAKH,EAAMmE,GAC/ElxC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OACrC,IAAI7yB,GAAS,EA8Bb,OA7BAA,EAASqa,KAAK2zC,uBAAuBvC,EAAQ/N,QAAS6N,EAAWh0D,IAC5DyI,GAQHA,EAASqa,KAAKulC,aAAa/Q,yBAAyB4c,EAAQ/N,SACvD19C,GACHqa,KAAKwlC,OAAOjoD,MACVquD,EACAC,EACA,kCACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,UAbtBxY,KAAKwlC,OAAOjoD,MACVquD,EACAC,EACA,8BACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SActB44B,EAAQxN,UAER5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAczxD,QAAQ+K,EAC/B,CAOAiuD,gBAAAA,CAAiB1G,EAAwBH,GACvC/sC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,mBAAoBqB,EAAKH,GACrE/sC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,mBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,mBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B+rB,EAAcvkC,KAAKulC,aAAa9I,kBAAkB2U,EAAQ/N,SAE1DwQ,EAAY7zC,KAAK8zC,kBAAkB/G,EAAMqE,EAAQ5P,OAAQ4P,EAAQ/N,QAASkB,GAYhF,OAVAvkC,KAAKulC,aAAa9K,mBAAmB8J,GACrC6M,EAAQxN,UAER5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,mBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAczxD,QAAQi5D,EAC/B,CAOAE,kBAAAA,CACE7G,EACAH,EACAhB,GAEA,MAAM,YAAEiI,EAAc,KAAMC,GAASlI,GAAW,CAAC,EACjD/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,kBAAmBqB,EAAKH,EAAMhB,GAC1E/rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,kBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,kBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMlnD,EAASqa,KAAK0wC,cAAcxD,EAAKH,EAAM,CAC3CiH,YAAarxD,KAAK5B,IAAIizD,EAAa,OAChCC,IAIL,OAFAj0C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,kBAAmB,MAAO,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEhF7yB,CACT,CAOAuuD,cAAAA,CAAehH,GACbltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,iBAAkBqB,GAC9DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,iBAAkB,QAASqB,EAAIhwD,IAE1E,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,iBAAkB,MAAOqB,EAAIhwD,IACjEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMsH,EAAqC,GAErCxyC,EAAQ3B,KAAKulC,aAAa1U,2BAA2B4Q,EAAID,QAC/D,IAAK,IAAI52C,EAAI,EAAGA,EAAI+W,EAAO/W,IAAK,CAC9B,MAAMwpD,EAAap0C,KAAKq0C,kBAAkB5S,EAAID,OAAQ52C,GACtDupD,EAAY9mD,KAAK+mD,EACnB,CAGA,OADAp0C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,iBAAkB,MAAOqB,EAAIhwD,IACjEmvD,EAAAA,EAAczxD,QAAQu5D,EAC/B,CAOAG,aAAAA,CAAcpH,EAAwBqH,GACpCv0C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,gBAAiBqB,EAAK,MAAAqH,OAAA,EAAAA,EAAQ/vD,MAC1Ewb,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,QAASqB,EAAIhwD,IAEzE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAM,KAAEroD,EAAA,YAAMgwD,EAAA,SAAaC,EAAA,KAAU73D,GAAS23D,GAAU,CAAC,EACzD,IAAK/vD,EAEH,OADAwb,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAasG,SACnB5G,QAAS,gCAGb,IAAKjwD,IAAyBD,WAAiC,IAApBC,EAAK+qB,YAE9C,OADA3H,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAasG,SACnB5G,QAAS,6BAKb,MAAM6H,EAAgB10C,KAAKusC,YAAY/nD,EAAOmwD,GAC5C30C,KAAKulC,aAAa/U,sBAAsBiR,EAAID,OAAQmT,IAGtD,IAAKD,EAGH,OADA10C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,wBAAwBroD,sBAIrCwb,KAAKusC,YAAYiI,EAAcI,GAC7B50C,KAAKulC,aAAa9lB,8BAA8Bi1B,EAAeE,IAGjE50C,KAAKulC,aAAa7lB,0BAA0Bg1B,EAAeD,GAG3D,MAAMI,EAAKj4D,aAAgBD,WAAaC,EAAO,IAAID,WAAWC,GACxD6Q,EAAMonD,EAAGltC,WAETmtC,EAAa90C,KAAKkhC,cAAc9C,OAAO3wC,GAC7C,IACEuS,KAAKulC,aAAazH,OAAOp+C,OAAOrE,IAAIw5D,EAAIC,GACxC,MAAMh2D,EAAKkhB,KAAKulC,aAAajX,uBAC3BomB,EACAjT,EAAID,OACJsT,EACArnD,GAEF,IAAK3O,EAEH,OADAkhB,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,oCAGf,CAAE,QACA7sC,KAAKkhC,cAAc5C,KAAKwW,EAC1B,CAGA,OADA90C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAczxD,SAAiB,EACxC,CAOAm6D,gBAAAA,CAAiB7H,EAAwBkH,GACvCp0C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,mBAAoBqB,EAAKkH,GACrEp0C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,mBAAoB,QAASqB,EAAIhwD,IAE5E,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,mBAAoB,MAAOqB,EAAIhwD,IACnEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMlrC,EAAQ3B,KAAKulC,aAAa1U,2BAA2B4Q,EAAID,QAC/D,GAAI4S,EAAW57B,MAAQ,GAAK47B,EAAW57B,OAAS7W,EAE9C,OADA3B,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,mBAAoB,MAAOqB,EAAIhwD,IACnEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,oBAAoBuH,EAAW57B,uBAI5C,MAAM15B,EAAKkhB,KAAKulC,aAAa7U,yBAAyB+Q,EAAID,OAAQ4S,EAAW57B,OAG7E,OAFAxY,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,mBAAoB,MAAOqB,EAAIhwD,IAErE4B,EAMEutD,EAAAA,EAAczxD,SAAiB,GAL7ByxD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,+BAIf,CAOAmI,qBAAAA,CAAsB9H,EAAwBkH,GAC5Cp0C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,wBAAyBqB,EAAKkH,GAC1Ep0C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,QAASqB,EAAIhwD,IAEjF,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,MAAOqB,EAAIhwD,IACxEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAM6H,EAAgB10C,KAAKulC,aAAa3U,sBAAsB6Q,EAAID,OAAQ4S,EAAW57B,OAC/Es0B,EAAU9sC,KAAKkhC,cAAc9C,OAAO,GAC1C,IAAKp+B,KAAKulC,aAAavX,uBAAuB0mB,EAAe,EAAG,EAAG5H,GAGjE,OAFA9sC,KAAKkhC,cAAc5C,KAAKwO,GACxB9sC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,MAAOqB,EAAIhwD,IACxEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa8H,uBACnBpI,QAAS,iCAGb,MAAM17C,EAAO6O,KAAKulC,aAAazH,OAAOl2C,SAASklD,EAAS,SAAW,EAE7DgI,EAAa90C,KAAKkhC,cAAc9C,OAAOjtC,GAC7C,IAAK6O,KAAKulC,aAAavX,uBAAuB0mB,EAAeI,EAAY3jD,EAAM27C,GAK7E,OAJA9sC,KAAKkhC,cAAc5C,KAAKwO,GACxB9sC,KAAKkhC,cAAc5C,KAAKwW,GACxB90C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,MAAOqB,EAAIhwD,IAExEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa+H,0BACnBrI,QAAS,oCAIb,MAAMvsD,EAAS,IAAImV,YAAYtE,GACzBlF,EAAO,IAAIyyC,SAASp+C,GAC1B,IAAK,IAAIsK,EAAI,EAAGA,EAAIuG,EAAMvG,IACxBqB,EAAK0yC,QAAQ/zC,EAAGoV,KAAKulC,aAAazH,OAAOl2C,SAASktD,EAAalqD,EAAG,OAOpE,OAJAoV,KAAKkhC,cAAc5C,KAAKwO,GACxB9sC,KAAKkhC,cAAc5C,KAAKwW,GACxB90C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,wBAAyB,MAAOqB,EAAIhwD,IAExEmvD,EAAAA,EAAczxD,QAAQ0F,EAC/B,CAOA60D,iBAAAA,CACEjI,EACAH,EACAmE,EACAhpD,GAEA8X,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,oBAAqBqB,EAAKgE,EAAYhpD,GAClF8X,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,QACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAG1B,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EASH,OARAzhC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,oBAAqB,0BACjE7rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAEnBmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuI,EAAkBp1C,KAAKulC,aAAa5H,6BACpC6G,EAAaxkC,KAAKulC,aAAa9H,kCACnCgE,EAAID,OACJ4T,GAGIhE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAErCxY,KAAKulC,aAAazjB,qBAAqBsvB,EAAQ/N,QAASmB,GAExD,MAAM6M,EAAgBrxC,KAAKwzC,oBAAoBpC,EAAQ/N,QAAS6N,EAAWh0D,IAE3E,IAAKm0D,EASH,OARAD,EAAQxN,UACR5jC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEb6zB,EAAAA,EAAcxxD,OAAO,CAAEolB,KAAMktC,EAAAA,GAAasG,SAAU5G,QAAS,yBAGtE,IAAK7sC,KAAKulC,aAAaxiB,qBAAqByhB,EAAY6M,GAoBtD,OAnBArxC,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,oBACA,oCAEF7rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAE1B8iB,KAAKulC,aAAarR,oBAAoBmd,GACtCrxC,KAAKulC,aAAaxjB,uBAAuBqvB,EAAQ/N,QAASmB,GAC1D4M,EAAQxN,UACR5jC,KAAKulC,aAAalI,kCAAkCmH,GACpDxkC,KAAKulC,aAAanI,4BAA4BgY,GAEvC/I,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAakI,eACnBxI,QAAS,qCAIb,OAAQ3kD,EAAMotD,MACZ,IAAK,OACH,CACE,IAAKt1C,KAAKulC,aAAaziB,mBAAmB0hB,EAAY4M,EAAQ/N,SAqB5D,OApBArjC,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,oBACA,6BAEF7rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAE1B8iB,KAAKulC,aAAa9jB,sBAAsB+iB,GACxCxkC,KAAKulC,aAAarR,oBAAoBmd,GACtCrxC,KAAKulC,aAAaxjB,uBAAuBqvB,EAAQ/N,QAASmB,GAC1D4M,EAAQxN,UACR5jC,KAAKulC,aAAalI,kCAAkCmH,GACpDxkC,KAAKulC,aAAanI,4BAA4BgY,GAEvC/I,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaoI,eACnB1I,QAAS,8BAGb,MAAMjoD,EAAS,GAAKsD,EAAM/H,KAAKyE,OAAS,GAClC4wD,EAAUx1C,KAAKkhC,cAAc9C,OAAOx5C,GAC1Cob,KAAKulC,aAAazH,OAAOplB,cAAcxwB,EAAM/H,KAAMq1D,EAAS5wD,GAC5Dob,KAAKulC,aAAa1iB,sBAAsB2hB,EAAY4M,EAAQ/N,QAASmS,GACrEx1C,KAAKkhC,cAAc5C,KAAKkX,EAC1B,CACA,MACF,IAAK,YAED,IACGx1C,KAAKulC,aAAaviB,sBACjBwhB,EACA4M,EAAQ/N,QACRn7C,EAAMswB,MACNtwB,EAAMutD,YAuBR,OApBAz1C,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,oBACA,gCAEF7rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAE1B8iB,KAAKulC,aAAa9jB,sBAAsB+iB,GACxCxkC,KAAKulC,aAAarR,oBAAoBmd,GACtCrxC,KAAKulC,aAAaxjB,uBAAuBqvB,EAAQ/N,QAASmB,GAC1D4M,EAAQxN,UACR5jC,KAAKulC,aAAalI,kCAAkCmH,GACpDxkC,KAAKulC,aAAanI,4BAA4BgY,GAEvC/I,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAauI,iBACnB7I,QAAS,iCAIf,MACF,IAAK,UACH,CACE,MAAM8I,EAAU,GAChB,IAAK31C,KAAKulC,aAAavjB,YAAYwiB,EAAY4M,EAAQ/N,QAASsS,EAAS,GAqBvE,OApBA31C,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,oBACA,+BAEF7rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,oBACA,MACA,GAAGqB,EAAIhwD,MAAMg0D,EAAWh0D,MAE1B8iB,KAAKulC,aAAa9jB,sBAAsB+iB,GACxCxkC,KAAKulC,aAAarR,oBAAoBmd,GACtCrxC,KAAKulC,aAAaxjB,uBAAuBqvB,EAAQ/N,QAASmB,GAC1D4M,EAAQxN,UACR5jC,KAAKulC,aAAalI,kCAAkCmH,GACpDxkC,KAAKulC,aAAanI,4BAA4BgY,GAEvC/I,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAayI,eACnB/I,QAAS,+BAGf,CACA,MAYJ,OATA7sC,KAAKulC,aAAa9jB,sBAAsB+iB,GAExCxkC,KAAKulC,aAAarR,oBAAoBmd,GACtCrxC,KAAKulC,aAAaxjB,uBAAuBqvB,EAAQ/N,QAASmB,GAC1D4M,EAAQxN,UAER5jC,KAAKulC,aAAalI,kCAAkCmH,GACpDxkC,KAAKulC,aAAanI,4BAA4BgY,GAEvC/I,EAAAA,EAAczxD,SAAiB,EACxC,CAOAi7D,WAAAA,CACE3I,EACAH,EACAhB,GAEA,MAAM,KAAEppC,EAAOmzC,EAAAA,GAAmBC,SAAYhK,GAAW,CAAC,EAC1D/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAAeqB,EAAKH,EAAMpqC,GACtE3C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,QAASqB,EAAIhwD,IAEvE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAC9DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B7yB,EAASqa,KAAKulC,aAAajR,iBAAiB8c,EAAQ/N,QAAS1gC,GAKnE,OAJAyuC,EAAQxN,UAER5jC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAE9DmvD,EAAAA,EAAczxD,QAAQ+K,EAC/B,CAOAqwD,YAAAA,CAAa9I,EAAwB+I,GACnCj2C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,eAAgBqB,EAAK+I,GACjEj2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,QAASqB,EAAIhwD,IAExE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMqJ,EAAYl2C,KAAKulC,aAAa9hB,yBACpC,IAAKyyB,EAEH,OADAl2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAagJ,iBACnBtJ,QAAS,gCAIb,MAAMuJ,EAAiBp2C,KAAKkhC,cAAc9C,OAA4B,EAArB6X,EAAYrxD,QAC7D,IAAK,IAAIgG,EAAI,EAAGA,EAAIqrD,EAAYrxD,OAAQgG,IACtCoV,KAAKulC,aAAazH,OAAO71C,SAASmuD,EAAqB,EAAJxrD,EAAOqrD,EAAYrrD,GAAI,OAG5E,IACGoV,KAAKulC,aAAavf,wBACjBkwB,EACAzU,EAAID,OACJ4U,EACAH,EAAYrxD,OACZ,GAKF,OAFAob,KAAKulC,aAAapiB,mBAAmB+yB,GACrCl2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAakJ,gBACnBxJ,QAAS,yCAIb,MAAMvsD,EAAS0f,KAAKs2C,aAAaJ,GAKjC,OAHAl2C,KAAKulC,aAAapiB,mBAAmB+yB,GAErCl2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,MAAOqB,EAAIhwD,IAC/DmvD,EAAAA,EAAczxD,QAAQ0F,EAC/B,CAOAi2D,WAAAA,CAAYrJ,EAAwB+I,GAClCj2C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAAeqB,EAAK+I,GAChEj2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,QAASqB,EAAIhwD,IAEvE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAC9DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMh6B,EAAoB,GAC1B,IAAK,IAAIjoB,EAAI,EAAGA,EAAIqrD,EAAYrxD,OAAQgG,IAAK,CAC3C,MAAMwmD,EAAU3P,EAAImB,YAAYqT,EAAYrrD,IACtC25C,EAAcvkC,KAAKulC,aAAa9I,kBAAkB2U,EAAQ/N,SAC1DmT,EAAYx2C,KAAKulC,aAAa7K,oBAAoB6J,GAClD9F,EAAYz+B,KAAKkhC,cAAc9C,OAAyB,GAAjBoY,EAAY,IACzDx2C,KAAKulC,aAAavJ,iBAAiBuI,EAAa,EAAGiS,EAAW/X,GAC9D,MAAMgY,EAAOz2C,KAAKulC,aAAazH,OAAO1oB,cAAcqpB,GACpDz+B,KAAKkhC,cAAc5C,KAAKG,GACxB5rB,EAAQxlB,KAAKopD,GACbz2C,KAAKulC,aAAa9K,mBAAmB8J,GACrC6M,EAAQxN,SACV,CAEA,MAAMzjD,EAAO0yB,EAAQxnB,KAAK,QAE1B,OADA2U,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IAC9DmvD,EAAAA,EAAczxD,QAAQuF,EAC/B,CAOAu2D,aAAAA,CAAcxJ,EAAwByJ,GAKpC,GAJA32C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,gBAAiBqB,EAAKyJ,GAClE32C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,QAASqB,EAAIhwD,IAGnD,IAAlBy5D,EAAO/xD,OAET,OADAob,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAczxD,QAAkB,IAIzC,MAAM6mD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,IAEE,MAAM5tD,EAAM,IAAIqP,MAAcqoD,EAAO/xD,QAG/BgyD,EAAA,IAAavV,IACnBsV,EAAO77D,QAAQ,CAAC4zD,EAAG9jD,MAChBgsD,EAAOz7D,IAAIuzD,EAAEmI,YAAcD,EAAOv7D,IAAIqzD,EAAEmI,UAAW,IAAI17D,IAAIuzD,EAAEmI,YAAaxpD,KAAK,CAC9E9C,MAAOmkD,EACP5+C,IAAKlF,MAIT,IAAK,MAAOi4C,EAASkN,KAAS6G,EAAQ,CACpC,MAAMxF,EAAU3P,EAAImB,YAAYC,GAC1B0B,EAAc6M,EAAQ1M,cAE5B,IAAK,MAAM,MAAEn6C,EAAA,IAAOuF,KAASigD,EAAM,CACjC,MAAM+G,EAAS92C,KAAKkhC,cAAc9C,OAAO,GAAK7zC,EAAMisD,UAAY,IAChEx2C,KAAKulC,aAAavJ,iBAAiBuI,EAAah6C,EAAMwsD,UAAWxsD,EAAMisD,UAAWM,GAClF73D,EAAI6Q,IAAOknD,EAAAA,EAAAA,IAAwBh3C,KAAKulC,aAAazH,OAAO1oB,cAAc0hC,IAC1E92C,KAAKkhC,cAAc5C,KAAKwY,EAC1B,CACA1F,EAAQxN,SACV,CAGA,OADA5jC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAczxD,QAAQqE,EAC/B,CAAE,MAAO8E,GAGP,OAFAic,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,sBAAuB9nD,GACnEic,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAASvjD,OAAOvF,IAEpB,CACF,CAOAkzD,KAAAA,CAAMC,GACJl3C,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,QAASqL,GACrD,MAAMC,EAAUD,EAAMvN,IAAKyN,GAASA,EAAKl6D,IAAImO,KAAK,KAClD2U,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,QAAS,QAASsL,GAE7D,MAAMjB,EAAYl2C,KAAKulC,aAAa9hB,yBACpC,IAAKyyB,EAEH,OADAl2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,QAAS,MAAOsL,GACpD9K,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAagJ,iBACnBtJ,QAAS,gCAIb,MAAMwK,EAAmD,GACzD,IAAK,MAAMD,KAAQF,EAAM7tC,UAAW,CAClC,MAAMmO,EAAQ,IAAI76B,WAAWy6D,EAAK1K,SAC5B9nD,EAAS4yB,EAAM5yB,OACf28C,EAAUvhC,KAAKkhC,cAAc9C,OAAOx5C,GAC1Cob,KAAKulC,aAAazH,OAAOp+C,OAAOrE,IAAIm8B,EAAO+pB,GAE3C,MAAMC,EAASxhC,KAAKulC,aAAalf,qBAAqBkb,EAAS38C,EAAQ,IACvE,IAAK48C,EAAQ,CACX,MAAMoL,EAAY5sC,KAAKulC,aAAa9gB,oBACpCzkB,KAAKwlC,OAAOjoD,MACVquD,EACAC,EACA,oCAAoCe,KAEtC5sC,KAAKkhC,cAAc5C,KAAKiD,GAExB,IAAK,MAAM15C,KAAOwvD,EAChBr3C,KAAKulC,aAAapiB,mBAAmBt7B,EAAI25C,QACzCxhC,KAAKkhC,cAAc5C,KAAKz2C,EAAI05C,SAI9B,OADAvhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,QAAS,MAAOsL,GACpD9K,EAAAA,EAAcxxD,OAAgB,CACnColB,KAAM2sC,EACNC,QAAS,+BAEb,CAGA,GAFAwK,EAAKhqD,KAAK,CAAEk0C,UAASC,YAEhBxhC,KAAKulC,aAAaxf,iBAAiBmwB,EAAW1U,EAAQ,GAAI,GAAI,CACjExhC,KAAKulC,aAAapiB,mBAAmB+yB,GAErC,IAAK,MAAMruD,KAAOwvD,EAChBr3C,KAAKulC,aAAapiB,mBAAmBt7B,EAAI25C,QACzCxhC,KAAKkhC,cAAc5C,KAAKz2C,EAAI05C,SAI9B,OADAvhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,QAAS,MAAOsL,GACpD9K,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAakJ,gBACnBxJ,QAAS,wCAEb,CACF,CACA,MAAMvsD,EAAS0f,KAAKs2C,aAAaJ,GAEjCl2C,KAAKulC,aAAapiB,mBAAmB+yB,GAErC,IAAK,MAAMruD,KAAOwvD,EAChBr3C,KAAKulC,aAAapiB,mBAAmBt7B,EAAI25C,QACzCxhC,KAAKkhC,cAAc5C,KAAKz2C,EAAI05C,SAG9B,MAAMv8C,EAAgB,CACpB9H,GAAI,GAAGyF,KAAKW,WACZopD,QAASpsD,GAGX,OADA0f,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,QAAS,MAAOsL,GACpD9K,EAAAA,EAAczxD,QAAQoK,EAC/B,CASAsyD,UAAAA,CAAWC,GACT,MAAMC,EAAYD,EACf5N,IAAKxI,GAAW,GAAGA,EAAOS,SAAST,EAAOsW,YAAYpsD,KAAK,QAC3DA,KAAK,KACR2U,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,aAAc0L,GAC1Dv3C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,QAAS2L,GAGlE,MAAMtB,EAAYl2C,KAAKulC,aAAa9hB,yBACpC,IAAKyyB,EAEH,OADAl2C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAO2L,GACzDnL,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAagJ,iBACnBtJ,QAAS,+BAIb,IAGE,IAAK,MAAM1L,IAAU,IAAIoW,GAAcluC,UAAW,CAEhD,MAAMo4B,EAAMzhC,KAAKkjC,MAAMvB,WAAWR,EAAOS,OAEzC,IAAKH,EAAK,CACRzhC,KAAKwlC,OAAOloD,KACVsuD,EACAC,EACA,YAAY1K,EAAOS,+BAErB,QACF,CAGA,MAAMW,EAAYviC,KAAKulC,aAAaxgB,kBAAkB0c,EAAID,QAGpDkW,EAAmBvW,EAAOsW,YAAYtsD,OACzCqtB,GAAUA,GAAS,GAAKA,EAAQ+pB,GAGnC,GAAgC,IAA5BmV,EAAiB9yD,OACnB,SAIF,MAAM+yD,EAAaD,EAAiB/N,IAAKnxB,GAAUA,EAAQ,GAAGntB,KAAK,KAEnE,IAEE,IACG2U,KAAKulC,aAAaxf,iBACjBmwB,EACAzU,EAAID,OACJmW,EACA,GAGF,MAAM,IAAIn7D,MAAM,0BAA0Bm7D,mBAA4BxW,EAAOS,QAEjF,CAAE,QACF,CACF,CAGA,MAAMthD,EAAS0f,KAAKs2C,aAAaJ,GAE3BlxD,EAAgB,CACpB9H,GAAI,GAAGyF,KAAKW,WACZopD,QAASpsD,GAIX,OADA0f,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAO2L,GACzDnL,EAAAA,EAAczxD,QAAQoK,EAC/B,CAAE,MAAOzH,GAIP,OAHAyiB,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,oBAAqBtuD,GACjEyiB,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAO2L,GAEzDnL,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAakJ,gBACnBxJ,QAAStvD,aAAiBf,MAAQe,EAAMsvD,QAAU,yBAEtD,CAAE,QAEIqJ,GACFl2C,KAAKulC,aAAapiB,mBAAmB+yB,EAEzC,CACF,CAOA0B,UAAAA,CAAW1K,GACTltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,aAAcqB,GAC1DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,QAASqB,EAAIhwD,IAEtE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAOqB,EAAIhwD,IAC7DmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAMvsD,EAAS0f,KAAKs2C,aAAa7U,EAAID,QAGrC,OADAxhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,aAAc,MAAOqB,EAAIhwD,IAC7DmvD,EAAAA,EAAczxD,QAAQ0F,EAC/B,CAOAuhD,aAAAA,CAAcqL,GACZltC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,gBAAiBqB,GAC7DltC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,QAASqB,EAAIhwD,IAEzE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,OAAKukD,GAELA,EAAIK,UACJ9hC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAczxD,SAAQ,IAJZyxD,EAAAA,EAAczxD,SAAQ,EAKzC,CAOAmnD,iBAAAA,GAKE,OAJA/hC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,qBAC5C7rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,oBAAqB,SAChE7rC,KAAKkjC,MAAMnB,oBACX/hC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,oBAAqB,OACzDQ,EAAAA,EAAczxD,SAAQ,EAC/B,CAYQy3D,cAAAA,CACNtF,EACA1J,EACAgO,EACAH,GAEA,QAAKlxC,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,QAGvE69C,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,aAGnEpuC,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,QAG9DwD,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,eAIhF5G,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,cAKlEsqC,EAAW8G,cACVh4C,KAAKi4C,eAAe5U,EAASgO,EAAeH,EAAW8G,kBAIrDh4C,KAAKk4C,kBAAkB7G,EAAeH,EAAWiH,MAAQC,EAAAA,GAAkBC,aAI7Er4C,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OAAS,CAAC,QAAS,SAAU,iBAI9Es7C,EAAWqH,QAAUv4C,KAAKyxC,eAAeJ,EAAe,QAASH,EAAWqH,WAI9ErH,EAAWsH,aACVx4C,KAAKyxC,eAAeJ,EAAe,aAAcH,EAAWsH,oBAKjE,CAYQjG,kBAAAA,CACNxF,EACA1J,EACAgO,EACAH,GAEA,GACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,SAElE,OAAO,EAET,GAAIsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,QACtE,OAAO,EAET,GAAI8C,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OACzE,OAAO,EAET,GAAIs7C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,UAChF,OAAO,EAET,IAAK93C,KAAKy4C,eAAepH,EAAeqH,EAAAA,GAAyBC,MAAO,GACtE,OAAO,EAET,IAAK34C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,IACzE,OAAO,EAET,IAAK2M,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,IAChE,OAAO,EAET,IAAK1tC,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,GAClE,OAAO,EAET,IAAK74C,KAAK84C,2BAA2BzH,EAAeH,EAAW6H,WAC7D,OAAO,EAET,IAAK/4C,KAAKg5C,+BAA+B3H,EAAeH,EAAW+H,eACjE,OAAO,EAET,IACGj5C,KAAKk5C,+BACJ7H,EACAH,EAAWiI,WACXjI,EAAWkI,SACXlI,EAAWmI,WAGb,OAAO,EAET,GAAInI,EAAWoI,SAAWt5C,KAAKu5C,eAAelI,EAAeH,EAAWoI,QACtE,OAAO,EAET,GAAKpI,EAAWsI,iBAAkD,gBAA/BtI,EAAWsI,iBAIvC,IACJx5C,KAAKy5C,mBACJpI,EACAH,EAAWsI,iBAAmB,UAC9BE,EAAAA,GAAuBC,OAGzB,OAAO,OAVP,IAAK35C,KAAKulC,aAAahoB,qBAAqB8zB,EAAeqI,EAAAA,GAAuBC,OAChF,OAAO,EAWX,OAAO,CACT,CAYQ3H,YAAAA,CACNjF,EACA1J,EACAgO,EACAH,GAEA,QACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,cAIhEsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,aAGpE8C,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,YAGvEs7C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,eAG7E93C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,QAIxE2M,KAAKy4C,eAAepH,EAAeqH,EAAAA,GAAyBC,MAAOzH,EAAW0I,iBAI5E55C,KAAK65C,WAAW9M,EAAMsE,EAAeH,EAAW4I,aAGhD95C,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,QAG7D1tC,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,MAIjE74C,KAAKy5C,mBACJpI,EACAH,EAAW6I,OAAS,UACpBL,EAAAA,GAAuBC,cAO7B,CAYQlH,cAAAA,CACN1F,EACA1J,EACAgO,EACAH,G,QAEA,GACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,SAElE,OAAO,EAET,GAAIsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,QACtE,OAAO,EAET,GAAI8C,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OACzE,OAAO,EAET,GAAIs7C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,UAChF,OAAO,EAET,IACG93C,KAAKg6C,cACJjN,EACAsE,EACAH,EAAW+I,WAAWntD,MACtBokD,EAAW+I,WAAWltD,KAGxB,OAAO,EAET,IACGiT,KAAKk6C,eACJ7I,GACA,OAAAd,EAAAW,EAAWiJ,kBAAX,EAAA5J,EAAwBzjD,QAASstD,EAAAA,GAAwBC,MACzD,OAAAC,EAAApJ,EAAWiJ,kBAAX,EAAAG,EAAwBvtD,MAAOqtD,EAAAA,GAAwBC,MAGzD,OAAO,EAET,IAAKr6C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,IACzE,OAAO,EAET,IAAK2M,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,IAChE,OAAO,EAET,IAAK1tC,KAAKy4C,eAAepH,EAAeH,EAAWqJ,YAAarJ,EAAW0I,aACzE,OAAO,EAET,IAAK55C,KAAKw6C,qBAAqBnJ,EAAeH,EAAWuJ,iBAAmB,IAC1E,OAAO,EAET,GAAIvJ,EAAWoI,SAAWt5C,KAAKu5C,eAAelI,EAAeH,EAAWoI,QACtE,OAAO,EAET,GAAKpI,EAAW6I,OAA8B,gBAArB7I,EAAW6I,OAM7B,IACJ/5C,KAAKy5C,mBACJpI,EACAH,EAAW6I,OAAS,UACpBL,EAAAA,GAAuBgB,eAGzB,OAAO,OAZP,IACG16C,KAAKulC,aAAahoB,qBAAqB8zB,EAAeqI,EAAAA,GAAuBgB,eAE9E,OAAO,EAWX,QAAK16C,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,MAIjE74C,KAAKy5C,mBACJpI,EACAH,EAAWyJ,aAAe,UAC1BjB,EAAAA,GAAuBC,MAM7B,CAYQ/G,cAAAA,CACN7F,EACA1J,EACAgO,EACAH,G,QAEA,GACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,SAElE,OAAO,EAET,GAAIsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,QACtE,OAAO,EAET,GAAI8C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,UAChF,OAAO,EAET,GAAI5G,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OACzE,OAAO,EAET,GACEs7C,EAAWr1D,OAASi2D,EAAAA,GAAqBY,WACxC1yC,KAAKk6C,eACJ7I,GACA,OAAAd,EAAAW,EAAWiJ,kBAAX,EAAA5J,EAAwBzjD,QAASstD,EAAAA,GAAwBC,MACzD,OAAAC,EAAApJ,EAAWiJ,kBAAX,EAAAG,EAAwBvtD,MAAOqtD,EAAAA,GAAwBC,MAGzD,OAAO,EAET,IAAKr6C,KAAK46C,mBAAmB7N,EAAMsE,EAAeH,EAAW2J,UAC3D,OAAO,EAET,IAAK76C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,IACzE,OAAO,EAET,IAAK2M,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,IAChE,OAAO,EAET,IAAK1tC,KAAKy4C,eAAepH,EAAeH,EAAWqJ,YAAarJ,EAAW0I,aACzE,OAAO,EAET,IAAK55C,KAAKw6C,qBAAqBnJ,EAAeH,EAAWuJ,iBAAmB,IAC1E,OAAO,EAET,GAAIvJ,EAAWoI,SAAWt5C,KAAKu5C,eAAelI,EAAeH,EAAWoI,QACtE,OAAO,EAET,GAAKpI,EAAW6I,OAA8B,gBAArB7I,EAAW6I,OAM7B,IACJ/5C,KAAKy5C,mBACJpI,EACAH,EAAW6I,OAAS,UACpBL,EAAAA,GAAuBgB,eAGzB,OAAO,OAZP,IACG16C,KAAKulC,aAAahoB,qBAAqB8zB,EAAeqI,EAAAA,GAAuBgB,eAE9E,OAAO,EAWX,QAAK16C,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,MAIjE74C,KAAKy5C,mBACJpI,EACAH,EAAWyJ,aAAe,UAC1BjB,EAAAA,GAAuBC,MAO7B,CAYA5G,eAAAA,CACEhG,EACA1J,EACAgO,EACAH,GAEA,GACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,SAElE,OAAO,EAET,GAAIsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,QACtE,OAAO,EAET,GAAI8C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,UAChF,OAAO,EAET,IAAK93C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,IACzE,OAAO,EAET,IAAK2M,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,IAChE,OAAO,EAET,IAAK1tC,KAAKy4C,eAAepH,EAAeH,EAAWqJ,YAAarJ,EAAW0I,aACzE,OAAO,EAET,IAAK55C,KAAKw6C,qBAAqBnJ,EAAeH,EAAWuJ,iBAAmB,IAC1E,OAAO,EAET,IAAKz6C,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OACrD,OAAO,EAET,GAAKs7C,EAAW6I,OAA8B,gBAArB7I,EAAW6I,OAM7B,IACJ/5C,KAAKy5C,mBACJpI,EACAH,EAAW6I,OAAS,UACpBL,EAAAA,GAAuBgB,eAGzB,OAAO,OAZP,IACG16C,KAAKulC,aAAahoB,qBAAqB8zB,EAAeqI,EAAAA,GAAuBgB,eAE9E,OAAO,EAWX,QAAK16C,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,MAIjE74C,KAAKy5C,mBACJpI,EACAH,EAAWyJ,aAAe,UAC1BjB,EAAAA,GAAuBC,MAO7B,CAWAvG,oBAAAA,CACErG,EACA1J,EACAgO,EACAH,GAMA,QACEA,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,cAIhEsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,aAGpE8C,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,YAGvEs7C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,eAG7E93C,KAAK86C,mBAAmB/N,EAAMsE,EAAeH,EAAW6J,kBAGxD/6C,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,QAGtE2M,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,QAG7D1tC,KAAK44C,qBAAqBvH,EAAeH,EAAW2H,SAAW,MAIjE74C,KAAKy5C,mBACJpI,EACAH,EAAW6I,OAAS,UACpBL,EAAAA,GAAuBC,aAO7B,CAcAzH,eAAAA,CACE1Q,EACAuL,EACA1J,EACAgO,EACAH,EACAiB,GAEA,GACEjB,EAAWtqC,UACV5G,KAAK+3C,kBAAkB1G,EAAe,eAAgBH,EAAWtqC,SAElE,OAAO,EAET,GAAIsqC,EAAW9C,SAAWpuC,KAAK63C,eAAexG,EAAeH,EAAW9C,QACtE,OAAO,EAET,GAAI8C,EAAWt7C,QAAUoK,KAAKs4C,mBAAmBjH,EAAeH,EAAWt7C,OACzE,OAAO,EAET,GAAIs7C,EAAW4G,WAAa93C,KAAK+3C,kBAAkB1G,EAAe,IAAKH,EAAW4G,UAChF,OAAO,EAET,GAAI5G,EAAWiH,OAASn4C,KAAKk4C,kBAAkB7G,EAAeH,EAAWiH,MACvE,OAAO,EAET,IAAKn4C,KAAKyxC,eAAeJ,EAAe,IAAKH,EAAWxD,QAAU,IAChE,OAAO,EAET,GAAIwD,EAAWvD,UAAY3tC,KAAKyxC,eAAeJ,EAAe,OAAQH,EAAWvD,SAC/E,OAAO,EAET,IAAK3tC,KAAKyxC,eAAeJ,EAAe,WAAYH,EAAW79C,UAAY,IACzE,OAAO,EAET,GAAI8+C,EAAW,CACb,IAAK,IAAIvnD,EAAIoV,KAAKulC,aAAanZ,yBAAyBilB,GAAiB,EAAGzmD,GAAK,EAAGA,IAClFoV,KAAKulC,aAAapY,uBAAuBkkB,EAAezmD,GAG1D,IAAKoV,KAAKg7C,eAAexZ,EAAQuL,EAAM1J,EAASgO,EAAeH,EAAWhS,KAAMiT,GAC9E,OAAO,CAEX,CACA,QAAKnyC,KAAKulC,aAAajmB,iCAAiC+xB,EAAe4J,EAAAA,GAAYC,MAKrF,CAcAF,cAAAA,CACExZ,EACAuL,EACA1J,EACAgO,EACAnS,EACAiT,GAEA,MAAMgJ,EAAgB,EAChBC,EAAajJ,EAAUzS,MAAQyS,EAAUvS,OAEzCyb,EAAkBr7C,KAAKkhC,cAAc9C,OAAO+c,EAAgBC,GAClE,IAAKC,EACH,OAAO,EAGT,IAAK,IAAIzwD,EAAI,EAAGA,EAAIwwD,EAAYxwD,IAAK,CACnC,MAAM0wD,EAAMnJ,EAAUv1D,KAAKgO,EAAIuwD,GACzBI,EAAQpJ,EAAUv1D,KAAKgO,EAAIuwD,EAAgB,GAC3CK,EAAOrJ,EAAUv1D,KAAKgO,EAAIuwD,EAAgB,GAC1CM,EAAQtJ,EAAUv1D,KAAKgO,EAAIuwD,EAAgB,GAEjDn7C,KAAKulC,aAAazH,OAAO71C,SAASozD,EAAkBzwD,EAAIuwD,EAAeK,EAAM,MAC7Ex7C,KAAKulC,aAAazH,OAAO71C,SAASozD,EAAkBzwD,EAAIuwD,EAAgB,EAAGI,EAAO,MAClFv7C,KAAKulC,aAAazH,OAAO71C,SAASozD,EAAkBzwD,EAAIuwD,EAAgB,EAAGG,EAAK,MAChFt7C,KAAKulC,aAAazH,OAAO71C,SAASozD,EAAkBzwD,EAAIuwD,EAAgB,EAAGM,EAAO,KACpF,CAEA,MAAMC,EAAS,EACTC,EAAY37C,KAAKulC,aAAatW,oBAClCkjB,EAAUzS,MACVyS,EAAUvS,OACV8b,EACAL,EACA,GAEF,IAAKM,EAEH,OADA37C,KAAKkhC,cAAc5C,KAAK+c,IACjB,EAGT,MAAMO,EAAiB57C,KAAKulC,aAAa1N,wBAAwB2J,GACjE,IAAKoa,EAGH,OAFA57C,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKkhC,cAAc5C,KAAK+c,IACjB,EAGT,IAAKr7C,KAAKulC,aAAazS,uBAAuBuQ,EAAS,EAAGuY,EAAgBD,GAIxE,OAHA37C,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKulC,aAAa5O,oBAAoBilB,GACtC57C,KAAKkhC,cAAc5C,KAAK+c,IACjB,EAGT,MAAMQ,EAAY77C,KAAKkhC,cAAc9C,OAAO,IAO5C,GANAp+B,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAW1J,EAAUzS,MAAO,SAC9D1/B,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAY,EAAG,EAAG,SACpD77C,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAY,EAAG,EAAG,SACpD77C,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAY,GAAI1J,EAAUvS,OAAQ,SACpE5/B,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAY,GAAI,EAAG,SACrD77C,KAAKulC,aAAazH,OAAO71C,SAAS4zD,EAAY,GAAI,EAAG,UAChD77C,KAAKulC,aAAahN,sBAAsBqjB,EAAgBC,GAK3D,OAJA77C,KAAKkhC,cAAc5C,KAAKud,GACxB77C,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKulC,aAAa5O,oBAAoBilB,GACtC57C,KAAKkhC,cAAc5C,KAAK+c,IACjB,EAETr7C,KAAKkhC,cAAc5C,KAAKud,GAExB,MAAMC,EAAU97C,KAAK+7C,8BAA8BhP,EAAM,CACvDx5B,EAAG2rB,EAAKI,OAAO/rB,EACfisB,EAAGN,EAAKI,OAAOE,EAAI2S,EAAUvS,SAI/B,OAFA5/B,KAAKulC,aAAa7M,sBAAsBkjB,EAAgB,EAAG,EAAG,EAAG,EAAGE,EAAQvoC,EAAGuoC,EAAQtc,GAElFx/B,KAAKulC,aAAahb,uBAAuB8mB,EAAeuK,IAO7D57C,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKkhC,cAAc5C,KAAK+c,IAEjB,IATLr7C,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKulC,aAAa5O,oBAAoBilB,GACtC57C,KAAKkhC,cAAc5C,KAAK+c,IACjB,EAOX,CASA/E,YAAAA,CAAa9U,GACX,MAAMwa,EAAYh8C,KAAKulC,aAAa7H,2BACpC19B,KAAKulC,aAAa3H,qBAAqB4D,EAAQwa,GAC/C,MAAM7qD,EAAO6O,KAAKulC,aAAahI,4BAA4Bye,GACrDC,EAAUj8C,KAAKkhC,cAAc9C,OAAOjtC,GAC1C6O,KAAKulC,aAAajI,4BAA4B0e,EAAWC,EAAS9qD,GAClE,MAAM7Q,EAAS,IAAImV,YAAYtE,GACzBlF,EAAO,IAAIyyC,SAASp+C,GAC1B,IAAK,IAAIsK,EAAI,EAAGA,EAAIuG,EAAMvG,IACxBqB,EAAK0yC,QAAQ/zC,EAAGoV,KAAKulC,aAAazH,OAAOl2C,SAASq0D,EAAUrxD,EAAG,OAKjE,OAHAoV,KAAKkhC,cAAc5C,KAAK2d,GACxBj8C,KAAKulC,aAAapI,0BAA0B6e,GAErC17D,CACT,CAaQ47D,mBAAAA,CAAoB1a,GAE1B,MAAM2a,EAAUn8C,KAAKulC,aAAanlB,wBAAwBohB,EAAQ,EAAG,KAAO,EAG5E,OAAgB,IAAZ2a,EAAsB,KAGV,IAAZA,EAAsB,GAGnBpe,EACL/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACPzvC,KAAKulC,aAAanlB,wBAAwBohB,EAAQlhD,EAAQmvD,GAC5DzvC,KAAKulC,aAAazH,OAAO1oB,cACzB+mC,EAEJ,CAUQ7O,YAAAA,CAAa9L,EAAgBrsC,GACnC,MAAM6T,IAAWhJ,KAAKulC,aAAa3oB,iBAAiB4kB,EAAQrsC,GAC5D,IAAK6T,EAAQ,OAAO,KAEpB,MAAMvb,EAAMuS,KAAKulC,aAAa7gB,iBAAiB8c,EAAQrsC,EAAK,EAAG,GAC/D,OAAY,IAAR1H,EAAkB,GAGfswC,EACL/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACPzvC,KAAKulC,aAAa7gB,iBAAiB8c,EAAQrsC,EAAK7U,EAAQmvD,GAC1DzvC,KAAKulC,aAAazH,OAAO1oB,cACzB3nB,EAEJ,CAYQkhD,WAAAA,CAAYnN,EAAgBrsC,EAAajN,GAE/C,GAAa,MAATA,GAAkC,IAAjBA,EAAMtD,OAAc,CAEvC,MAAM9F,EAAKkhB,KAAKulC,aAAaxoB,iBAAiBykB,EAAQrsC,EAAK,GAC3D,QAASrW,CACX,CAGA,MAAMy3B,EAAQ,GAAKruB,EAAMtD,OAAS,GAC5BiD,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GACtC,IACEvW,KAAKulC,aAAazH,OAAOplB,cAAcxwB,EAAOL,EAAK0uB,GACnD,MAAMz3B,EAAKkhB,KAAKulC,aAAaxoB,iBAAiBykB,EAAQrsC,EAAKtN,GAC3D,QAAS/I,CACX,CAAE,QACAkhB,KAAKkhC,cAAc5C,KAAKz2C,EAC1B,CACF,CAQQsmD,cAAAA,CAAe3M,GACrB,MAAMqN,EAAMtkC,OAAOvK,KAAKulC,aAAa7oB,oBAAoB8kB,IACzD,OAAQqN,GACN,KAAKuN,EAAAA,GAAiBC,OACtB,KAAKD,EAAAA,GAAiBE,KACtB,KAAKF,EAAAA,GAAiBG,MACtB,KAAKH,EAAAA,GAAiBpN,QACpB,OAAOH,EACT,QACE,OAAOuN,EAAAA,GAAiBpN,QAE9B,CAQQD,cAAAA,CAAevN,EAAgBxiD,GAGrC,MAAMw9D,EAAkB,MAAVx9D,QAA6B,IAAXA,EAAuBo9D,EAAAA,GAAiBC,OAASr9D,EAG3Ey9D,EACJD,IAAUJ,EAAAA,GAAiBC,QAC3BG,IAAUJ,EAAAA,GAAiBE,MAC3BE,IAAUJ,EAAAA,GAAiBG,OAC3BC,IAAUJ,EAAAA,GAAiBpN,QAE7B,QAAKyN,KAEIz8C,KAAKulC,aAAavoB,oBAAoBwkB,EAAQgb,EACzD,CAUQE,eAAAA,CAAgBlb,EAAgBmb,GACtC,OAA4E,EAArEpyC,OAAOvK,KAAKulC,aAAa/oB,qBAAqBglB,EAAQmb,GAC/D,CAWQC,cAAAA,CAAepb,EAAgBhpB,EAAemkC,GACpD,MAAMlvD,EAAMuS,KAAKulC,aAAa9oB,oBAAoB+kB,EAAQhpB,EAAOmkC,EAAY,EAAG,GAChF,OAAKlvD,EACEswC,EACL/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQu8D,IACP78C,KAAKulC,aAAa9oB,oBAAoB+kB,EAAQhpB,EAAOmkC,EAAYr8D,EAAQu8D,GAC3E78C,KAAKulC,aAAazH,OAAOr0C,aACzBgE,GANe,IAQnB,CAUQ4gD,WAAAA,CAAY7M,EAAgBmb,GAAsB,GACxD,MAAMnnC,EAAIxV,KAAK08C,gBAAgBlb,EAAQmb,GACjC19D,EAAqC,CAAC,EAC5C,IAAK,IAAI2L,EAAI,EAAGA,EAAI4qB,EAAG5qB,IAAK,CAC1B,MAAMuK,EAAM6K,KAAK48C,eAAepb,EAAQ52C,EAAG+xD,GACtCxnD,IACLlW,EAAIkW,GAAO6K,KAAKstC,aAAa9L,EAAQrsC,GACvC,CACA,OAAOlW,CACT,CAUA4wD,gBAAAA,CAAiBrO,EAAgBsb,EAAkB,GACjD,IAAIC,EAAc/8C,KAAKulC,aAAa1V,2BAA2B2R,EAAQsb,GAEvE,MAAMlN,EAAiC,GACvC,MAAOmN,EAAa,CAClB,MAAMC,EAAWh9C,KAAKi9C,gBAAgBzb,EAAQub,GAC9CnN,EAAUviD,KAAK2vD,GAEf,MAAME,EAAkBl9C,KAAKulC,aAAazV,4BAA4B0R,EAAQub,GAE9EA,EAAcG,CAChB,CAEA,OAAOtN,CACT,CAUQqN,eAAAA,CAAgBzb,EAAgBub,GACtC,MAAMtP,EAAQ1P,EACZ/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAaxV,sBAAsBgtB,EAAaz8D,EAAQmvD,GAEtEzvC,KAAKulC,aAAazH,OAAO1oB,eAGrBw6B,EAAY5vC,KAAK6vC,iBAAiBrO,EAAQub,GAE1CtnC,EAASzV,KAAKm9C,sBAClB3b,EACA,IACSxhC,KAAKulC,aAAa7V,uBAAuBqtB,GAElD,IACS/8C,KAAKulC,aAAa3V,qBAAqB4R,EAAQub,IAI1D,MAAO,CACLtP,QACAh4B,SACA+6B,SAAUZ,EAEd,CAYQkE,iBAAAA,CACN/G,EACAvL,EACA6B,EACAkB,GAEA,MAAM6Y,EAAap9C,KAAKulC,aAAa5K,oBAAoB4J,EAAa,GAAI,GAEpEsP,EAAiC,GACvC,IAAK,IAAIjpD,EAAI,EAAGA,EAAIwyD,EAAYxyD,IAAK,CACnC,MAAMyyD,EAASr9C,KAAKkhC,cAAc9C,OAAO,GACnCkf,EAAUt9C,KAAKkhC,cAAc9C,OAAO,GACpCmf,EAAWv9C,KAAKkhC,cAAc9C,OAAO,GACrCof,EAAYx9C,KAAKkhC,cAAc9C,OAAO,GACtCyT,EAAY7xC,KAAKulC,aAAa3J,iBAClC2I,EACA35C,EACA0yD,EACAD,EACAE,EACAC,GAEF,IAAK3L,EAAW,CACd7xC,KAAKkhC,cAAc5C,KAAKgf,GACxBt9C,KAAKkhC,cAAc5C,KAAK+e,GACxBr9C,KAAKkhC,cAAc5C,KAAKif,GACxBv9C,KAAKkhC,cAAc5C,KAAKkf,GACxB,QACF,CAEA,MAAMC,EAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAAS01D,EAAS,UAClDI,EAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASy1D,EAAQ,UAChDM,EAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAAS21D,EAAU,UACpDK,EAAS59C,KAAKulC,aAAazH,OAAOl2C,SAAS41D,EAAW,UAE5Dx9C,KAAKkhC,cAAc5C,KAAKgf,GACxBt9C,KAAKkhC,cAAc5C,KAAK+e,GACxBr9C,KAAKkhC,cAAc5C,KAAKif,GACxBv9C,KAAKkhC,cAAc5C,KAAKkf,GAExB,MAAMK,EAAa79C,KAAKkhC,cAAc9C,OAAO,GACvC0f,EAAa99C,KAAKkhC,cAAc9C,OAAO,GAC7Cp+B,KAAKulC,aAAa3e,kBAChByc,EACA,EACA,EACA0J,EAAK57C,KAAKuuC,MACVqN,EAAK57C,KAAKyuC,OACV,EACA6d,EACAC,EACAG,EACAC,GAEF,MAAMvqC,EAAIvT,KAAKulC,aAAazH,OAAOl2C,SAASi2D,EAAY,OAClDre,EAAIx/B,KAAKulC,aAAazH,OAAOl2C,SAASk2D,EAAY,OACxD99C,KAAKkhC,cAAc5C,KAAKuf,GACxB79C,KAAKkhC,cAAc5C,KAAKwf,GAExB,MAAM5e,EAAO,CACXI,OAAQ,CACN/rB,IACAisB,KAEFruC,KAAM,CACJuuC,MAAO/8C,KAAK4O,KAAK5O,KAAKspB,IAAI0xC,EAAQF,IAClC7d,OAAQj9C,KAAK4O,KAAK5O,KAAKspB,IAAIyxC,EAAME,MAI/BG,EAAc/9C,KAAKulC,aAAavK,wBACpCuJ,EACAkZ,EACAC,EACAC,EACAC,EACA,EACA,GAEII,EAAiC,GAAnBD,EAAc,GAC5BE,EAAaj+C,KAAKkhC,cAAc9C,OAAO4f,GAC7Ch+C,KAAKulC,aAAavK,wBAChBuJ,EACAkZ,EACAC,EACAC,EACAC,EACAK,EACAF,GAEF,MAAMrR,EAAU1sC,KAAKulC,aAAazH,OAAO1oB,cAAc6oC,GACvDj+C,KAAKkhC,cAAc5C,KAAK2f,GAExB,MAAMlH,EAAY/2C,KAAKulC,aAAapK,2BAA2BoJ,EAAakZ,EAAMC,EAAK,EAAG,GAC1F,IAAIvE,EAAa,GACbC,EAAWla,EAAK/tC,KAAKyuC,OACzB,GAAImX,GAAa,EAAG,CAClBqC,EAAWp5C,KAAKulC,aAAa/J,qBAAqB+I,EAAawS,GAE/D,MAAMmH,EAAiBl+C,KAAKulC,aAAahK,qBACvCgJ,EACAwS,EACA,EACA,EACA,GAGIoH,EAAaD,EAAiB,EAC9BE,EAAgBp+C,KAAKkhC,cAAc9C,OAAO+f,GAC1CE,EAAWr+C,KAAKkhC,cAAc9C,OAAO,GAC3Cp+B,KAAKulC,aAAahK,qBAChBgJ,EACAwS,EACAqH,EACAD,EACAE,GAEFlF,EAAan5C,KAAKulC,aAAazH,OAAOr0C,aAAa20D,GACnDp+C,KAAKkhC,cAAc5C,KAAK8f,GACxBp+C,KAAKkhC,cAAc5C,KAAK+f,EAC1B,CAEA,MAAMC,EAA8B,CAClC5R,UACAxN,OACAqf,KAAM,CACJC,OAAQrF,EACRhoD,KAAMioD,IAIVvF,EAAUxmD,KAAKixD,EACjB,CAEA,OAAOzK,CACT,CAQA4K,eAAAA,CAAgBvR,EAAwBH,GACtC,MAAM2R,EAAQ,kBACd1+C,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc6S,EAAO,QAASxR,EAAIhwD,IAG/D,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc6S,EAAO,MAAOxR,EAAIhwD,IACtDmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B+rB,EAAc6M,EAAQ1M,cAGtBia,EAAa3+C,KAAKulC,aAAa7K,oBAAoB6J,GACnDqa,EAA2B,GAEjC,IAAK,IAAIh0D,EAAI,EAAGA,EAAI+zD,EAAY/zD,IAAK,CACnC,MAAMi0D,EAAI7+C,KAAK8+C,cAAc/R,EAAMqE,EAAQ/N,QAASkB,EAAa35C,GACjEg0D,EAAOvxD,KAAKwxD,EACd,CAGA,MAAME,EAAiB/+C,KAAKg/C,oBAAoBJ,EAAQra,GAMxD,OAHA6M,EAAQxN,UAER5jC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc6S,EAAO,MAAOxR,EAAIhwD,IACtDmvD,EAAAA,EAAczxD,QAAQ,CAAEmkE,QACjC,CAMQC,mBAAAA,CAAoBJ,EAA0Bra,GACpD,MAAMwa,EAAiB,GACvB,IAAIz9C,EAAyB,KACzB29C,EAA2B,KAC3BC,EAA4E,KAGhF,IAAK,IAAIt0D,EAAI,EAAGA,EAAIg0D,EAAOh6D,OAAQgG,IAAK,CACtC,MAAMi0D,EAAID,EAAOh0D,GAGXu0D,EAASn/C,KAAKulC,aAAarJ,uBAAuBqI,EAAa35C,GAkCrE,GA/BIu0D,IAAWF,IACbA,EAAYE,EACZ79C,EAAU,CACR49B,KAAM,CACJ3rB,EAAGsrC,EAAEvf,OAAO/rB,EACZisB,EAAGqf,EAAEvf,OAAOE,EACZE,MAAOmf,EAAE1tD,KAAKuuC,MACdE,OAAQif,EAAE1tD,KAAKyuC,QAEjBwf,UAAWx0D,EACXg0D,OAAQ,IAEVM,EAAS,CACPG,KAAMR,EAAEvf,OAAO/rB,EACf+rC,KAAMT,EAAEvf,OAAOE,EACf+f,KAAMV,EAAEvf,OAAO/rB,EAAIsrC,EAAE1tD,KAAKuuC,MAC1B8f,KAAMX,EAAEvf,OAAOE,EAAIqf,EAAE1tD,KAAKyuC,QAE5Bmf,EAAK1xD,KAAKiU,IAIZA,EAASs9C,OAAOvxD,KAAK,CACnBkmB,EAAGsrC,EAAEvf,OAAO/rB,EACZisB,EAAGqf,EAAEvf,OAAOE,EACZE,MAAOmf,EAAE1tD,KAAKuuC,MACdE,OAAQif,EAAE1tD,KAAKyuC,OACfhqC,MAAOipD,EAAEY,QAAU,EAAIZ,EAAEa,QAAU,EAAI,IAIrCb,EAAEY,QACJ,SAGF,MAAM9B,EAAQkB,EAAEvf,OAAO/rB,EAAIsrC,EAAE1tD,KAAKuuC,MAC5Bke,EAASiB,EAAEvf,OAAOE,EAAIqf,EAAE1tD,KAAKyuC,OAGnCsf,EAAQG,KAAO18D,KAAKuK,IAAIgyD,EAAQG,KAAMR,EAAEvf,OAAO/rB,GAC/C2rC,EAAQI,KAAO38D,KAAKuK,IAAIgyD,EAAQI,KAAMT,EAAEvf,OAAOE,GAC/C0f,EAAQK,KAAO58D,KAAK5B,IAAIm+D,EAAQK,KAAM5B,GACtCuB,EAAQM,KAAO78D,KAAK5B,IAAIm+D,EAAQM,KAAM5B,GAGtCt8C,EAAS49B,KAAK3rB,EAAI2rC,EAAQG,KAC1B/9C,EAAS49B,KAAKM,EAAI0f,EAAQI,KAC1Bh+C,EAAS49B,KAAKQ,MAAQwf,EAAQK,KAAOL,EAAQG,KAC7C/9C,EAAS49B,KAAKU,OAASsf,EAAQM,KAAON,EAAQI,IAChD,CAEA,OAAOP,CACT,CAYQD,aAAAA,CACN/R,EACA1J,EACAkB,EACAwS,GAGA,MAAM4I,EAAS3/C,KAAKkhC,cAAc9C,OAAO,GACnCwhB,EAAS5/C,KAAKkhC,cAAc9C,OAAO,GACnCyhB,EAAS7/C,KAAKkhC,cAAc9C,OAAO,GACnC0hB,EAAS9/C,KAAKkhC,cAAc9C,OAAO,GACnC2hB,EAAU//C,KAAKkhC,cAAc9C,OAAO,IAE1C,IAAI7qB,EAAI,EACNisB,EAAI,EACJE,EAAQ,EACRE,EAAS,EACT8f,GAAU,EAGZ,GAAI1/C,KAAKulC,aAAa7J,yBAAyB6I,EAAawS,EAAWgJ,GAAU,CAC/E,MAAMtC,EAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAASm4D,EAAS,SAClDrC,EAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASm4D,EAAU,EAAG,SACrDpC,EAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAASm4D,EAAU,EAAG,SACvDnC,EAAS59C,KAAKulC,aAAazH,OAAOl2C,SAASm4D,EAAU,GAAI,SAE/D,GAAItC,IAASE,GAASD,IAAQE,EAG5B,MAFA,CAACmC,EAASJ,EAAQC,EAAQC,EAAQC,GAAQhlE,QAASsQ,GAAM4U,KAAKkhC,cAAc5C,KAAKlzC,IAE1E,CACLk0C,OAAQ,CAAE/rB,EAAG,EAAGisB,EAAG,GACnBruC,KAAM,CAAEuuC,MAAO,EAAGE,OAAQ,GAC1B6f,SAAS,GAKbz/C,KAAKulC,aAAa3e,kBAChByc,EACA,EACA,EACA0J,EAAK57C,KAAKuuC,MACVqN,EAAK57C,KAAKyuC,OACE,EACZ6d,EACAC,EACAiC,EACAC,GAEF5/C,KAAKulC,aAAa3e,kBAChByc,EACA,EACA,EACA0J,EAAK57C,KAAKuuC,MACVqN,EAAK57C,KAAKyuC,OACE,EACZ+d,EACAC,EACAiC,EACAC,GAGF,MAAME,EAAKhgD,KAAKulC,aAAazH,OAAOl2C,SAAS+3D,EAAQ,OAC/CM,EAAKjgD,KAAKulC,aAAazH,OAAOl2C,SAASg4D,EAAQ,OAC/CM,EAAKlgD,KAAKulC,aAAazH,OAAOl2C,SAASi4D,EAAQ,OAC/CM,EAAKngD,KAAKulC,aAAazH,OAAOl2C,SAASk4D,EAAQ,OAErDvsC,EAAI5wB,KAAKuK,IAAI8yD,EAAIE,GACjB1gB,EAAI78C,KAAKuK,IAAI+yD,EAAIE,GACjBzgB,EAAQ/8C,KAAK5B,IAAI,EAAG4B,KAAKspB,IAAIi0C,EAAKF,IAClCpgB,EAASj9C,KAAK5B,IAAI,EAAG4B,KAAKspB,IAAIk0C,EAAKF,IAGnC,MAAMG,EAAKpgD,KAAKulC,aAAapJ,oBAAoBoI,EAAawS,GAC9D2I,EAAiB,KAAPU,CACZ,CAKA,MAFA,CAACL,EAASJ,EAAQC,EAAQC,EAAQC,GAAQhlE,QAASsQ,GAAM4U,KAAKkhC,cAAc5C,KAAKlzC,IAE1E,CACLk0C,OAAQ,CAAE/rB,IAAGisB,KACbruC,KAAM,CAAEuuC,QAAOE,aACX8f,GAAW,CAAEA,WAErB,CAmBOW,aAAAA,CAAcnT,EAAwBH,GAC3C/sC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,gBAAiBqB,EAAKH,GAClE/sC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,QAASqB,EAAIhwD,IAGzE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IAEtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAChEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B+rB,EAAc6M,EAAQ1M,cAGtB4b,EAAQtgD,KAAKulC,aAAa7K,oBAAoB6J,GAC9Cqa,EAAS,IAAItwD,MAAMgyD,GAEzB,IAAK,IAAI11D,EAAI,EAAGA,EAAI01D,EAAO11D,IAAK,CAC9B,MAAMi0D,EAAI7+C,KAAK8+C,cAAc/R,EAAMqE,EAAQ/N,QAASkB,EAAa35C,GAE7Di0D,EAAEY,UAINb,EAAOh0D,GAAK,IAAKi0D,GACnB,CAOA,OAJAzN,EAAQxN,UAER5jC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,gBAAiB,MAAOqB,EAAIhwD,IAEhEmvD,EAAAA,EAAczxD,QAAQgkE,EAC/B,CAEQ2B,WAAAA,CACNxT,EACA1J,EACAkB,EACAwS,GAEA,MAAMsG,EAASr9C,KAAKkhC,cAAc9C,OAAO,GACnCkf,EAAUt9C,KAAKkhC,cAAc9C,OAAO,GACpCof,EAAYx9C,KAAKkhC,cAAc9C,OAAO,GACtCmf,EAAWv9C,KAAKkhC,cAAc9C,OAAO,GAC3C,IAAI7qB,EAAI,EACJisB,EAAI,EACJE,EAAQ,EACRE,EAAS,EACb,GACE5/B,KAAKulC,aAAarK,oBAChBqJ,EACAwS,EACAuG,EACAC,EACAC,EACAH,GAEF,CACA,MAAMK,EAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASy1D,EAAQ,UAChDI,EAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAAS01D,EAAS,UAClDM,EAAS59C,KAAKulC,aAAazH,OAAOl2C,SAAS41D,EAAW,UACtDG,EAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAAS21D,EAAU,UAEpDM,EAAa79C,KAAKkhC,cAAc9C,OAAO,GACvC0f,EAAa99C,KAAKkhC,cAAc9C,OAAO,GAC7Cp+B,KAAKulC,aAAa3e,kBAChByc,EACA,EACA,EACA0J,EAAK57C,KAAKuuC,MACVqN,EAAK57C,KAAKyuC,OACV,EACA6d,EACAC,EACAG,EACAC,GAEFvqC,EAAIvT,KAAKulC,aAAazH,OAAOl2C,SAASi2D,EAAY,OAClDre,EAAIx/B,KAAKulC,aAAazH,OAAOl2C,SAASk2D,EAAY,OAClD99C,KAAKkhC,cAAc5C,KAAKuf,GACxB79C,KAAKkhC,cAAc5C,KAAKwf,GAExBpe,EAAQ/8C,KAAK4O,KAAK5O,KAAKspB,IAAI0xC,EAAQF,IACnC7d,EAASj9C,KAAK4O,KAAK5O,KAAKspB,IAAIyxC,EAAME,GACpC,CAMA,OALA59C,KAAKkhC,cAAc5C,KAAK+e,GACxBr9C,KAAKkhC,cAAc5C,KAAKgf,GACxBt9C,KAAKkhC,cAAc5C,KAAKkf,GACxBx9C,KAAKkhC,cAAc5C,KAAKif,GAEjB,CACLje,OAAQ,CACN/rB,IACAisB,KAEFruC,KAAM,CACJuuC,QACAE,UAGN,CAWQoR,mBAAAA,CAAoBvP,EAAsBsL,GAChD,OAAOtL,EAAIsB,WAAWgK,EAAKv0B,MAAQ44B,IACjC,MAAMoP,EAAkBxgD,KAAKulC,aAAa7Q,uBAAuB0c,EAAQ/N,SAEnE0N,EAAqC,GAC3C,IAAK,IAAInmD,EAAI,EAAGA,EAAI41D,EAAiB51D,IACnCwmD,EAAQvM,eAAej6C,EAAIm6C,IACzB,MAAM0b,EAAOzgD,KAAK0gD,mBAAmBjf,EAAID,OAAQuL,EAAMhI,EAAUqM,GAC7DqP,GAAM1P,EAAY1jD,KAAKozD,KAG/B,OAAO1P,GAEX,CAWQ4P,sBAAAA,CAAuBlf,EAAsBsL,GACnD,MAAMprC,EAAQ3B,KAAKulC,aAAa1kB,0BAA0B4gB,EAAID,OAAQuL,EAAKv0B,OAC3E,GAAI7W,GAAS,EAAG,MAAO,GAEvB,MAAM1iB,EAA6B,GAEnC,IAAK,IAAI2L,EAAI,EAAGA,EAAI+W,IAAS/W,EAAG,CAC9B,MAAMm6C,EAAW/kC,KAAKulC,aAAazkB,qBAAqB2gB,EAAID,OAAQuL,EAAKv0B,MAAO5tB,GAChF,GAAKm6C,EAEL,IACE,MAAM0b,EAAOzgD,KAAK0gD,mBAAmBjf,EAAID,OAAQuL,EAAMhI,GACnD0b,GAAMxhE,EAAIoO,KAAKozD,EACrB,CAAE,QACAzgD,KAAKulC,aAAarR,oBAAoB6Q,EACxC,CACF,CACA,OAAO9lD,CACT,CAWA2hE,qBAAAA,CACE1T,EACAH,GAEA/sC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,wBAAyBqB,EAAKH,GAC1E/sC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,wBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpB,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EACH,OAAO4K,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAIb,MAAM5tD,EAAM+gB,KAAK2gD,uBAAuBlf,EAAKsL,GAgB7C,OAdA/sC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,wBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEpBxY,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,wBACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,QAClBv5B,GAEKotD,EAAAA,EAAczxD,QAAQqE,EAC/B,CAaQyhE,kBAAAA,CACNlf,EACAuL,EACAsE,EACAD,GAEA,IAAI54B,EAAQxY,KAAK6gD,eAAexP,EAAe,MAC1C74B,IAAU+4B,EAAAA,EAAAA,IAAS/4B,KACtBA,GAAQg5B,EAAAA,EAAAA,MACRxxC,KAAKyxC,eAAeJ,EAAe,KAAM74B,IAE3C,MAAMsoC,EAAU9gD,KAAKulC,aAAa9Y,qBAChC4kB,GAEF,IAAIH,EACJ,OAAQ4P,GACN,KAAKhP,EAAAA,GAAqBM,KAEtBlB,EAAalxC,KAAK+gD,gBAAgBhU,EAAMsE,EAAe74B,GAEzD,MACF,KAAKs5B,EAAAA,GAAqBQ,SAEtBpB,EAAalxC,KAAKghD,oBAAoBjU,EAAMsE,EAAe74B,GAE7D,MACF,KAAKs5B,EAAAA,GAAqBmP,KAEtB/P,EAAalxC,KAAKkhD,gBAAgBnU,EAAMvL,EAAQ6P,EAAe74B,GAEjE,MACF,KAAKs5B,EAAAA,GAAqBqP,OACxB,GAAI/P,EACF,OAAOpxC,KAAKohD,kBAAkBrU,EAAMsE,EAAeD,EAAQxM,gBAAiBpsB,GAEhF,KAAKs5B,EAAAA,GAAqBuP,eAEtBnQ,EAAalxC,KAAKshD,0BAA0BvU,EAAMsE,EAAe74B,GAEnE,MACF,KAAKs5B,EAAAA,GAAqBC,IAEtBb,EAAalxC,KAAKuhD,eAAexU,EAAMsE,EAAe74B,GAExD,MACF,KAAKs5B,EAAAA,GAAqBa,QAEtBzB,EAAalxC,KAAKwhD,mBAAmBzU,EAAMsE,EAAe74B,GAE5D,MACF,KAAKs5B,EAAAA,GAAqBY,SAEtBxB,EAAalxC,KAAKyhD,oBAAoB1U,EAAMsE,EAAe74B,GAE7D,MACF,KAAKs5B,EAAAA,GAAqBU,KAEtBtB,EAAalxC,KAAK0hD,gBAAgB3U,EAAMsE,EAAe74B,GAEzD,MACF,KAAKs5B,EAAAA,GAAqBqB,UACxBjC,EAAalxC,KAAK2hD,qBAAqB5U,EAAMsE,EAAe74B,GAC5D,MACF,KAAKs5B,EAAAA,GAAqBG,MAEtBf,EAAalxC,KAAK4hD,iBAAiB7U,EAAMsE,EAAe74B,GAE1D,MACF,KAAKs5B,EAAAA,GAAqBgB,OAEtB5B,EAAalxC,KAAK6hD,kBAAkB9U,EAAMsE,EAAe74B,GAE3D,MACF,KAAKs5B,EAAAA,GAAqBe,OAEtB3B,EAAalxC,KAAK8hD,kBAAkB/U,EAAMsE,EAAe74B,GAE3D,MACF,KAAKs5B,EAAAA,GAAqBkB,UAEtB9B,EAAalxC,KAAK+hD,qBAAqBhV,EAAMsE,EAAe74B,GAE9D,MACF,KAAKs5B,EAAAA,GAAqBoB,SAEtBhC,EAAalxC,KAAKgiD,oBAAoBjV,EAAMsE,EAAe74B,GAE7D,MACF,KAAKs5B,EAAAA,GAAqBmB,UAEtB/B,EAAalxC,KAAKiiD,qBAAqBlV,EAAMsE,EAAe74B,GAE9D,MACF,KAAKs5B,EAAAA,GAAqBoQ,MAEtBhR,EAAalxC,KAAKmiD,iBAAiBpV,EAAMsE,EAAe74B,GAE1D,MACF,QAEI04B,EAAalxC,KAAKoiD,YAAYrV,EAAM+T,EAASzP,EAAe74B,GAE9D,MAGJ,OAAO04B,CACT,CAcQmR,mBAAAA,CACNhR,EACAiR,EAAoC5I,EAAAA,GAAuBC,OAE3D,MAAM4I,EAAOviD,KAAKkhC,cAAc9C,OAAO,GACjCokB,EAAOxiD,KAAKkhC,cAAc9C,OAAO,GACjCqkB,EAAOziD,KAAKkhC,cAAc9C,OAAO,GAGjCt/C,EAAKkhB,KAAKulC,aAAaxnB,mBAAmBszB,EAAeiR,EAAWC,EAAMC,EAAMC,GAEtF,IAAIC,EAcJ,OAZI5jE,IACF4jE,EAAS,CACPpH,IAAsD,IAAjDt7C,KAAKulC,aAAazH,OAAOl2C,SAAS26D,EAAM,OAC7ChH,MAAwD,IAAjDv7C,KAAKulC,aAAazH,OAAOl2C,SAAS46D,EAAM,OAC/ChH,KAAuD,IAAjDx7C,KAAKulC,aAAazH,OAAOl2C,SAAS66D,EAAM,SAIlDziD,KAAKkhC,cAAc5C,KAAKikB,GACxBviD,KAAKkhC,cAAc5C,KAAKkkB,GACxBxiD,KAAKkhC,cAAc5C,KAAKmkB,GAEjBC,CACT,CAWQC,kBAAAA,CACNtR,EACAiR,EAAoC5I,EAAAA,GAAuBC,OAE3D,MAAMiJ,EAAkB5iD,KAAKqiD,oBAAoBhR,EAAeiR,GAEhE,OAAOM,GAAkBC,EAAAA,EAAAA,IAAmBD,QAAmB,CACjE,CAaQnJ,kBAAAA,CACNpI,EACAyR,EACAR,EAAoC5I,EAAAA,GAAuBC,OAE3D,MAAMoJ,GAAWC,EAAAA,EAAAA,IAAmBF,GAEpC,OAAO9iD,KAAKulC,aAAa5mB,mBACvB0yB,EACAiR,EACe,IAAfS,EAASzH,IACQ,IAAjByH,EAASxH,MACO,IAAhBwH,EAASvH,KAEb,CAUQyH,oBAAAA,CAAqB5R,GAC3B,MAAM6R,EAAaljD,KAAKkhC,cAAc9C,OAAO,GACvCt/C,EAAKkhB,KAAKulC,aAAannB,qBAAqBizB,EAAe6R,GAC3DrK,EAAU/5D,EAAKkhB,KAAKulC,aAAazH,OAAOl2C,SAASs7D,EAAY,OAAS,IAE5E,OADAljD,KAAKkhC,cAAc5C,KAAK4kB,IACjBC,EAAAA,EAAAA,IAAqBtK,EAC9B,CAWQD,oBAAAA,CAAqBvH,EAAuBwH,GAClD,MAAMuK,GAAaC,EAAAA,EAAAA,IAAqBxK,GACxC,OAAO74C,KAAKulC,aAAarmB,qBAAqBmyB,EAA4B,IAAb+R,EAC/D,CAQQE,0BAAAA,CAA2BjS,GACjC,OAAOrxC,KAAKulC,aAAahnB,2BAA2B8yB,EACtD,CAUQyH,0BAAAA,CAA2BzH,EAAuB//C,GACxD,QAAS0O,KAAKulC,aAAapmB,2BAA2BkyB,EAAe//C,EACvE,CAQQiyD,8BAAAA,CAA+BlS,GACrC,OAAOrxC,KAAKulC,aAAa/mB,+BAA+B6yB,EAC1D,CAUQ2H,8BAAAA,CACN3H,EACA//C,GAEA,QAAS0O,KAAKulC,aAAanmB,+BAA+BiyB,EAAe//C,EAC3E,CAYQkyD,8BAAAA,CACNnS,GAEA,MAAMoS,EAAUzjD,KAAKkhC,cAAc9C,OAAO,GACpC0O,EAAU9sC,KAAKkhC,cAAc9C,OAAO,GACpCmkB,EAAOviD,KAAKkhC,cAAc9C,OAAO,GACjCokB,EAAOxiD,KAAKkhC,cAAc9C,OAAO,GACjCqkB,EAAOziD,KAAKkhC,cAAc9C,OAAO,GAEjCt/C,IAAOkhB,KAAKulC,aAAavnB,+BAC7BqzB,EACAoS,EACA3W,EACAyV,EACAC,EACAC,GAGF,IAAK3jE,EAEH,WADA,CAAC2kE,EAAS3W,EAASyV,EAAMC,EAAMC,GAAM3nE,QAASsQ,GAAM4U,KAAKkhC,cAAc5C,KAAKlzC,IAI9E,MAAM63C,EAAMjjC,KAAKulC,aAAazH,OACxBygB,EAAOtb,EAAIr7C,SAAS67D,EAAS,OAC7BrK,EAAWnW,EAAIr7C,SAASklD,EAAS,SACjCwO,EAAkC,IAA5BrY,EAAIr7C,SAAS26D,EAAM,OACzBhH,EAAoC,IAA5BtY,EAAIr7C,SAAS46D,EAAM,OAC3BhH,EAAmC,IAA5BvY,EAAIr7C,SAAS66D,EAAM,OAIhC,MAFA,CAACgB,EAAS3W,EAASyV,EAAMC,EAAMC,GAAM3nE,QAASsQ,GAAM4U,KAAKkhC,cAAc5C,KAAKlzC,IAErE,CACL+tD,WAAYoF,EACZnF,WACAC,WAAWwJ,EAAAA,EAAAA,IAAmB,CAAEvH,MAAKC,QAAOC,SAEhD,CAWQtC,8BAAAA,CACN7H,EACAkN,EACAnF,EACAW,GAEA,MAAM,IAAEuB,EAAA,MAAKC,EAAA,KAAOC,IAASwH,EAAAA,EAAAA,IAAmBjJ,GAEhD,QAAS/5C,KAAKulC,aAAa3mB,+BACzByyB,EACAkN,EACAnF,EACM,IAANkC,EACQ,IAARC,EACO,IAAPC,EAEJ,CAcQkI,cAAAA,CAAerS,GAMrB,MAAMsS,EAAW3jD,KAAKkhC,cAAc9C,OAAO,GAC3C,IAAIsB,EAAQ,EACRkkB,EAAkClL,EAAAA,GAAyBmL,QAC3D/kE,GAAK,EAMT,OAJA8kE,EAAQ5jD,KAAKulC,aAAaznB,yBAAyBuzB,EAAesS,GAClEjkB,EAAQ1/B,KAAKulC,aAAazH,OAAOl2C,SAAS+7D,EAAU,SACpD7kE,EAAK8kE,IAAUlL,EAAAA,GAAyBmL,QACxC7jD,KAAKkhC,cAAc5C,KAAKqlB,GACjB,CAAE7kE,KAAI8kE,QAAOlkB,QACtB,CAEQ+Y,cAAAA,CACNpH,EACAuS,EACAlkB,GAEA,OAAO1/B,KAAKulC,aAAa7mB,yBAAyB2yB,EAAeuS,EAAOlkB,EAC1E,CAQQokB,iBAAAA,CAAkBzS,GACxB,OAAOrxC,KAAKulC,aAAatnB,kBAAkBozB,EAC7C,CASQ6G,iBAAAA,CAAkB7G,EAAuB8G,GAC/C,OAAOn4C,KAAKulC,aAAa1mB,kBAAkBwyB,EAAe8G,EAC5D,CAaQ4L,eAAAA,CAAgB1S,GACtB,MAAM2S,EAAehkD,KAAKkhC,cAAc9C,OAAO,GAEzCt/C,IAAOkhB,KAAKulC,aAAa1nB,0BAA0BwzB,EAAe2S,GAElEC,EAAYnlE,EAAKkhB,KAAKulC,aAAazH,OAAOl2C,SAASo8D,EAAc,SAAW,EAGlF,OADAhkD,KAAKkhC,cAAc5C,KAAK0lB,GACjB,CAAEllE,KAAImlE,YACf,CAYQC,uBAAAA,CAAwB7S,GAQ9B,MAAM8S,EAAOnkD,KAAKkhC,cAAc9C,OAAO,GACjCgmB,EAAOpkD,KAAKkhC,cAAc9C,OAAO,GACjCmkB,EAAOviD,KAAKkhC,cAAc9C,OAAO,GACjCqkB,EAAOziD,KAAKkhC,cAAc9C,OAAO,GAEjCt/C,IAAOkhB,KAAKulC,aAAalnB,kCAC7BgzB,EACA8S,EACAC,EACA7B,EACAE,GAGIxf,EAAMjjC,KAAKulC,aAAazH,OACxB2f,EAAOxa,EAAIr7C,SAASu8D,EAAM,SAC1BzG,EAAMza,EAAIr7C,SAASw8D,EAAM,SACzBzG,EAAQ1a,EAAIr7C,SAAS26D,EAAM,SAC3B3E,EAAS3a,EAAIr7C,SAAS66D,EAAM,SAQlC,OALAziD,KAAKkhC,cAAc5C,KAAK6lB,GACxBnkD,KAAKkhC,cAAc5C,KAAK8lB,GACxBpkD,KAAKkhC,cAAc5C,KAAKikB,GACxBviD,KAAKkhC,cAAc5C,KAAKmkB,GAEjB,CAAE3jE,KAAI2+D,OAAMC,MAAKC,QAAOC,SACjC,CASQyG,iBAAAA,CAAkBhT,EAAuBl8C,GAC/C,MAAM05C,EAAM7uC,KAAK6gD,eAAexP,EAAel8C,GAC/C,OAAO05C,GAAMb,EAAAA,EAAAA,IAAca,QAAO,CACpC,CAUQkJ,iBAAAA,CAAkB1G,EAAuBl8C,EAA2B6Z,GAC1E,MAAM6/B,GAAMC,EAAAA,EAAAA,IAAc9/B,GAC1B,OAAOhP,KAAKyxC,eAAeJ,EAAel8C,EAAK05C,EACjD,CASQyV,iBAAAA,CACN5P,EACAv/C,GAEA,MAAM05C,EAAM7uC,KAAKukD,oBAAoB7P,EAAev/C,GACpD,OAAO05C,GAAMb,EAAAA,EAAAA,IAAca,QAAO,CACpC,CAUQ2V,iBAAAA,CACN9P,EACAv/C,EACA6Z,GAEA,MAAM6/B,GAAMC,EAAAA,EAAAA,IAAc9/B,GAC1B,OAAOhP,KAAKykD,oBAAoB/P,EAAev/C,EAAK05C,EACtD,CAeQ6V,oBAAAA,CAAqBrT,GAC3B,MAAM1vC,EAAQ3B,KAAKulC,aAAa3nB,oCAAoCyzB,GACpE,GAAc,IAAV1vC,EACF,MAAO,CAAE7iB,IAAI,EAAO6lE,QAAS,IAI/B,MAAMC,EAAS5kD,KAAKkhC,cAAc9C,OAAO,EAAIz8B,GACvCkjD,IAAa7kD,KAAKulC,aAAa5nB,+BACnC0zB,EACAuT,EACAjjD,GAIIgjD,EAAoB,GAC1B,GAAIE,EAAU,CACZ,MAAM5hB,EAAMjjC,KAAKulC,aAAazH,OAC9B,IAAK,IAAIlzC,EAAI,EAAGA,EAAI+W,EAAO/W,IACzB+5D,EAAQt3D,KAAK41C,EAAIr7C,SAASg9D,EAAS,EAAIh6D,EAAG,SAE9C,CAGA,OADAoV,KAAKkhC,cAAc5C,KAAKsmB,GACjB,CAAE9lE,GAAI+lE,EAAUF,UACzB,CAYQnK,oBAAAA,CAAqBnJ,EAAuBsT,GAElD,IAAKA,GAA8B,IAAnBA,EAAQ//D,OACtB,OAAOob,KAAKulC,aAAa9mB,+BAA+B4yB,EAAe,EAAG,GAI5E,MAAMyT,EAAQH,EAAQhb,IAAKn0B,GAAOjL,OAAOw6C,SAASvvC,IAAMA,EAAI,EAAIA,EAAI,GAAIrqB,OAAQqqB,GAAMA,EAAI,GAC1F,GAAqB,IAAjBsvC,EAAMlgE,OAER,OAAOob,KAAKulC,aAAa9mB,+BAA+B4yB,EAAe,EAAG,GAG5E,MAAM96B,EAAQ,EAAIuuC,EAAMlgE,OAClBkyD,EAAS92C,KAAKkhC,cAAc9C,OAAO7nB,GACzC,IAAK,IAAI3rB,EAAI,EAAGA,EAAIk6D,EAAMlgE,OAAQgG,IAChCoV,KAAKulC,aAAazH,OAAO71C,SAAS6uD,EAAS,EAAIlsD,EAAGk6D,EAAMl6D,GAAI,SAG9D,MAAM9L,IAAOkhB,KAAKulC,aAAa9mB,+BAC7B4yB,EACAyF,EACAgO,EAAMlgE,QAIR,OADAob,KAAKkhC,cAAc5C,KAAKwY,GACjBh4D,CACT,CAUQkmE,cAAAA,CAAe3T,GACrB,MAAM14B,EAAW3Y,KAAKkhC,cAAc9C,OAAO,GACrCp1C,EAASgX,KAAKkhC,cAAc9C,OAAO,GAEnCt/C,IAAOkhB,KAAKulC,aAAapnB,yBAAyBkzB,EAAe14B,EAAU3vB,GACjF,IAAKlK,EAGH,OAFAkhB,KAAKkhC,cAAc5C,KAAK3lB,QACxB3Y,KAAKkhC,cAAc5C,KAAKt1C,GAI1B,MAAM8D,EAAQkT,KAAKulC,aAAazH,OAAOl2C,SAAS+wB,EAAU,OACpD5rB,EAAMiT,KAAKulC,aAAazH,OAAOl2C,SAASoB,EAAQ,OAKtD,OAHAgX,KAAKkhC,cAAc5C,KAAK3lB,GACxB3Y,KAAKkhC,cAAc5C,KAAKt1C,GAEjB,CAAE8D,QAAOC,MAClB,CASQmtD,cAAAA,CACN7I,EACAvkD,EACAC,GAEA,QAASiT,KAAKulC,aAAavmB,yBAAyBqyB,EAAevkD,EAAOC,EAC5E,CAQQk4D,aAAAA,CAAclY,EAAqBsE,GACzC,MAAM14B,EAAW3Y,KAAKkhC,cAAc9C,OAAO,GACrCp1C,EAASgX,KAAKkhC,cAAc9C,OAAO,GAEnCt/C,EAAKkhB,KAAKulC,aAAaxZ,kBAAkBslB,EAAe14B,EAAU3vB,GACxE,IAAKlK,EAGH,OAFAkhB,KAAKkhC,cAAc5C,KAAK3lB,QACxB3Y,KAAKkhC,cAAc5C,KAAKt1C,GAI1B,MAAMi6C,EAAMjjC,KAAKulC,aAAazH,OAExBonB,EAAKjiB,EAAIr7C,SAAS+wB,EAAW,EAAG,SAChCwsC,EAAKliB,EAAIr7C,SAAS+wB,EAAW,EAAG,SAChCysC,EAAKniB,EAAIr7C,SAASoB,EAAS,EAAG,SAC9Bq8D,EAAKpiB,EAAIr7C,SAASoB,EAAS,EAAG,SAEpCgX,KAAKkhC,cAAc5C,KAAK3lB,GACxB3Y,KAAKkhC,cAAc5C,KAAKt1C,GAGxB,MAAM8D,EAAQkT,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAG2xC,EAAI1lB,EAAG2lB,IAC7Dp4D,EAAMiT,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAG6xC,EAAI5lB,EAAG6lB,IAEjE,MAAO,CAAEv4D,QAAOC,MAClB,CAWQitD,aAAAA,CACNjN,EACAhI,EACAj4C,EACAC,GAEA,MAAMw4D,EAAKvlD,KAAK+7C,8BAA8BhP,EAAMjgD,GAC9C04D,EAAKxlD,KAAK+7C,8BAA8BhP,EAAMhgD,GAEpD,IAAKw4D,IAAOC,EAAI,OAAO,EAGvB,MAAMj+C,EAAMvH,KAAKkhC,cAAc9C,OAAO,IAChC6E,EAAMjjC,KAAKulC,aAAazH,OAC9BmF,EAAIh7C,SAASsf,EAAM,EAAGg+C,EAAGhyC,EAAG,SAC5B0vB,EAAIh7C,SAASsf,EAAM,EAAGg+C,EAAG/lB,EAAG,SAC5ByD,EAAIh7C,SAASsf,EAAM,EAAGi+C,EAAGjyC,EAAG,SAC5B0vB,EAAIh7C,SAASsf,EAAM,GAAIi+C,EAAGhmB,EAAG,SAE7B,MAAM1gD,EAAKkhB,KAAKulC,aAAaxmB,kBAAkBgmB,EAAUx9B,EAAKA,EAAM,GAEpE,OADAvH,KAAKkhC,cAAc5C,KAAK/2B,KACfzoB,CACX,CAiBQ2mE,iBAAAA,CAAkB1Y,EAAqBsE,GAC7C,MAAMqU,EAAY1lD,KAAKulC,aAAa/a,gCAAgC6mB,GACpE,GAAkB,IAAdqU,EAAiB,MAAO,GAE5B,MAAMC,EAAsB,GACtBC,EAAgB,GAEtB,IAAK,IAAIC,EAAK,EAAGA,EAAKH,EAAWG,IAAM,CACrC,MAAMC,EAAU9lD,KAAKkhC,cAAc9C,OAAOunB,GAEpC7mE,EAAKkhB,KAAKulC,aAAa7a,8BAA8B2mB,EAAewU,EAAIC,GAE9E,GAAIhnE,EAAI,CAEN,MAAMinE,EAAe,GACfC,EAAe,GACrB,IAAK,IAAIp7D,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMq7D,EAAOH,EAAc,EAAJl7D,EACvBm7D,EAAG14D,KAAK2S,KAAKulC,aAAazH,OAAOl2C,SAASq+D,EAAM,UAChDD,EAAG34D,KAAK2S,KAAKulC,aAAazH,OAAOl2C,SAASq+D,EAAO,EAAG,SACtD,CAGA,MAAMV,EAAKvlD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGwyC,EAAG,GAAIvmB,EAAGwmB,EAAG,KAChER,EAAKxlD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGwyC,EAAG,GAAIvmB,EAAGwmB,EAAG,KAChEE,EAAKlmD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGwyC,EAAG,GAAIvmB,EAAGwmB,EAAG,KAChEG,EAAKnmD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGwyC,EAAG,GAAIvmB,EAAGwmB,EAAG,KAEtEJ,EAAMv4D,KAAK,CAAEk4D,KAAIC,KAAIU,KAAIC,MAC3B,CAEAnmD,KAAKkhC,cAAc5C,KAAKwnB,EAC1B,CAEA,OAAOF,EAAMjc,IAAIyc,EAAAA,GACnB,CAYQtL,kBAAAA,CAAmB/N,EAAqBhI,EAAkBshB,GAChE,MAAMV,EAAsB,GACtB1iB,EAAMjjC,KAAKulC,aAAazH,OACxBn8B,EAAQ3B,KAAKulC,aAAa/a,gCAAgCua,GAC1Dx9B,EAAMvH,KAAKkhC,cAAc9C,OAAOunB,GAGhCW,EAAax6D,IACjB,MAAMy6D,GAAIC,EAAAA,EAAAA,IAAW16D,GACfy5D,EAAKvlD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEhB,IAChDC,EAAKxlD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEf,IAChDU,EAAKlmD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEL,IAChDC,EAAKnmD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEJ,IAGtDljB,EAAIh7C,SAASsf,EAAM,EAAGg+C,EAAGhyC,EAAG,SAC5B0vB,EAAIh7C,SAASsf,EAAM,EAAGg+C,EAAG/lB,EAAG,SAE5ByD,EAAIh7C,SAASsf,EAAM,EAAGi+C,EAAGjyC,EAAG,SAC5B0vB,EAAIh7C,SAASsf,EAAM,GAAIi+C,EAAGhmB,EAAG,SAE7ByD,EAAIh7C,SAASsf,EAAM,GAAI4+C,EAAG5yC,EAAG,SAC7B0vB,EAAIh7C,SAASsf,EAAM,GAAI4+C,EAAG3mB,EAAG,SAE7ByD,EAAIh7C,SAASsf,EAAM,GAAI2+C,EAAG3yC,EAAG,SAC7B0vB,EAAIh7C,SAASsf,EAAM,GAAI2+C,EAAG1mB,EAAG,UAKzBtyC,EAAMvK,KAAKuK,IAAIyU,EAAO0kD,EAAMzhE,QAClC,IAAK,IAAIgG,EAAI,EAAGA,EAAIsC,EAAKtC,IAEvB,GADA07D,EAAUD,EAAMz7D,KACXoV,KAAKulC,aAAalY,8BAA8B0X,EAAUn6C,EAAG2c,GAEhE,OADAvH,KAAKkhC,cAAc5C,KAAK/2B,IACjB,EAKX,IAAK,IAAI3c,EAAI+W,EAAO/W,EAAIy7D,EAAMzhE,OAAQgG,IAEpC,GADA07D,EAAUD,EAAMz7D,KACXoV,KAAKulC,aAAajb,iCAAiCya,EAAUx9B,GAEhE,OADAvH,KAAKkhC,cAAc5C,KAAK/2B,IACjB,EAKX,OADAvH,KAAKkhC,cAAc5C,KAAK/2B,IACjB,CACT,CAMOk/C,iBAAAA,CACLvZ,EACAH,EACAsZ,EACAta,GAEA,MAAM,aAAE2a,GAAe,EAAI,eAAEC,GAAiB,GAAU5a,GAAW,CAAC,EAEpE/rC,KAAKwlC,OAAO2D,MACV,eACA,SACA,oBACA+D,EAAIhwD,GACJ6vD,EAAKv0B,MACL6tC,EAAMzhE,QAER,MAAM85D,EAAQ,oBACd1+C,KAAKwlC,OAAO2G,KAAK,eAAgB,SAAUuS,EAAO,QAAS,GAAGxR,EAAIhwD,MAAM6vD,EAAKv0B,SAE7E,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAK,eAAgB,SAAUuS,EAAO,MAAO,GAAGxR,EAAIhwD,MAAM6vD,EAAKv0B,SACpE6zB,EAAAA,EAAcxxD,OAAgB,CACnColB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAMiY,GAASuB,GAAS,IAAIl7D,OACzBW,I,YACC,OAAAA,GACAye,OAAOw6C,SAAS,OAAAxU,EAAAzkD,EAAEwzC,aAAF,EAAAiR,EAAUh9B,IAC1BhJ,OAAOw6C,SAAS,OAAAzK,EAAAxuD,EAAEwzC,aAAF,EAAAgb,EAAU9a,IAC1Bj1B,OAAOw6C,SAAS,OAAA6B,EAAA96D,EAAEqF,WAAF,EAAAy1D,EAAQlnB,QACxBn1B,OAAOw6C,SAAS,OAAA8B,EAAA/6D,EAAEqF,WAAF,EAAA01D,EAAQjnB,SACxB9zC,EAAEqF,KAAKuuC,MAAQ,GACf5zC,EAAEqF,KAAKyuC,OAAS,IAGpB,GAAqB,IAAjBklB,EAAMlgE,OAER,OADAob,KAAKwlC,OAAO2G,KAAK,eAAgB,SAAUuS,EAAO,MAAO,GAAGxR,EAAIhwD,MAAM6vD,EAAKv0B,SACpE6zB,EAAAA,EAAczxD,SAAiB,GAGxC,MAAMw2D,EAAU3P,EAAImB,YAAYmK,EAAKv0B,QAG/B,IAAE3wB,EAAA,MAAK8Z,GAAU3B,KAAK8mD,4BAA4B/Z,EAAM+X,GAC9D,IAAIhmE,GAAK,EACT,IAEEA,IAAOkhB,KAAKulC,aAAatkB,uBACvBmwB,EAAQ/N,QACRx7C,EACA8Z,IACA+kD,IACAC,EAEJ,CAAE,QACA3mD,KAAKkhC,cAAc5C,KAAKz2C,EAC1B,CASA,OAPI/I,IACFA,IAAOkhB,KAAKulC,aAAa/Q,yBAAyB4c,EAAQ/N,UAG5D+N,EAAQvN,mBACR7jC,KAAKwlC,OAAO2G,KAAK,eAAgB,SAAUuS,EAAO,MAAO,GAAGxR,EAAIhwD,MAAM6vD,EAAKv0B,SAEpE6zB,EAAAA,EAAczxD,UAAmBkE,EAC1C,CAGQgoE,2BAAAA,CAA4B/Z,EAAqBsZ,GACvD,MAAMU,EAAS,GACTplD,EAAQ0kD,EAAMzhE,OACdiD,EAAMmY,KAAKkhC,cAAc9C,OAAO2oB,EAASplD,GACzCshC,EAAMjjC,KAAKulC,aAAazH,OAE9B,IAAK,IAAIlzC,EAAI,EAAGA,EAAI+W,EAAO/W,IAAK,CAC9B,MAAMkB,EAAIu6D,EAAMz7D,GACV27D,GAAIC,EAAAA,EAAAA,IAAW16D,GAGfy5D,EAAKvlD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEhB,IAChDC,EAAKxlD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEf,IAChDU,EAAKlmD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEL,IAChDC,EAAKnmD,KAAK+7C,8BAA8BhP,EAAMwZ,EAAEJ,IAEhDF,EAAOp+D,EAAM+C,EAAIm8D,EAIvB9jB,EAAIh7C,SAASg+D,EAAO,EAAGV,EAAGhyC,EAAG,SAC7B0vB,EAAIh7C,SAASg+D,EAAO,EAAGV,EAAG/lB,EAAG,SAC7ByD,EAAIh7C,SAASg+D,EAAO,EAAGT,EAAGjyC,EAAG,SAC7B0vB,EAAIh7C,SAASg+D,EAAO,GAAIT,EAAGhmB,EAAG,SAC9ByD,EAAIh7C,SAASg+D,EAAO,GAAIE,EAAG5yC,EAAG,SAC9B0vB,EAAIh7C,SAASg+D,EAAO,GAAIE,EAAG3mB,EAAG,SAC9ByD,EAAIh7C,SAASg+D,EAAO,GAAIC,EAAG3yC,EAAG,SAC9B0vB,EAAIh7C,SAASg+D,EAAO,GAAIC,EAAG1mB,EAAG,QAChC,CAEA,MAAO,CAAE33C,MAAK8Z,QAChB,CASQqlD,UAAAA,CAAWja,EAAqBsE,GACtC,MAAMyI,EAA8B,GAC9BmN,EAAYjnD,KAAKulC,aAAa1Z,0BAA0BwlB,GAC9D,GAAI4V,GAAa,EAAG,OAAOnN,EAE3B,MAAM7W,EAAMjjC,KAAKulC,aAAazH,OACxBopB,EAAe,EAErB,IAAK,IAAIt8D,EAAI,EAAGA,EAAIq8D,EAAWr8D,IAAK,CAClC,MAAMu8D,EAAqB,GAErB3xC,EAAIxV,KAAKulC,aAAazZ,yBAAyBulB,EAAezmD,EAAG,EAAG,GAC1E,GAAI4qB,EAAI,EAAG,CACT,MAAMjO,EAAMvH,KAAKkhC,cAAc9C,OAAO5oB,EAAI0xC,GAG1ClnD,KAAKulC,aAAazZ,yBAAyBulB,EAAezmD,EAAG2c,EAAKiO,GAGlE,IAAK,IAAIK,EAAI,EAAGA,EAAIL,EAAGK,IAAK,CAC1B,MAAMowC,EAAO1+C,EAAMsO,EAAIqxC,EACjBE,EAAKnkB,EAAIr7C,SAASq+D,EAAO,EAAG,SAC5BoB,EAAKpkB,EAAIr7C,SAASq+D,EAAO,EAAG,SAC5B1gD,EAAIvF,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAG6zC,EAAI5nB,EAAG6nB,IAC/DF,EAAO95D,KAAK,CAAEkmB,EAAGhO,EAAEgO,EAAGisB,EAAGj6B,EAAEi6B,GAC7B,CAEAx/B,KAAKkhC,cAAc5C,KAAK/2B,EAC1B,CAEAuyC,EAAQzsD,KAAK,CAAE85D,UACjB,CAEA,OAAOrN,CACT,CAUQD,UAAAA,CACN9M,EACAsE,EACAyI,GAEA,MAAM7W,EAAMjjC,KAAKulC,aAAazH,OACxBopB,EAAe,EAErB,IAAK,MAAMI,KAAUxN,EAAS,CAC5B,MAAMtkC,EAAI8xC,EAAOH,OAAOviE,OACxB,GAAU,IAAN4wB,EAAS,SAEb,MAAMjO,EAAMvH,KAAKkhC,cAAc9C,OAAO5oB,EAAI0xC,GAG1C,IAAK,IAAIt8D,EAAI,EAAGA,EAAI4qB,EAAG5qB,IAAK,CAC1B,MAAM28D,EAAOD,EAAOH,OAAOv8D,GACrB48D,EAAQxnD,KAAK+7C,8BAA8BhP,EAAMwa,GAEvDtkB,EAAIh7C,SAASsf,EAAM3c,EAAIs8D,EAAe,EAAGM,EAAMj0C,EAAG,SAClD0vB,EAAIh7C,SAASsf,EAAM3c,EAAIs8D,EAAe,EAAGM,EAAMhoB,EAAG,QACpD,CAEA,MAAM52C,EAAMoX,KAAKulC,aAAalb,uBAAuBgnB,EAAe9pC,EAAKiO,GAGzE,GAFAxV,KAAKkhC,cAAc5C,KAAK/2B,IAEX,IAAT3e,EACF,OAAO,CAEX,CAEA,OAAO,CACT,CAWQm4D,eAAAA,CACNhU,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BqW,EAAW1nD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAM2a,GAC9Cha,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7DkH,EAAQv4C,KAAK6gD,eAAexP,EAAe,SAC3CmH,EAAax4C,KAAK6gD,eAAexP,EAAe,cAChD0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,GACpC2G,EAAch4C,KAAK6nD,eAAexW,GAClCz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChC8G,EAAOn4C,KAAK8jD,kBAAkBzS,GAEpC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBM,KAC3Bx8C,QACAvC,WACA0mD,MAAOA,GAAS,UAChBlB,UACA3Z,OACA8Y,cACAtK,SACAoK,WACAlxC,UACA2xC,QACAC,aACAL,OAEJ,CAWQ6I,mBAAAA,CACNjU,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BqW,EAAW1nD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAM2a,GAC9Cr0D,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7D3D,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD0W,EAAe/nD,KAAK6gD,eAAexP,EAAe,MAClD2W,EAAKhoD,KAAKwjD,+BAA+BnS,GACzCmI,EAAkBx5C,KAAK2iD,mBAAmBtR,GAC1C0H,EAAY/4C,KAAKsjD,2BAA2BjS,GAC5C4H,EAAgBj5C,KAAKujD,+BAA+BlS,GACpDwH,EAAU74C,KAAKijD,qBAAqB5R,GACpC4W,EAAcjoD,KAAKkoD,oBAAoB7W,GACvCz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBQ,SAC3B6G,YAAY,MAAA6O,OAAA,EAAAA,EAAI7O,aAAcgP,EAAAA,EAAgBnZ,QAC9CoK,UAAU,MAAA4O,OAAA,EAAAA,EAAI5O,WAAY,GAC1BC,WAAW,MAAA2O,OAAA,EAAAA,EAAI3O,YAAa,UAC5BJ,gBACAO,kBACA5jD,QACAijD,UACAE,YACAgP,eACAE,cACA50D,WACAq6C,SACAoK,WACAlxC,UACAs4B,OAEJ,CAYQgiB,eAAAA,CACNnU,EACAvL,EACA6P,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7B+W,EAAUpoD,KAAKulC,aAAavZ,kBAAkBqlB,GACpD,IAAK+W,EACH,OAGF,MAAMV,EAAW1nD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAM2a,GAC9Cha,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEhC57B,EAASzV,KAAKqoD,sBAClB7mB,EACA,IACSxhC,KAAKulC,aAAahS,mBAAmB60B,GAE9C,IACSpoD,KAAKulC,aAAa7R,iBAAiB8N,EAAQ4mB,IAItD,MAAO,CACLvR,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBmP,KAC3BrrD,QACA6f,SACAypB,OACAwO,SACAoK,WACAlxC,UAEJ,CAYQw6C,iBAAAA,CACNrU,EACAsE,EACA7M,EACAhsB,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChC5C,EAAQzuC,KAAKuoD,uBAAuB/jB,EAAY6M,GAEtD,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBqP,OAC3BvrD,QACAspC,OACAuP,QACAf,SACAoK,WACAlxC,UAEJ,CAWQ06C,yBAAAA,CACNvU,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBuP,eAC3BzrD,QACAspC,OACAwO,SACAoK,WACAlxC,UAEJ,CAWQ26C,cAAAA,CACNxU,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,IAClC3R,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAC7CyI,EAAU95C,KAAKgnD,WAAWja,EAAMsE,GAChCgC,EAAYrzC,KAAKulC,aAAa7nB,uBAAuB2zB,GACrDiI,EAASt5C,KAAKwoD,eAAenX,GAC7Bz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAEnE,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBC,OACvBuH,GAAU,CAAEA,UAChBjmD,WACAggD,YACAz9C,QACAmkD,MAAOA,GAAS,UAChBlB,UACAe,YAA6B,IAAhBA,EAAoB,EAAIA,EACrC1a,OACA4a,UACApM,SACAoK,WACAlxC,UAEJ,CAWQ46C,kBAAAA,CACNzU,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDwJ,EAAW76C,KAAKyoD,oBAAoB1b,EAAMsE,GAC1Ch+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7Dz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCsJ,EAAc36C,KAAK2iD,mBAAmBtR,GACtCqX,EAAgB1oD,KAAK2iD,mBACzBtR,EACAqI,EAAAA,GAAuBgB,eAEnB7B,EAAU74C,KAAKijD,qBAAqB5R,GAC1C,IAEIoJ,GAFEmJ,MAAOrJ,EAAa7a,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAGrE,GAAIkJ,IAAgB7B,EAAAA,GAAyBiQ,OAAQ,CACnD,MAAM,GAAE7pE,EAAA,QAAI6lE,GAAY3kD,KAAK0kD,qBAAqBrT,GAC9CvyD,IACF27D,EAAkBkK,EAEtB,CAGA,GAAI9J,EAASj2D,OAAS,EAAG,CACvB,MAAMgkE,EAAQ/N,EAAS,GACjBhwD,EAAOgwD,EAASA,EAASj2D,OAAS,GACpCgkE,EAAMr1C,IAAM1oB,EAAK0oB,GAAKq1C,EAAMppB,IAAM30C,EAAK20C,GACzCqb,EAASt2C,KAEb,CAEA,MAAO,CACLsyC,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBa,QAC3Bt/C,WACAuC,QACA+kD,YAAaA,GAAe,UAC5BZ,MAAO2O,GAAiB,cACxB7P,UACAe,YAA6B,IAAhBA,EAAoB,EAAIA,EACrCW,cACAE,kBACAvb,OACA2b,WACAnN,SACAoK,WACAlxC,UAEJ,CAWQ66C,mBAAAA,CACN1U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDwJ,EAAW76C,KAAKyoD,oBAAoB1b,EAAMsE,GAC1Ch+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7DsJ,EAAc36C,KAAK2iD,mBAAmBtR,GACtCz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCqX,EAAgB1oD,KAAK2iD,mBACzBtR,EACAqI,EAAAA,GAAuBgB,eAEnB7B,EAAU74C,KAAKijD,qBAAqB5R,GAC1C,IAEIoJ,GAFEmJ,MAAOrJ,EAAa7a,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAGrE,GAAIkJ,IAAgB7B,EAAAA,GAAyBiQ,OAAQ,CACnD,MAAM,GAAE7pE,EAAA,QAAI6lE,GAAY3kD,KAAK0kD,qBAAqBrT,GAC9CvyD,IACF27D,EAAkBkK,EAEtB,CACA,MAAMxK,EAAcn6C,KAAKglD,eAAe3T,GAExC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBY,SAC3Br/C,WACAuC,QACA+kD,YAAaA,GAAe,UAC5BZ,MAAO2O,GAAiB,cACxB7P,UACAe,YAA6B,IAAhBA,EAAoB,EAAIA,EACrCW,cACAE,kBACAN,cACAjb,OACA2b,WACAnN,SACAoK,WACAlxC,UAEJ,CAWQ86C,eAAAA,CACN3U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD4I,EAAaj6C,KAAKilD,cAAclY,EAAMsE,GACtC8I,EAAcn6C,KAAKglD,eAAe3T,GAClCh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7DsJ,EAAc36C,KAAK2iD,mBAAmBtR,GACtCz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCqX,EAAgB1oD,KAAK2iD,mBACzBtR,EACAqI,EAAAA,GAAuBgB,eAEnB7B,EAAU74C,KAAKijD,qBAAqB5R,GAC1C,IAEIoJ,GAFEmJ,MAAOrJ,EAAa7a,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAGrE,GAAIkJ,IAAgB7B,EAAAA,GAAyBiQ,OAAQ,CACnD,MAAM,GAAE7pE,EAAA,QAAI6lE,GAAY3kD,KAAK0kD,qBAAqBrT,GAC9CvyD,IACF27D,EAAkBkK,EAEtB,CAEA,MAAO,CACL9N,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBU,KAC3B58C,QACAspC,OACA7rC,WACAumD,YAA6B,IAAhBA,EAAoB,EAAIA,EACrCW,cACAE,kBACAE,YAAaA,GAAe,UAC5BZ,MAAO2O,GAAiB,cACxB7P,UACAoB,WAAYA,GAAc,CAAEntD,MAAO,CAAEymB,EAAG,EAAGisB,EAAG,GAAKzyC,IAAK,CAAEwmB,EAAG,EAAGisB,EAAG,IACnE2a,YAAaA,GAAe,CAC1BrtD,MAAOstD,EAAAA,GAAwBC,KAC/BttD,IAAKqtD,EAAAA,GAAwBC,MAE/B3M,SACAoK,WACAlxC,UAEJ,CAWQ+6C,oBAAAA,CACN5U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9CvN,EAAe/6C,KAAKylD,kBAAkB1Y,EAAMsE,GAC5C0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,GACpCgC,EAAYrzC,KAAKulC,aAAa7nB,uBAAuB2zB,GAErD3D,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7Dz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ66B,YACAx3D,KAAMi2D,EAAAA,GAAqBqB,UAC3BjU,OACAtpC,QACAvC,WACA0nD,eACAhB,MAAOA,GAAS,UAChBlB,UACAnL,SACAoK,WACAlxC,UAEJ,CAWQm7C,oBAAAA,CACNhV,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD0J,EAAe/6C,KAAKylD,kBAAkB1Y,EAAMsE,GAC5Ch+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7D0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,GACpCgC,EAAYrzC,KAAKulC,aAAa7nB,uBAAuB2zB,GACrDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ66B,YACAx3D,KAAMi2D,EAAAA,GAAqBkB,UAC3B9T,OACAtpC,QACAvC,WACA0nD,eACAhB,MAAOA,GAAS,UAChBlB,UACAnL,SACAoK,WACAlxC,UAEJ,CAWQq7C,oBAAAA,CACNlV,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD0J,EAAe/6C,KAAKylD,kBAAkB1Y,EAAMsE,GAC5Ch+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7D0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,GACpCgC,EAAYrzC,KAAKulC,aAAa7nB,uBAAuB2zB,GACrDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ66B,YACAx3D,KAAMi2D,EAAAA,GAAqBmB,UAC3Br9C,QACAspC,OACA7rC,WACA0nD,eACAhB,MAAOA,GAAS,UAChBlB,UACAnL,SACAoK,WACAlxC,UAEJ,CAWQo7C,mBAAAA,CACNjV,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChD0J,EAAe/6C,KAAKylD,kBAAkB1Y,EAAMsE,GAC5Ch+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7D0I,EAAQ/5C,KAAK2iD,mBAAmBtR,GAChCwH,EAAU74C,KAAKijD,qBAAqB5R,GACpCgC,EAAYrzC,KAAKulC,aAAa7nB,uBAAuB2zB,GACrDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ66B,YACAx3D,KAAMi2D,EAAAA,GAAqBoB,SAC3BhU,OACAtpC,QACAvC,WACA0nD,eACAhB,MAAOA,GAAS,UAChBlB,UACAnL,SACAoK,WACAlxC,UAEJ,CAWQu7C,gBAAAA,CACNpV,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBoQ,MAC3BhjB,OACAtpC,QACA83C,SACAoK,WACAlxC,UAEJ,CAWQg7C,gBAAAA,CACN7U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAEnE,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBG,MAC3B5+C,WACA6rC,OACAwO,SACAoK,WACAlxC,UACAhR,QAEJ,CASQizD,iBAAAA,CAAkBC,GACxB,MAAMjtE,EAAOmkB,KAAKulC,aAAa5N,oBAAoBmxB,GACnD,OAAQjtE,GACN,KAAKktE,EAAAA,GAAkB9+D,KACrB,OAAO+V,KAAKgpD,eAAeF,GAC7B,KAAKC,EAAAA,GAAkBE,MACrB,OAAOjpD,KAAKkpD,gBAAgBJ,GAC9B,KAAKC,EAAAA,GAAkBI,KACrB,OAAOnpD,KAAKopD,eAAeN,GAEjC,CASQE,cAAAA,CAAeK,GACrB,MAAMC,EAAetpD,KAAKulC,aAAa7L,uBAAuB2vB,GAExD/L,EAAUt9C,KAAKkhC,cAAc9C,OAAO,GACpCof,EAAYx9C,KAAKkhC,cAAc9C,OAAO,GACtCmf,EAAWv9C,KAAKkhC,cAAc9C,OAAO,GACrCif,EAASr9C,KAAKkhC,cAAc9C,OAAO,GACzCp+B,KAAKulC,aAAa3O,sBAAsByyB,EAAe/L,EAASE,EAAWD,EAAUF,GACrF,MAAMI,EAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAAS01D,EAAS,SAClDM,EAAS59C,KAAKulC,aAAazH,OAAOl2C,SAAS41D,EAAW,SACtDG,EAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAAS21D,EAAU,SACpDG,EAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASy1D,EAAQ,SAChD6B,EAAS,CAAEzB,OAAMG,SAAQD,QAAOD,OACtC19C,KAAKkhC,cAAc5C,KAAKgf,GACxBt9C,KAAKkhC,cAAc5C,KAAKkf,GACxBx9C,KAAKkhC,cAAc5C,KAAKif,GACxBv9C,KAAKkhC,cAAc5C,KAAK+e,GACxB,MAAMkM,EAA+B,GACrC,IAAK,IAAI3+D,EAAI,EAAGA,EAAI0+D,EAAc1+D,IAAK,CACrC,MAAM4+D,EAAUxpD,KAAKypD,eAAeJ,EAAez+D,GACnD2+D,EAASl8D,KAAKm8D,EAChB,CAEA,MAAMvqB,EAASj/B,KAAK0pD,iCAAiCL,GAErD,MAAO,CACLxtE,KAAMktE,EAAAA,GAAkB9+D,KACxBi1D,SACAqK,WACAtqB,SAEJ,CAUQwqB,cAAAA,CAAeE,EAA6BC,GAClD,MAAMC,EAAa7pD,KAAKulC,aAAa3L,wBAAwB+vB,EAAqBC,GAC5EE,EAAc9pD,KAAKulC,aAAarL,wBAAwB2vB,GACxD/iD,EAAW9G,KAAKulC,aAAavL,yBAAyB6vB,GACtDE,EAAY/pD,KAAKkhC,cAAc9C,OAAO,GACtC4rB,EAAYhqD,KAAKkhC,cAAc9C,OAAO,GAC5Cp+B,KAAKulC,aAAatL,yBAAyB4vB,EAAYE,EAAWC,GAClE,MAAMC,EAASjqD,KAAKulC,aAAazH,OAAOl2C,SAASmiE,EAAW,SACtDG,EAASlqD,KAAKulC,aAAazH,OAAOl2C,SAASoiE,EAAW,SAI5D,OAHAhqD,KAAKkhC,cAAc5C,KAAKyrB,GACxB/pD,KAAKkhC,cAAc5C,KAAK0rB,GAEjB,CACLnuE,KAAMiuE,EACNK,MAAO,CAAE52C,EAAG02C,EAAQzqB,EAAG0qB,GACvBpjD,WAEJ,CASQoiD,eAAAA,CAAgBtN,GACtB,MAAMD,EAAY37C,KAAKulC,aAAapT,uBAAuBypB,GACrDP,EAAkBr7C,KAAKulC,aAAanW,qBAAqBusB,GACzDyO,EAAcpqD,KAAKulC,aAAa/V,oBAAoBmsB,GACpD0O,EAAerqD,KAAKulC,aAAajW,qBAAqBqsB,GACtDD,EAAS17C,KAAKulC,aAAalW,qBAAqBssB,GAEhDP,EAAagP,EAAcC,EAC3BlP,EAAgB,EAChB3jC,EAAQ,IAAI8yC,kBAAkBlP,EAAaD,GACjD,IAAK,IAAIvwD,EAAI,EAAGA,EAAIwwD,EAAYxwD,IAC9B,OAAQ8wD,GACN,KAAK,EACH,CACE,MAAMF,EAAOx7C,KAAKulC,aAAazH,OAAOl2C,SAASyzD,EAAsB,EAAJzwD,EAAO,MAClE2wD,EAAQv7C,KAAKulC,aAAazH,OAAOl2C,SAASyzD,EAAsB,EAAJzwD,EAAQ,EAAG,MACvE0wD,EAAMt7C,KAAKulC,aAAazH,OAAOl2C,SAASyzD,EAAsB,EAAJzwD,EAAQ,EAAG,MAC3E4sB,EAAM5sB,EAAIuwD,GAAiBG,EAC3B9jC,EAAM5sB,EAAIuwD,EAAgB,GAAKI,EAC/B/jC,EAAM5sB,EAAIuwD,EAAgB,GAAKK,EAC/BhkC,EAAM5sB,EAAIuwD,EAAgB,GAAK,GACjC,CACA,MAKN,MAAMoP,EAA+B,CACnC3tE,KAAM46B,EACNkoB,MAAO0qB,EACPxqB,OAAQyqB,GAEJprB,EAASj/B,KAAK0pD,iCAAiC9N,GAErD,MAAO,CACL//D,KAAMktE,EAAAA,GAAkBE,MACxB9W,UAAWoY,EACXtrB,SAEJ,CASQmqB,cAAAA,CAAeoB,GACrB,MAAMC,EAAczqD,KAAKulC,aAAazT,yBAAyB04B,GACzDE,EAA8D,GACpE,IAAK,IAAI9/D,EAAI,EAAGA,EAAI6/D,EAAa7/D,IAAK,CACpC,MAAMk+D,EAAgB9oD,KAAKulC,aAAaxT,sBAAsBy4B,EAAe5/D,GACvE+/D,EAAU3qD,KAAK6oD,kBAAkBC,GACnC6B,GACFD,EAAQr9D,KAAKs9D,EAEjB,CACA,MAAM1rB,EAASj/B,KAAK0pD,iCAAiCc,GAErD,MAAO,CACL3uE,KAAMktE,EAAAA,GAAkBI,KACxBuB,UACAzrB,SAEJ,CASQyqB,gCAAAA,CAAiCZ,GACvC,MAAMjN,EAAY77C,KAAKkhC,cAAc9C,OAAO,IAC5C,GAAIp+B,KAAKulC,aAAahO,sBAAsBuxB,EAAejN,GAAY,CACrE,MAAMpkD,EAAIuI,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAW,SACjDx7D,EAAI2f,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAY,EAAG,SACrDnuD,EAAIsS,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAY,EAAG,SACrDt2C,EAAIvF,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAY,GAAI,SACtD93D,EAAIic,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAY,GAAI,SACtDp/D,EAAIujB,KAAKulC,aAAazH,OAAOl2C,SAASi0D,EAAY,GAAI,SAG5D,OAFA77C,KAAKkhC,cAAc5C,KAAKud,GAEjB,CAAEpkD,IAAGpX,IAAGqN,IAAG6X,IAAGxhB,IAAGtH,IAC1B,CAIA,OAFAujB,KAAKkhC,cAAc5C,KAAKud,GAEjB,CAAEpkD,EAAG,EAAGpX,EAAG,EAAGqN,EAAG,EAAG6X,EAAG,EAAGxhB,EAAG,EAAGtH,EAAG,EAC5C,CASQmuE,2BAAAA,CAA4BvZ,GAClC,MAAMh+C,EAAuC,GAEvCo3D,EAAczqD,KAAKulC,aAAanZ,yBAAyBilB,GAC/D,IAAK,IAAIzmD,EAAI,EAAGA,EAAI6/D,EAAa7/D,IAAK,CACpC,MAAM++D,EAAsB3pD,KAAKulC,aAAapZ,oBAAoBklB,EAAezmD,GAE3E+/D,EAAU3qD,KAAK6oD,kBAAkBc,GACnCgB,GACFt3D,EAAShG,KAAKs9D,EAElB,CAEA,OAAOt3D,CACT,CAWQw3D,cAAAA,CAAexZ,GAErB,MAAMyZ,EAAO9qD,KAAKkhC,cAAc9C,OAAO,GACjC2sB,EAAO/qD,KAAKkhC,cAAc9C,OAAO,GACjC4sB,EAAOhrD,KAAKkhC,cAAc9C,OAAO,GAEjCt/C,EAAKkhB,KAAKulC,aAAa5a,oBAAoB0mB,EAAeyZ,EAAMC,EAAMC,GACtEtrB,EAAQ5gD,EAAKkhB,KAAKulC,aAAazH,OAAOl2C,SAASojE,EAAM,SAAW,EAMtE,OAJAhrD,KAAKkhC,cAAc5C,KAAKwsB,GACxB9qD,KAAKkhC,cAAc5C,KAAKysB,GACxB/qD,KAAKkhC,cAAc5C,KAAK0sB,GAEjBtrB,CACT,CAUQooB,kBAAAA,CAAmBzW,GACzB,MAAM4Z,EAAWjrD,KAAKulC,aAAaza,mBAAmBumB,GAEtD,OAAO6Z,EAAAA,EAAAA,IAAaD,EACtB,CAEQ3S,kBAAAA,CAAmBjH,EAAuBz7C,GAChD,MAAMq1D,GAAWE,EAAAA,EAAAA,IAAav1D,GAC9B,OAAOoK,KAAKulC,aAAa/X,mBAAmB6jB,EAAe4Z,EAC7D,CAWQnJ,iBAAAA,CACN/U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7Bz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7DqX,EAAgB1oD,KAAK2iD,mBACzBtR,EACAqI,EAAAA,GAAuBgB,eAEnBC,EAAc36C,KAAK2iD,mBAAmBtR,GACtCwH,EAAU74C,KAAKijD,qBAAqB5R,GAC1C,IAEIoJ,GAFEmJ,MAAOrJ,EAAa7a,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAGrE,GAAIkJ,IAAgB7B,EAAAA,GAAyBiQ,OAAQ,CACnD,MAAM,GAAE7pE,EAAA,QAAI6lE,GAAY3kD,KAAK0kD,qBAAqBrT,GAC9CvyD,IACF27D,EAAkBkK,EAEtB,CAEA,MAAO,CACL9N,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBe,OAC3Bj9C,QACAmkD,MAAO2O,GAAiB,cACxB7P,UACAxlD,WACAumD,cACAe,YAAaA,GAAe,UAC5BJ,cACArb,OACAwO,SACAoK,WACAlxC,kBACwB,IAApB6zC,GAAiC,CAAEA,mBAE3C,CAWQoH,iBAAAA,CACN9U,EACAsE,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7Bz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAChCiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDh+C,EAAW2M,KAAK6gD,eAAexP,EAAe,aAAe,GAC7DqX,EAAgB1oD,KAAK2iD,mBACzBtR,EACAqI,EAAAA,GAAuBgB,eAEnBC,EAAc36C,KAAK2iD,mBAAmBtR,GACtCwH,EAAU74C,KAAKijD,qBAAqB5R,GAC1C,IAEIoJ,GAFEmJ,MAAOrJ,EAAa7a,MAAOka,GAAgB55C,KAAK0jD,eAAerS,GAGrE,GAAIkJ,IAAgB7B,EAAAA,GAAyBiQ,OAAQ,CACnD,MAAM,GAAE7pE,EAAA,QAAI6lE,GAAY3kD,KAAK0kD,qBAAqBrT,GAC9CvyD,IACF27D,EAAkBkK,EAEtB,CAEA,MAAO,CACL9N,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ38B,KAAMi2D,EAAAA,GAAqBgB,OAC3Bl9C,QACAmkD,MAAO2O,GAAiB,cACxB7P,UACAxlD,WACAsnD,YAAaA,GAAe,UAC5Bf,cACAW,cACArb,OACAwO,SACAoK,WACAlxC,kBACwB,IAApB6zC,GAAiC,CAAEA,mBAE3C,CAYQ2H,WAAAA,CACNrV,EACAlxD,EACAw1D,EACA74B,GAEA,MAAM41B,EAASpuC,KAAKynD,eAAepW,GAC7BiX,EAAWtoD,KAAK2nD,iBAAiBtW,GACjCnS,EAAOl/B,KAAK4nD,4BAA4B7a,EAAMub,GAC9C5a,EAAS1tC,KAAK6gD,eAAexP,EAAe,KAC5CyG,EAAW93C,KAAKqkD,kBAAkBhT,EAAe,KACjDzqC,EAAU5G,KAAKqkD,kBAAkBhT,EAAe,gBAChDz7C,EAAQoK,KAAK8nD,mBAAmBzW,GAEtC,MAAO,CACLwF,UAAW9J,EAAKv0B,MAChB41B,SACAlxD,GAAIs7B,EACJ5iB,QACA/Z,OACAqjD,OACAwO,SACAoK,WACAlxC,UAEJ,CAWQihD,cAAAA,CAAexW,GACrB,MAAMpB,EAAYjwC,KAAKulC,aAAatZ,yBAAyBolB,EAAe,OAC5E,GAAKpB,EAEL,OAAOjwC,KAAK6gD,eAAe5Q,EAAW,KACxC,CASQgI,cAAAA,CAAe5U,EAAiBgO,EAAuBn0D,GAC7D,MAAM+yD,EAAYjwC,KAAKwzC,oBAAoBnQ,EAASnmD,GACpD,QAAK+yD,GAEEjwC,KAAKulC,aAAatmB,yBAAyBoyB,EAAe,MAAOpB,EAC1E,CASQ4Q,cAAAA,CAAexP,EAAuBl8C,GAC5C,MAAM1H,EAAMuS,KAAKulC,aAAa/Y,yBAAyB6kB,EAAel8C,EAAK,EAAG,GAC9E,GAAY,IAAR1H,EAAW,OAEf,MAAM8oB,EAAoB,GAAX9oB,EAAM,GACf5F,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GAEtCvW,KAAKulC,aAAa/Y,yBAAyB6kB,EAAel8C,EAAKtN,EAAK0uB,GACpE,MAAMruB,EAAQ8X,KAAKulC,aAAazH,OAAO1oB,cAAcvtB,GAGrD,OAFAmY,KAAKkhC,cAAc5C,KAAKz2C,GAEjBK,QAAS,CAClB,CASQq8D,mBAAAA,CAAoB7P,EAAuBv/C,GACjD,MAAM1H,EAAMuS,KAAKulC,aAAarX,8BAA8BwmB,EAAev/C,EAAK,EAAG,GACnF,GAAY,IAAR1H,EAAW,OAEf,MAAM8oB,EAAoB,GAAX9oB,EAAM,GACf5F,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GAEtCvW,KAAKulC,aAAarX,8BAA8BwmB,EAAev/C,EAAKtN,EAAK0uB,GACzE,MAAMruB,EAAQ8X,KAAKulC,aAAazH,OAAO1oB,cAAcvtB,GAGrD,OAFAmY,KAAKkhC,cAAc5C,KAAKz2C,GAEjBK,QAAS,CAClB,CASQkjE,mBAAAA,CAAoB1W,EAAuBv/C,GACjD,MAAM+X,EAASlN,KAAKkhC,cAAc9C,OAAO,GACzC,IACE,MAAMt/C,EAAKkhB,KAAKulC,aAAa/lB,+BAC3Bk1B,EACAv/C,EACA+X,GAEF,IAAKpuB,EAAI,OAET,OAAOkhB,KAAKulC,aAAazH,OAAOl2C,SAASslB,EAAQ,SAAW,CAC9D,CAAE,QACAlN,KAAKkhC,cAAc5C,KAAKpxB,EAC1B,CACF,CASQu6C,cAAAA,CAAepW,GACrB,MAAMjD,EAASpuC,KAAK6gD,eAAexP,EAAe,cAClD,GAAKjD,EAEL,IACE,OAAOid,KAAKC,MAAMld,EACpB,CAAE,MAAO7wD,GAGP,OAFAH,QAAQE,KAAK,kDAAmDC,QAChEH,QAAQE,KAAK,uBAAwB8wD,EAEvC,CACF,CAMQyJ,cAAAA,CAAexG,EAAuBz0D,GAC5C,QAAa,IAATA,GAA+B,OAATA,EAExB,OAAOojB,KAAKyxC,eAAeJ,EAAe,aAAc,IAG1D,IACE,MAAMka,EAAaF,KAAKG,UAAU5uE,GAClC,OAAOojB,KAAKyxC,eAAeJ,EAAe,aAAcka,EAC1D,CAAE,MAAOhuE,GAGP,OAFAH,QAAQE,KAAK,sDAAuDC,GACpEH,QAAQE,KAAK,uBAAwBV,IAC9B,CACT,CACF,CAQQ4rE,cAAAA,CAAenX,GACrB,MAAM5jD,EAAMuS,KAAKulC,aAAarnB,oBAAoBmzB,EAAe,EAAG,GACpE,GAAY,IAAR5jD,EAAW,OAEf,MAAMg+D,EAAYh+D,EAAM,EAClB8oB,EAAoB,EAAZk1C,EACR5jE,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GAEtCvW,KAAKulC,aAAarnB,oBAAoBmzB,EAAexpD,EAAK0uB,GAC1D,MAAMruB,EAAQ8X,KAAKulC,aAAazH,OAAO1oB,cAAcvtB,GAIrD,OAFAmY,KAAKkhC,cAAc5C,KAAKz2C,GAEjBK,GAAmB,cAAVA,EAAwBA,OAAQ,CAClD,CAYQqxD,cAAAA,CAAelI,EAAuBiI,GAC5C,OAAOt5C,KAAKulC,aAAazmB,oBAAoBuyB,EAAeiI,EAC9D,CAQQ4O,mBAAAA,CAAoB7W,GAE1B,MAAM5jD,EAAMuS,KAAKulC,aAAajnB,yBAAyB+yB,EAAe,EAAG,GACzE,GAAY,IAAR5jD,EAAW,OAGf,MAAMg+D,EAAYh+D,EAAM,EAClB8oB,EAAoB,EAAZk1C,EACR5jE,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GAEtCvW,KAAKulC,aAAajnB,yBAAyB+yB,EAAexpD,EAAK0uB,GAC/D,MAAMruB,EAAQ8X,KAAKulC,aAAazH,OAAO1oB,cAAcvtB,GAIrD,OAFAmY,KAAKkhC,cAAc5C,KAAKz2C,GAEjBK,QAAS,CAClB,CAUQsrD,mBAAAA,CAAoBnQ,EAAiB7+C,GAC3C,OAAOwb,KAAKusC,YAAY/nD,EAAOmwD,GACtB30C,KAAKulC,aAAa3kB,wBAAwByiB,EAASsR,GAE9D,CAUQhB,sBAAAA,CAAuBtQ,EAAiB7+C,GAC9C,OAAOwb,KAAKusC,YAAY/nD,EAAOmwD,GACtB30C,KAAKulC,aAAaxkB,2BAA2BsiB,EAASsR,GAEjE,CASQlD,cAAAA,CAAeJ,EAAuBl8C,EAAajN,GACzD,OAAO8X,KAAKusC,YAAYrkD,EAAQwjE,GACvB1rD,KAAKulC,aAAa1X,yBAAyBwjB,EAAel8C,EAAKu2D,GAE1E,CASQjH,mBAAAA,CAAoB/P,EAAuBv/C,EAAajN,GAC9D,OAAO8X,KAAKusC,YAAYrkD,EAAQwjE,GAEvB1rD,KAAKulC,aAAahX,8BAA8BmmB,EAAev/C,EAAKu2D,GAE/E,CAUQjD,mBAAAA,CAAoB1b,EAAqBsE,GAC/C,MAAMwJ,EAAuB,GACvBl5C,EAAQ3B,KAAKulC,aAAa5Y,sBAAsB0kB,EAAe,EAAG,GAClEsa,EAAkB,EAClBC,EAAY5rD,KAAKkhC,cAAc9C,OAAOz8B,EAAQgqD,GACpD3rD,KAAKulC,aAAa5Y,sBAAsB0kB,EAAeua,EAAWjqD,GAClE,IAAK,IAAI/W,EAAI,EAAGA,EAAI+W,EAAO/W,IAAK,CAC9B,MAAMq/D,EAASjqD,KAAKulC,aAAazH,OAAOl2C,SAASgkE,EAAYhhE,EAAI+gE,EAAiB,SAC5EzB,EAASlqD,KAAKulC,aAAazH,OAAOl2C,SACtCgkE,EAAYhhE,EAAI+gE,EAAkB,EAClC,UAGI,EAAEp4C,EAAA,EAAGisB,GAAMx/B,KAAKslD,8BAA8BvY,EAAM,CACxDx5B,EAAG02C,EACHzqB,EAAG0qB,IAECr/D,EAAOgwD,EAASA,EAASj2D,OAAS,GACnCiG,GAAQA,EAAK0oB,IAAMA,GAAK1oB,EAAK20C,IAAMA,GACtCqb,EAASxtD,KAAK,CAAEkmB,IAAGisB,KAEvB,CAGA,OAFAx/B,KAAKkhC,cAAc5C,KAAKstB,GAEjB/Q,CACT,CAYQD,kBAAAA,CAAmB7N,EAAqBhI,EAAkB8V,GAChE,MAAM5X,EAAMjjC,KAAKulC,aAAazH,OACxB+tB,EAAiB,EAEjBtkD,EAAMvH,KAAKkhC,cAAc9C,OAAOytB,EAAiBhR,EAASj2D,QAChEi2D,EAAS//D,QAAQ,CAACmwD,EAAGrgD,KACnB,MAAMkhE,EAAS9rD,KAAK+7C,8BAA8BhP,EAAM9B,GACxDhI,EAAIh7C,SAASsf,EAAM3c,EAAIihE,EAAiB,EAAGC,EAAOv4C,EAAG,SACrD0vB,EAAIh7C,SAASsf,EAAM3c,EAAIihE,EAAiB,EAAGC,EAAOtsB,EAAG,WAGvD,MAAM1gD,EAAKkhB,KAAKulC,aAAalmB,sBAAsB0lB,EAAUx9B,EAAKszC,EAASj2D,QAE3E,OADAob,KAAKkhC,cAAc5C,KAAK/2B,GACjBzoB,CACT,CAWQq+D,qBAAAA,CACN3b,EACAuqB,EACAC,GAEA,MAAMC,EAAYF,IAClB,GAAIE,EAAW,CACb,MAAMC,EAASlsD,KAAKmsD,cAAc3qB,EAAQyqB,GAE1C,MAAO,CACLpwE,KAAM,SACNqwE,SAEJ,CAAO,CACL,MAAME,EAAiBJ,IACvB,GAAII,EAAgB,CAClB,MAAMC,EAAcrsD,KAAKssD,mBAAmB9qB,EAAQ4qB,GAEpD,MAAO,CACLvwE,KAAM,cACNwwE,cAEJ,CACF,CACF,CAUQ9D,sBAAAA,CAAuB/jB,EAAoB6M,GACjD,MAAM1uC,EAAO3C,KAAKulC,aAAa9Z,4BAC7B+Y,EACA6M,GAGIx1D,EAAOmkB,KAAKulC,aAAa5Z,2BAC7B6Y,EACA6M,GAGI7sD,EAAOu5C,EACX/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAgBmvD,IACRzvC,KAAKulC,aAAa7Z,2BACvB8Y,EACA6M,EACA/wD,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAGrBm3C,EAAgBxuB,EACpB/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAgBmvD,IACRzvC,KAAKulC,aAAaja,oCACvBkZ,EACA6M,EACA/wD,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAGrBltB,EAAQ61C,EACZ/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAgBmvD,IACRzvC,KAAKulC,aAAa3Z,4BACvB4Y,EACA6M,EACA/wD,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAGrB22B,EAAiC,GACvC,GAAIlwD,IAAS2wE,EAAAA,GAAoBC,UAAY5wE,IAAS2wE,EAAAA,GAAoBE,QAAS,CACjF,MAAM/qD,EAAQ3B,KAAKulC,aAAalZ,yBAAyBmY,EAAY6M,GACrE,IAAK,IAAIzmD,EAAI,EAAGA,EAAI+W,EAAO/W,IAAK,CAC9B,MAAM8zD,EAAQ3gB,EACZ/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAgBmvD,IACRzvC,KAAKulC,aAAajZ,yBACvBkY,EACA6M,EACAzmD,EACAtK,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAErBqgC,EAAaz1C,KAAKulC,aAAavY,2BACnCwX,EACA6M,EACAzmD,GAEFmhD,EAAQ1+C,KAAK,CACXqxD,QACAjJ,cAEJ,CACF,CAEA,IAAIkX,GAAY,EAKhB,OAJI9wE,IAAS2wE,EAAAA,GAAoBI,UAAY/wE,IAAS2wE,EAAAA,GAAoBK,cACxEF,EAAY3sD,KAAKulC,aAAazY,oBAAoB0X,EAAY6M,IAGzD,CACL1uC,OACA9mB,OACA2I,OACA+nE,gBACArkE,QACAykE,YACA5gB,UAEJ,CAOA+gB,uBAAAA,CACE5f,EACAH,EACAmE,EACAnF,GAEA,MAAM,YACJiI,EAAc,EAAC,SACf5U,EAAWoB,EAAAA,GAASC,QAAA,IACpBssB,EAAM,EAAC,KACPh7D,EAAOi7D,EAAAA,GAAeC,QACpBlhB,GAAW,CAAC,EAEhB/rC,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,uBACAqB,EACAH,EACAmE,EACAnF,GAEF/rC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAAS04B,EAAWh0D,MAGxC,MAAMyzD,EAAO,IAAIuc,EAAAA,GACXzrB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAQH,OAPAzhC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAAS04B,EAAWh0D,MAEjCmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAMuE,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/BusB,EAAW/kC,KAAKwzC,oBAAoBpC,EAAQ/N,QAAS6N,EAAWh0D,IACtE,IAAK6nD,EASH,OARA/kC,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAAS04B,EAAWh0D,MAExCk0D,EAAQxN,UACDyI,EAAAA,EAAcxxD,OAAO,CAAEolB,KAAMktC,EAAAA,GAAasG,SAAU5G,QAAS,yBAItE,MAAMsgB,EAAaxqE,KAAK5B,IAAI,IAAMizD,EAAc+Y,GAE1C7tB,GAAOkuB,EAAAA,EAAAA,IAAUlc,EAAWhS,MAC5BmuB,GAAUD,EAAAA,EAAAA,KAAUE,EAAAA,EAAAA,IAAcvgB,EAAK57C,KAAM+tC,EAAME,EAAU+tB,IAE7DI,EAAO5qE,KAAK5B,IAAI,EAAGssE,EAAQl8D,KAAKuuC,OAChC8tB,EAAO7qE,KAAK5B,IAAI,EAAGssE,EAAQl8D,KAAKyuC,QAChC6tB,EAAgB,EAAPF,EACTh3C,EAAQk3C,EAASD,EAGjBE,EAAU1tD,KAAKkhC,cAAc9C,OAAO7nB,GACpColC,EAAY37C,KAAKulC,aAAatW,oBAClCs+B,EACAC,EACA,EACAE,EACAD,GAEFztD,KAAKulC,aAAapW,oBAAoBwsB,EAAW,EAAG,EAAG4R,EAAMC,EAAM,GAGnE,MAAMG,GAAIC,EAAAA,EAAAA,IACR1uB,EACAE,EACAmuB,EACAC,GAEIK,EAAO7tD,KAAKkhC,cAAc9C,OAAO,IACjC0vB,EAAQ,IAAIltE,aAAaof,KAAKulC,aAAazH,OAAO/9C,QAAQO,OAAQutE,EAAM,GAC9EC,EAAMzyE,IAAI,CAACsyE,EAAEl2D,EAAGk2D,EAAEttE,EAAGstE,EAAEjgE,EAAGigE,EAAEpoD,EAAGooD,EAAE5pE,EAAG4pE,EAAElxE,IAGtC,MAAMsxE,EAAQ,GACd,IAAIjvE,GAAK,EACT,IACEA,IAAOkhB,KAAKulC,aAAazoB,uBACvB6+B,EACAvK,EAAQ/N,QACR0B,EACAhzC,EACA87D,EACAE,EAEJ,CAAE,QACA/tD,KAAKkhC,cAAc5C,KAAKuvB,GACxB7tD,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKulC,aAAarR,oBAAoB6Q,GACtCqM,EAAQxN,SACV,CAEA,IAAK9kD,EASH,OARAkhB,KAAKkhC,cAAc5C,KAAKovB,GACxB1tD,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,uBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAAS04B,EAAWh0D,MAEjCmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,kCAIb,MAAMjwD,EAAOojB,KAAKulC,aAAazH,OAAOp+C,OAAO6B,SAASmsE,EAASA,EAAUn3C,GAEnEg0C,EAA+B,CACnC3tE,KAAM,IAAI0tE,kBAAkB1tE,GAC5B8iD,MAAO6tB,EACP3tB,OAAQ4tB,GAIV,OAFA7c,EAAK/1D,QAAQ2vE,GACbvqD,KAAKkhC,cAAc5C,KAAKovB,GACjB/c,CACT,CAEQC,iBAAAA,CACN1D,EACAH,EACA7N,EACA6M,GAEA,MAAM4E,EAAO,IAAIuc,EAAAA,GACX9tB,GAAqB,MAAA2M,OAAA,EAAAA,EAAS3M,WAAYoB,EAAAA,GAASC,QAEnDgB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EACH,OAAO4K,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,2BAKb,MAAMmhB,EAAQrrE,KAAK5B,IAAI,KAAM,MAAAgrD,OAAA,EAAAA,EAASiI,cAAe,GAC/C+Y,EAAMpqE,KAAK5B,IAAI,GAAG,MAAAgrD,OAAA,EAAAA,EAASghB,MAAO,GAClCI,EAAaa,EAAQjB,EAErBkB,EAAQ/uB,EAAK/tC,KAAKuuC,MAClBwuB,EAAQhvB,EAAK/tC,KAAKyuC,OAClBM,EAA0B,KAAP,EAAXd,GAERmuB,EAAO5qE,KAAK5B,IAAI,EAAG4B,KAAKy9C,OAAOF,EAAOguB,EAAQD,GAASd,IACvDK,EAAO7qE,KAAK5B,IAAI,EAAG4B,KAAKy9C,OAAOF,EAAO+tB,EAAQC,GAASf,IACvDM,EAAgB,EAAPF,EACTh3C,EAAQk3C,EAASD,EAEjBpc,EAAU3P,EAAImB,YAAYmK,EAAKv0B,OAC/B21C,GAAoB,MAAApiB,OAAA,EAAAA,EAASqiB,aAAa,EAC1C5pB,EAAa2pB,EAAoB/c,EAAQxM,qBAAkB,EAG3D8oB,EAAU1tD,KAAKkhC,cAAc9C,OAAO7nB,GACpColC,EAAY37C,KAAKulC,aAAatW,oBAClCs+B,EACAC,EACA,EACAE,EACAD,GAGFztD,KAAKulC,aAAapW,oBAAoBwsB,EAAW,EAAG,EAAG4R,EAAMC,EAAM,YAEnE,MAAMG,GAAIC,EAAAA,EAAAA,IAAwB1uB,EAAME,EAAUmuB,EAAMC,GAElDK,EAAO7tD,KAAKkhC,cAAc9C,OAAO,IACjC0vB,EAAQ,IAAIltE,aAAaof,KAAKulC,aAAazH,OAAO/9C,QAAQO,OAAQutE,EAAM,GAC9EC,EAAMzyE,IAAI,CAACsyE,EAAEl2D,EAAGk2D,EAAEttE,EAAGstE,EAAEjgE,EAAGigE,EAAEpoD,EAAGooD,EAAE5pE,EAAG4pE,EAAElxE,IAGtC,MAAM4xE,EAAUruD,KAAKkhC,cAAc9C,OAAO,IACpCkwB,EAAW,IAAI1tE,aAAaof,KAAKulC,aAAazH,OAAO/9C,QAAQO,OAAQ+tE,EAAS,GACpFC,EAASjzE,IAAI,CAAC,EAAG,EAAGkyE,EAAMC,IAG1B,IAAI53D,EAAQ,IACR,MAAAm2C,OAAA,EAAAA,EAASwiB,mBAA0B34D,GAAS,GAEhD,IASE,GARAoK,KAAKulC,aAAape,gCAChBw0B,EACAvK,EAAQ/N,QACRwqB,EACAQ,EACAz4D,QAGiB,IAAf4uC,EAA0B,CAC5B,MAAMgqB,EAAaxvB,EAAsB2uB,EAAGzuB,EAAM6N,EAAK57C,KAAMiuC,IACvD,OAAEkB,EAAA,OAAQC,EAAA,WAAQJ,EAAA,YAAYE,EAAA,OAAaN,EAAA,OAAQE,GAAWuuB,EAGpExuD,KAAKulC,aAAazhB,aAChB0gB,EACAmX,EACAvK,EAAQ/N,QACR/C,EACAC,EACAJ,EACAE,EACAjB,EACAxpC,EAEJ,CACF,CAAE,QACAw7C,EAAQxN,UACR5jC,KAAKkhC,cAAc5C,KAAKuvB,GACxB7tD,KAAKkhC,cAAc5C,KAAK+vB,EAC1B,CAEAruD,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,wBACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEpB,MAAM57B,EAAOojB,KAAKulC,aAAazH,OAAOp+C,OAAO6B,SAASmsE,EAASA,EAAUn3C,GACzEvW,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,wBACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAGpBxY,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,6BACA,QACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAIpB,MAAM+xC,EAA+B,CACnC3tE,KAAM,IAAI0tE,kBAAkB1tE,GAC5B8iD,MAAO6tB,EACP3tB,OAAQ4tB,GAcV,OAZAxtD,KAAKwlC,OAAO2G,KACVP,EACAC,EACA,6BACA,MACA,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEpBm4B,EAAK/1D,QAAQ2vE,GAEbvqD,KAAKulC,aAAarW,mBAAmBysB,GACrC37C,KAAKkhC,cAAc5C,KAAKovB,GAEjB/c,CACT,CAWQ0X,qBAAAA,CACN7mB,EACAuqB,EACAC,GAEA,MAAMI,EAAiBJ,IACvB,GAAII,EAAgB,CAClB,MAAMC,EAAcrsD,KAAKssD,mBAAmB9qB,EAAQ4qB,GAEpD,MAAO,CACLvwE,KAAM,cACNwwE,cAEJ,CAAO,CACL,MAAMJ,EAAYF,IAClB,GAAIE,EAAW,CACb,MAAMC,EAASlsD,KAAKmsD,cAAc3qB,EAAQyqB,GAE1C,MAAO,CACLpwE,KAAM,SACNqwE,SAEJ,CACF,CACF,CAEQuC,kBAAAA,CAAmBjtB,EAAgBlzB,G,QAEzC,MAAM+0B,EAAUrjC,KAAKulC,aAAahf,cAAcib,EAAQlzB,EAAKuoC,WAC7D,IAAKxT,EAAS,OAAO,EAErB,IACE,GAAI/0B,EAAKogD,KAAK38D,OAAS48D,EAAAA,GAAYC,IAAK,CACtC,MAAM,EAAEr7C,EAAA,EAAGisB,EAAA,KAAGkvB,GAASpgD,EAAKogD,KAAKna,OAEjC,OAAOv0C,KAAKulC,aAAa/kB,mBACvB6iB,GACa,EACb9vB,GACY,EACZisB,GACa,EACbkvB,EAEJ,CAGA,IAAIG,EACAta,EAAmB,GAEvB,OAAQjmC,EAAKogD,KAAK38D,MAChB,KAAK48D,EAAAA,GAAYG,QACfD,EAAWF,EAAAA,GAAYG,QACvB,MACF,KAAKH,EAAAA,GAAYI,cAEfF,EAAWF,EAAAA,GAAYI,cACvBxa,EAAS,EAAC,OAAAhE,EAAAjiC,EAAKriB,WAAL,EAAAskD,EAAY,KAAM,GAC5B,MACF,KAAKoe,EAAAA,GAAYK,YAEfH,EAAWF,EAAAA,GAAYK,YACvBza,EAAS,EAAC,OAAA+F,EAAAhsC,EAAKriB,WAAL,EAAAquD,EAAY,KAAM,GAC5B,MACF,KAAKqU,EAAAA,GAAYM,aAEf,CACE,MAAMhkB,EAAI38B,EAAKriB,MAAQ,GACvBsoD,EAAS,CAACtJ,EAAE,IAAM,EAAGA,EAAE,IAAM,EAAGA,EAAE,IAAM,EAAGA,EAAE,IAAM,GACnD4jB,EAAWF,EAAAA,GAAYM,YACzB,CACA,MACF,KAAKN,EAAAA,GAAY3f,QACjB,QAEE,OAAO,EAGX,OAAOhvC,KAAKwsC,eAAe+H,EAAQ,CAAC1sD,EAAK8Z,IACvC3B,KAAKulC,aAAahlB,oBAAoB8iB,EAASwrB,EAAUhnE,EAAK8Z,GAElE,CAAE,QACA3B,KAAKulC,aAAaniB,eAAeigB,EACnC,CACF,CAEQiN,mBAAAA,CAAoB9O,EAAgB2O,EAAe16B,GACzD,GAAoB,gBAAhBA,EAAO55B,KAAwB,CACjC,MAAMqzE,EAAUlvD,KAAKyuD,mBAAmBjtB,EAAQ/rB,EAAO42C,aACvD,IAAK6C,EAAS,OAAO,EACrB,MAAMpwE,EAAKkhB,KAAKulC,aAAarlB,qBAAqBshB,EAAQ2O,EAAO+e,GACjE,QAASpwE,CACX,CAGA,MAAMotE,EAASz2C,EAAOy2C,OACtB,OAAQA,EAAOrwE,MACb,KAAKszE,EAAAA,GAAcC,KAAM,CACvB,MAAMF,EAAUlvD,KAAKyuD,mBAAmBjtB,EAAQ0qB,EAAOG,aACvD,IAAK6C,EAAS,OAAO,EACrB,MAAMG,EAASrvD,KAAKulC,aAAatoB,sBAAsBukB,EAAQ0tB,GAC/D,QAAKG,KACIrvD,KAAKulC,aAAatlB,uBAAuBuhB,EAAQ2O,EAAOkf,EACnE,CAEA,KAAKF,EAAAA,GAAcG,IAAK,CACtB,MAAMD,EAASrvD,KAAKulC,aAAajoB,qBAAqBkkB,EAAQ0qB,EAAOqD,KACrE,QAAKF,KACIrvD,KAAKulC,aAAatlB,uBAAuBuhB,EAAQ2O,EAAOkf,EACnE,CAEA,KAAKF,EAAAA,GAAcK,oBAAqB,CACtC,MAAMH,EAASrvD,KAAKusC,YAAY2f,EAAO3vE,KAAO6zD,GAC5CpwC,KAAKulC,aAAapoB,wBAAwBqkB,EAAQ4O,IAEpD,QAAKif,KACIrvD,KAAKulC,aAAatlB,uBAAuBuhB,EAAQ2O,EAAOkf,EACnE,CAEA,KAAKF,EAAAA,GAAcM,WAGjB,OAAO,EAET,KAAKN,EAAAA,GAAcO,YACnB,QACE,OAAO,EAEb,CAUQvD,aAAAA,CAAc3qB,EAAgByqB,GACpC,MAAM0D,EAAa3vD,KAAKulC,aAAarb,mBAAmB+hC,GACxD,IAAIC,EACJ,OAAQyD,GACN,KAAKR,EAAAA,GAAcO,YACjBxD,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcO,aAEtB,MACF,KAAKP,EAAAA,GAAcC,KACjB,CACE,MAAMhD,EAAiBpsD,KAAKulC,aAAavb,mBAAmBwX,EAAQyqB,GACpE,GAAIG,EAAgB,CAClB,MAAMC,EAAcrsD,KAAKssD,mBAAmB9qB,EAAQ4qB,GAEpDF,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcC,KACpB/C,cAEJ,MACEH,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcO,YAG1B,CACA,MACF,KAAKP,EAAAA,GAAcM,WAMfvD,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcO,aAGxB,MACF,KAAKP,EAAAA,GAAcG,IACjB,CACE,MAAMC,EAAMxxB,EACV/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAapb,sBACvBqX,EACAyqB,EACA3rE,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAOr0C,cAG3ByiE,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcG,IACpBC,MAEJ,CACA,MACF,KAAKJ,EAAAA,GAAcK,oBACjB,CACE,MAAMjzE,EAAOwhD,EACX/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAatb,uBAAuBgiC,EAAW3rE,EAAQmvD,GAErEzvC,KAAKulC,aAAazH,OAAOr0C,cAE3ByiE,EAAS,CACPrwE,KAAMszE,EAAAA,GAAcK,oBACpBjzE,OAEJ,CACA,MAGJ,OAAO2vE,CACT,CAUQI,kBAAAA,CAAmB9qB,EAAgB4qB,GACzC,MAAMvV,EAAY72C,KAAKulC,aAAalV,0BAA0BmR,EAAQ4qB,GAEhEwD,EAAkB,EAClBC,EAAiB7vD,KAAKkhC,cAAc9C,OAAOwxB,GAC3CE,EAAY9vD,KAAKkhC,cAAc9C,OAAyB,EAAlBwxB,GACtCG,EAAW/vD,KAAKulC,aAAahV,iBACjC67B,EACAyD,EACAC,GAEIE,EAAchwD,KAAKulC,aAAazH,OAAOl2C,SAASioE,EAAgB,OAChE5jE,EAAiB,GACvB,IAAK,IAAIrB,EAAI,EAAGA,EAAIolE,EAAaplE,IAAK,CACpC,MAAMqlE,EAAWH,EAAgB,EAAJllE,EAC7BqB,EAAKoB,KAAK2S,KAAKulC,aAAazH,OAAOl2C,SAASqoE,EAAU,SACxD,CAIA,GAHAjwD,KAAKkhC,cAAc5C,KAAKuxB,GACxB7vD,KAAKkhC,cAAc5C,KAAKwxB,GAEpBC,IAAapB,EAAAA,GAAYC,IAAK,CAChC,MAAMsB,EAAUlwD,KAAKkhC,cAAc9C,OAAO,GACpC+xB,EAAUnwD,KAAKkhC,cAAc9C,OAAO,GACpCgyB,EAAUpwD,KAAKkhC,cAAc9C,OAAO,GACpCiyB,EAAOrwD,KAAKkhC,cAAc9C,OAAO,GACjCkyB,EAAOtwD,KAAKkhC,cAAc9C,OAAO,GACjCmyB,EAAOvwD,KAAKkhC,cAAc9C,OAAO,GAEjCyT,EAAY7xC,KAAKulC,aAAajV,2BAClC87B,EACA8D,EACAC,EACAC,EACAC,EACAC,EACAC,GAEF,GAAI1e,EAAW,CACb,MAAM2e,EAAOxwD,KAAKulC,aAAazH,OAAOl2C,SAASsoE,EAAS,MAClDO,EAAOzwD,KAAKulC,aAAazH,OAAOl2C,SAASuoE,EAAS,MAClDO,EAAO1wD,KAAKulC,aAAazH,OAAOl2C,SAASwoE,EAAS,MAElD78C,EAAIi9C,EAAOxwD,KAAKulC,aAAazH,OAAOl2C,SAASyoE,EAAM,SAAW,EAC9D7wB,EAAIixB,EAAOzwD,KAAKulC,aAAazH,OAAOl2C,SAAS0oE,EAAM,SAAW,EAC9D5B,EAAOgC,EAAO1wD,KAAKulC,aAAazH,OAAOl2C,SAAS2oE,EAAM,SAAW,EASvE,OAPAvwD,KAAKkhC,cAAc5C,KAAK4xB,GACxBlwD,KAAKkhC,cAAc5C,KAAK6xB,GACxBnwD,KAAKkhC,cAAc5C,KAAK8xB,GACxBpwD,KAAKkhC,cAAc5C,KAAK+xB,GACxBrwD,KAAKkhC,cAAc5C,KAAKgyB,GACxBtwD,KAAKkhC,cAAc5C,KAAKiyB,GAEjB,CACL1Z,YACA6X,KAAM,CACJ38D,KAAMg+D,EACNxb,OAAQ,CACNhhC,IACAisB,IACAkvB,SAGJziE,OAEJ,CASA,OAPA+T,KAAKkhC,cAAc5C,KAAK4xB,GACxBlwD,KAAKkhC,cAAc5C,KAAK6xB,GACxBnwD,KAAKkhC,cAAc5C,KAAK8xB,GACxBpwD,KAAKkhC,cAAc5C,KAAK+xB,GACxBrwD,KAAKkhC,cAAc5C,KAAKgyB,GACxBtwD,KAAKkhC,cAAc5C,KAAKiyB,GAEjB,CACL1Z,YACA6X,KAAM,CACJ38D,KAAMg+D,EACNxb,OAAQ,CACNhhC,EAAG,EACHisB,EAAG,EACHkvB,KAAM,IAGVziE,OAEJ,CAEA,MAAO,CACL4qD,YACA6X,KAAM,CACJ38D,KAAMg+D,GAER9jE,OAEJ,CAUQooD,iBAAAA,CAAkB7S,EAAgBhpB,GACxC,MAAMk8B,EAAgB10C,KAAKulC,aAAa3U,sBAAsB4Q,EAAQhpB,GAChEh0B,EAAOu5C,EACX/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAatX,uBAAuBymB,EAAep0D,EAAQmvD,GAEzEzvC,KAAKulC,aAAazH,OAAO1oB,eAErBo/B,EAAczW,EAClB/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAahmB,8BAA8Bm1B,EAAep0D,EAAQmvD,GAEhFzvC,KAAKulC,aAAazH,OAAO1oB,eAErBq/B,EAAW1W,EACf/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAapX,0BAA0BumB,EAAep0D,EAAQmvD,GAE5EzvC,KAAKulC,aAAazH,OAAO1oB,eAErB24B,EAAe/tC,KAAKskD,kBAAkB5P,EAAe,gBACrDic,EAAW5yB,EACf/9B,KAAKulC,aAAazH,OAClB,CAACx9C,EAAQmvD,IACAzvC,KAAKulC,aAAarX,8BACvBwmB,EACA,WACAp0D,EACAmvD,GAGJzvC,KAAKulC,aAAazH,OAAO1oB,eAErBjkB,EAAO6O,KAAKorD,oBAAoB1W,EAAe,QAErD,MAAO,CACLl8B,QACAh0B,OACAgwD,cACAC,WACAtjD,OACA48C,eACA4iB,WAEJ,CAUQ5U,6BAAAA,CAA8BhP,EAAqBx3C,GACzD,MAAMq7D,EAAK7jB,EAAK57C,KAAKuuC,MACfmxB,EAAK9jB,EAAK57C,KAAKyuC,OACf9zC,EAAoB,EAAhBihD,EAAK3N,SAEf,OAAU,IAANtzC,EAEK,CAAEynB,EAAGhe,EAASge,EAAGisB,EAAGqxB,EAAKt7D,EAASiqC,GAEjC,IAAN1zC,EAGK,CAAEynB,EAAGhe,EAASiqC,EAAGA,EAAGjqC,EAASge,GAE5B,IAANznB,EAEK,CAAEynB,EAAGq9C,EAAKr7D,EAASge,EAAGisB,EAAGjqC,EAASiqC,GAKlC,CAAEjsB,EAAGs9C,EAAKt7D,EAASiqC,EAAGA,EAAGoxB,EAAKr7D,EAASge,EAElD,CAUQ+xC,6BAAAA,CAA8BvY,EAAqBx3C,GACzD,MAAMq7D,EAAK7jB,EAAK57C,KAAKuuC,MACfmxB,EAAK9jB,EAAK57C,KAAKyuC,OACf9zC,EAAoB,EAAhBihD,EAAK3N,SAEf,OAAU,IAANtzC,EAEK,CAAEynB,EAAGhe,EAASge,EAAGisB,EAAGqxB,EAAKt7D,EAASiqC,GAEjC,IAAN1zC,EAEK,CAAEynB,EAAGhe,EAASiqC,EAAGA,EAAGjqC,EAASge,GAE5B,IAANznB,EAEK,CAAEynB,EAAGq9C,EAAKr7D,EAASge,EAAGisB,EAAGjqC,EAASiqC,GAIlC,CAAEjsB,EAAGq9C,EAAKr7D,EAASiqC,EAAGA,EAAGqxB,EAAKt7D,EAASge,EAElD,CAWQq0C,2BAAAA,CACN7a,EACAub,GAOA,MAAM,EAAE/0C,EAAA,EAAGisB,GAAMx/B,KAAKslD,8BAA8BvY,EAAM,CACxDx5B,EAAG+0C,EAAS7K,KACZje,EAAG8oB,EAAS5K,MAERxe,EAAO,CACXI,OAAQ,CACN/rB,IACAisB,KAEFruC,KAAM,CACJuuC,MAAO/8C,KAAKspB,IAAIq8C,EAAS3K,MAAQ2K,EAAS7K,MAC1C7d,OAAQj9C,KAAKspB,IAAIq8C,EAAS5K,IAAM4K,EAAS1K,UAI7C,OAAO1e,CACT,CAUQ4xB,6BAAAA,CAA8Bzf,GACpC,MAAO,CACL0f,OAAQ/wD,KAAKgxD,6BAA6B3f,EAAe2b,EAAAA,GAAeC,QACxEgE,SAAUjxD,KAAKgxD,6BAA6B3f,EAAe2b,EAAAA,GAAekE,UAC1EC,KAAMnxD,KAAKgxD,6BAA6B3f,EAAe2b,EAAAA,GAAeoE,MAE1E,CAUQJ,4BAAAA,CAA6B3f,EAAuBt/C,EAAOi7D,EAAAA,GAAeC,QAChF,MAAMlP,EAAc/9C,KAAKulC,aAAa9a,gBAAgB4mB,EAAet/C,EAAM,EAAG,GACxEisD,EAAiC,GAAnBD,EAAc,GAC5Btf,EAAYz+B,KAAKkhC,cAAc9C,OAAO4f,GAC5Ch+C,KAAKulC,aAAa9a,gBAAgB4mB,EAAet/C,EAAM0sC,EAAWuf,GAClE,MAAMqT,EAAKrxD,KAAKulC,aAAazH,OAAO1oB,cAAcqpB,GAGlD,OAFAz+B,KAAKkhC,cAAc5C,KAAKG,GAEjB4yB,CACT,CAWQC,2BAAAA,CACNjgB,EACAt/C,EAAuBi7D,EAAAA,GAAeC,OACtCsE,GAGA,MAAMh7C,EAAQ,GAAKg7C,EAAU3sE,OAAS,GAChCiD,EAAMmY,KAAKkhC,cAAc9C,OAAO7nB,GACtC,IACEvW,KAAKulC,aAAazH,OAAOplB,cAAc64C,EAAW1pE,EAAK0uB,GACvD,MAAMz3B,EAAKkhB,KAAKulC,aAAanY,gBAAgBikB,EAAet/C,EAAMlK,GAClE,QAAS/I,CACX,CAAE,QACAkhB,KAAKkhC,cAAc5C,KAAKz2C,EAC1B,CACF,CAWQ8pD,eAAAA,CAAgB5E,EAAqBhI,EAAkB7F,GAE7D,MAAMsyB,EAAM7uE,KAAKupB,MAAMgzB,EAAKI,OAAO/rB,GAC7Bk+C,EAAM9uE,KAAKupB,MAAMgzB,EAAKI,OAAOE,GAC7BkyB,EAAM/uE,KAAKupB,MAAMgzB,EAAKI,OAAO/rB,EAAI2rB,EAAK/tC,KAAKuuC,OAC3CiyB,EAAMhvE,KAAKupB,MAAMgzB,EAAKI,OAAOE,EAAIN,EAAK/tC,KAAKyuC,QAG3CgyB,EAAK5xD,KAAK+7C,8BAA8BhP,EAAM,CAAEx5B,EAAGi+C,EAAKhyB,EAAGiyB,IAC3DI,EAAK7xD,KAAK+7C,8BAA8BhP,EAAM,CAAEx5B,EAAGm+C,EAAKlyB,EAAGiyB,IAC3DK,EAAK9xD,KAAK+7C,8BAA8BhP,EAAM,CAAEx5B,EAAGm+C,EAAKlyB,EAAGmyB,IAC3DI,EAAK/xD,KAAK+7C,8BAA8BhP,EAAM,CAAEx5B,EAAGi+C,EAAKhyB,EAAGmyB,IAGjE,IAAIlU,EAAO96D,KAAKuK,IAAI0kE,EAAGr+C,EAAGs+C,EAAGt+C,EAAGu+C,EAAGv+C,EAAGw+C,EAAGx+C,GACrCoqC,EAAQh7D,KAAK5B,IAAI6wE,EAAGr+C,EAAGs+C,EAAGt+C,EAAGu+C,EAAGv+C,EAAGw+C,EAAGx+C,GACtCqqC,EAASj7D,KAAKuK,IAAI0kE,EAAGpyB,EAAGqyB,EAAGryB,EAAGsyB,EAAGtyB,EAAGuyB,EAAGvyB,GACvCke,EAAM/6D,KAAK5B,IAAI6wE,EAAGpyB,EAAGqyB,EAAGryB,EAAGsyB,EAAGtyB,EAAGuyB,EAAGvyB,GACpCie,EAAOE,KAAQF,EAAME,GAAS,CAACA,EAAOF,IACtCG,EAASF,KAAME,EAAQF,GAAO,CAACA,EAAKE,IAGxC,MAAM/1D,EAAMmY,KAAKkhC,cAAc9C,OAAO,IAChC6E,EAAMjjC,KAAKulC,aAAazH,OAC9BmF,EAAIh7C,SAASJ,EAAM,EAAG41D,EAAM,SAC5Bxa,EAAIh7C,SAASJ,EAAM,EAAG61D,EAAK,SAC3Bza,EAAIh7C,SAASJ,EAAM,EAAG81D,EAAO,SAC7B1a,EAAIh7C,SAASJ,EAAM,GAAI+1D,EAAQ,SAE/B,MAAM9+D,EAAKkhB,KAAKulC,aAAa3X,kBAAkBmX,EAAUl9C,GAEzD,OADAmY,KAAKkhC,cAAc5C,KAAKz2C,KACf/I,CACX,CASQ6oE,gBAAAA,CAAiBtW,GACvB,MAAM2gB,EAAchyD,KAAKkhC,cAAc9C,OAAO,IACxCkqB,EAAW,CACf7K,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,OAAQ,GAUV,OARI59C,KAAKulC,aAAahZ,kBAAkB8kB,EAAe2gB,KACrD1J,EAAS7K,KAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAASoqE,EAAa,SAC/D1J,EAAS5K,IAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASoqE,EAAc,EAAG,SAClE1J,EAAS3K,MAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAASoqE,EAAc,EAAG,SACpE1J,EAAS1K,OAAS59C,KAAKulC,aAAazH,OAAOl2C,SAASoqE,EAAc,GAAI,UAExEhyD,KAAKkhC,cAAc5C,KAAK0zB,GAEjB1J,CACT,CAaQ2J,iBAAAA,CACNllB,EACAxI,EACA2tB,EACA1b,GAEA,MAAM4G,EAAap9C,KAAKulC,aAAa5K,oBAAoB4J,EAAa2tB,EAAY1b,GAC5E2b,EAAyB,GAGzBtmE,EAAImU,KAAKkhC,cAAc9C,OAAO,GAC9Bg0B,EAAIpyD,KAAKkhC,cAAc9C,OAAO,GAC9BtyC,EAAIkU,KAAKkhC,cAAc9C,OAAO,GAC9B/9C,EAAI2f,KAAKkhC,cAAc9C,OAAO,GAEpC,IAAK,IAAIxzC,EAAI,EAAGA,EAAIwyD,EAAYxyD,IAAK,CACnC,MAAM9L,EAAKkhB,KAAKulC,aAAa3J,iBAAiB2I,EAAa35C,EAAGiB,EAAGumE,EAAGtmE,EAAGzL,GACvE,IAAKvB,EAAI,SAET,MAAM2+D,EAAOz9C,KAAKulC,aAAazH,OAAOl2C,SAASiE,EAAG,UAC5C6xD,EAAM19C,KAAKulC,aAAazH,OAAOl2C,SAASwqE,EAAG,UAC3CzU,EAAQ39C,KAAKulC,aAAazH,OAAOl2C,SAASkE,EAAG,UAC7C8xD,EAAS59C,KAAKulC,aAAazH,OAAOl2C,SAASvH,EAAG,UAG9CklE,EAAKvlD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGkqC,EAAMje,EAAGke,IAC5D8H,EAAKxlD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGoqC,EAAOne,EAAGke,IAC7DwI,EAAKlmD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGoqC,EAAOne,EAAGoe,IAC7DuI,EAAKnmD,KAAKslD,8BAA8BvY,EAAM,CAAEx5B,EAAGkqC,EAAMje,EAAGoe,IAE5DmI,EAAK,CAACR,EAAGhyC,EAAGiyC,EAAGjyC,EAAG2yC,EAAG3yC,EAAG4yC,EAAG5yC,GAC3ByyC,EAAK,CAACT,EAAG/lB,EAAGgmB,EAAGhmB,EAAG0mB,EAAG1mB,EAAG2mB,EAAG3mB,GAE3BjsB,EAAI5wB,KAAKuK,OAAO64D,GAChBvmB,EAAI78C,KAAKuK,OAAO84D,GAChBtmB,EAAQ/8C,KAAK5B,OAAOglE,GAAMxyC,EAC1BqsB,EAASj9C,KAAK5B,OAAOilE,GAAMxmB,EAGjC2yB,EAAe9kE,KAAK,CAClBiyC,OAAQ,CAAE/rB,IAAGisB,KACbruC,KAAM,CAAEuuC,MAAO/8C,KAAK4O,KAAKmuC,GAAQE,OAAQj9C,KAAK4O,KAAKquC,KAEvD,CAOA,OALA5/B,KAAKkhC,cAAc5C,KAAKzyC,GACxBmU,KAAKkhC,cAAc5C,KAAK8zB,GACxBpyD,KAAKkhC,cAAc5C,KAAKxyC,GACxBkU,KAAKkhC,cAAc5C,KAAKj+C,GAEjB8xE,CACT,CAUAE,YAAAA,CACEnlB,EACAH,EACAulB,EACA18D,GAEAoK,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,eAAgBqB,EAAKH,EAAMulB,EAAS18D,GAChFoK,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,eAAgB,QAAS,GAAGqB,EAAIhwD,MAAM6vD,EAAKv0B,SAEtF,MAAMipB,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IACvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,yBAGb,MAAMjoD,EAAS,GAAK0tE,EAAQ1tE,OAAS,GAC/B2tE,EAAavyD,KAAKkhC,cAAc9C,OAAOx5C,GAC7Cob,KAAKulC,aAAazH,OAAOplB,cAAc45C,EAASC,EAAY3tE,GAE5D,IACE,MAAMmxB,EAAU/V,KAAKwyD,gBAAgB/wB,EAAKsL,EAAMwlB,EAAY38D,GAC5D,OAAOy2C,EAAAA,EAAczxD,QAAQm7B,EAC/B,CAAE,QACA/V,KAAKkhC,cAAc5C,KAAKi0B,EAC1B,CACF,CAYAE,mBAAAA,CACEvlB,EACAj7B,GAEAjS,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,sBAAuBqB,EAAIhwD,GAAI+0B,EAAMrtB,QAEjF,MAAM+rD,EAAO,IAAIuc,EAAAA,GAsCjB,OA/BAwF,eAAe,KACb1yD,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,sBAAuB,QAASqB,EAAIhwD,IAE/E,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,YADAkP,EAAK91D,OAAO,CAAEolB,KAAMktC,EAAAA,GAAaC,WAAYP,QAAS,yBAIxD,MAAM92B,EAAiD,CAAC,EAClDuqC,EAAQruC,EAAMrtB,OAGpB,IAAK,IAAIgG,EAAI,EAAGA,EAAIqnB,EAAMrtB,OAAQgG,IAAK,CACrC,MAAMmiD,EAAO96B,EAAMrnB,GACbmmD,EAAc/wC,KAAK2gD,uBAAuBlf,EAAKsL,GACrDh3B,EAAQg3B,EAAKv0B,OAASu4B,EAGtBJ,EAAKgiB,SAAS,CACZ9b,UAAW9J,EAAKv0B,MAChB7yB,OAAQorD,EACRrsC,UAAW9Z,EAAI,EACf01D,SAEJ,CAEAtgD,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,sBAAuB,MAAOqB,EAAIhwD,IAC7EyzD,EAAK/1D,QAAQm7B,KAGR46B,CACT,CAcAiiB,WAAAA,CACE1lB,EACAj7B,EACAqgD,EACA18D,GAEAoK,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,cAAeqB,EAAIhwD,GAAI+0B,EAAMrtB,OAAQ0tE,GAEjF,MAAM3hB,EAAO,IAAIuc,EAAAA,GA+CjB,OAxCAwF,eAAe,KACb1yD,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,QAASqB,EAAIhwD,IAEvE,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,YADAkP,EAAK91D,OAAO,CAAEolB,KAAMktC,EAAAA,GAAaC,WAAYP,QAAS,yBAKxD,MAAMjoD,EAAS,GAAK0tE,EAAQ1tE,OAAS,GAC/B2tE,EAAavyD,KAAKkhC,cAAc9C,OAAOx5C,GAC7Cob,KAAKulC,aAAazH,OAAOplB,cAAc45C,EAASC,EAAY3tE,GAE5D,IACE,MAAMmxB,EAA0C,CAAC,EAC3CuqC,EAAQruC,EAAMrtB,OAGpB,IAAK,IAAIgG,EAAI,EAAGA,EAAIqnB,EAAMrtB,OAAQgG,IAAK,CACrC,MAAMmiD,EAAO96B,EAAMrnB,GACbioE,EAAc7yD,KAAKwyD,gBAAgB/wB,EAAKsL,EAAMwlB,EAAY38D,GAChEmgB,EAAQg3B,EAAKv0B,OAASq6C,EAGtBliB,EAAKgiB,SAAS,CACZ9b,UAAW9J,EAAKv0B,MAChB7yB,OAAQktE,EACRnuD,UAAW9Z,EAAI,EACf01D,SAEJ,CAEAtgD,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,cAAe,MAAOqB,EAAIhwD,IACrEyzD,EAAK/1D,QAAQm7B,EACf,CAAE,QACA/V,KAAKkhC,cAAc5C,KAAKi0B,EAC1B,IAGK5hB,CACT,CAUQmiB,YAAAA,CACNC,EACAjmE,EACA6U,EACAqxD,EAAc,IAEd,MAAMC,EAAa,mDAGbC,EAAiB16C,IACrB,MAAOA,EAAQ,IAAMy6C,EAAWE,KAAKJ,EAASv6C,EAAQ,IAAKA,IAC3D,OAAOA,GAIH46C,EAAe56C,IACnB,MAAOA,EAAQu6C,EAASnuE,SAAWquE,EAAWE,KAAKJ,EAASv6C,IAASA,IACrE,OAAOA,GAIT,IAAIilC,EAAO3wD,EACX,MAAO2wD,EAAO,GAAKwV,EAAWE,KAAKJ,EAAStV,EAAO,IAAKA,IACxD,IAAI4V,EAAY,EAChB,MAAO5V,EAAO,GAAK4V,EAAYL,EAC7BvV,IACKwV,EAAWE,KAAKJ,EAAStV,KAAQ4V,IAExC5V,EAAOyV,EAAczV,GAGrB,IAAIE,EAAQ7wD,EAAQ6U,EACpB,MAAOg8C,EAAQoV,EAASnuE,QAAUquE,EAAWE,KAAKJ,EAASpV,IAASA,IACpE0V,EAAY,EACZ,MAAO1V,EAAQoV,EAASnuE,QAAUyuE,EAAYL,EACvCC,EAAWE,KAAKJ,EAASpV,KAAS0V,IACvC1V,IAEFA,EAAQyV,EAAYzV,GAGpB,MAAM2V,EAASP,EAASxoE,MAAMkzD,EAAM3wD,GAAO7O,QAAQ,OAAQ,KAAKs1E,YAC1DC,EAAQT,EAASxoE,MAAMuC,EAAOA,EAAQ6U,GACtC8xD,EAAQV,EACXxoE,MAAMuC,EAAQ6U,EAAOg8C,GACrB1/D,QAAQ,OAAQ,KAChBy1E,UAEH,MAAO,CACLJ,OAAQtzD,KAAK2zD,KAAKL,GAClBE,MAAOxzD,KAAK2zD,KAAKH,GACjBC,MAAOzzD,KAAK2zD,KAAKF,GACjBG,cAAenW,EAAO,EACtBoW,eAAgBlW,EAAQoV,EAASnuE,OAErC,CASQ+uE,IAAAA,CAAKjlB,GACX,OACEA,EAEGzwD,QAAQ,cAAe,IAGvBA,QAAQ,oCAAqC,IAG7CA,QAAQ,OAAQ,IAEvB,CAeQu0E,eAAAA,CACN/wB,EACAsL,EACAwlB,EACA5vD,GAEA,OAAO8+B,EAAIsB,WAAWgK,EAAKv0B,MAAQ44B,IACjC,MAAM7M,EAAc6M,EAAQ1M,cAGtB4b,EAAQtgD,KAAKulC,aAAa7K,oBAAoB6J,GAC9CuS,EAAS92C,KAAKkhC,cAAc9C,OAAO,GAAKkiB,EAAQ,IACtDtgD,KAAKulC,aAAavJ,iBAAiBuI,EAAa,EAAG+b,EAAOxJ,GAC1D,MAAMic,EAAW/yD,KAAKulC,aAAazH,OAAO1oB,cAAc0hC,GACxD92C,KAAKkhC,cAAc5C,KAAKwY,GAExB,MAAM+b,EAA8B,GAG9BiB,EAAe9zD,KAAKulC,aAAaxK,mBACrCwJ,EACAguB,EACA5vD,EACA,GAIF,MAAO3C,KAAKulC,aAAa1K,kBAAkBi5B,GAAe,CACxD,MAAM/c,EAAY/2C,KAAKulC,aAAazJ,2BAA2Bg4B,GACzDtd,EAAYx2C,KAAKulC,aAAa1J,qBAAqBi4B,GAEnDzN,EAAQrmD,KAAKiyD,kBAAkBllB,EAAMxI,EAAawS,EAAWP,GAE7DrF,EAAUnxC,KAAK8yD,aAAaC,EAAUhc,EAAWP,GAEvDqc,EAAYxlE,KAAK,CACfwpD,UAAW9J,EAAKv0B,MAChBu+B,YACAP,YACA6P,QACAlV,WAEJ,CAIA,OADAnxC,KAAKulC,aAAa3K,mBAAmBk5B,GAC9BjB,GAEX,CAWAkB,oBAAAA,CAAqB7mB,EAAwBnB,GAC3C,MAAM,mBAAEioB,GAAqB,EAAI,UAAEC,EAAY,MAASloB,GAAW,CAAC,EAEpE/rC,KAAKwlC,OAAO2D,MAAMyC,EAAYC,EAAc,uBAAwBqB,EAAKnB,GACzE/rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,QAASqB,EAAIhwD,IAGhF,MAAMukD,EAAMzhC,KAAKkjC,MAAMvB,WAAWuL,EAAIhwD,IACtC,IAAKukD,EAEH,OADAzhC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IACvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAaC,WACnBP,QAAS,yBAKb,MAAMqnB,EAAcl0D,KAAKulC,aAAa9hB,yBACtC,IAAKywC,EAEH,OADAl0D,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IACvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAagJ,iBACnBtJ,QAAS,iCAIb,IAEE,MAAMsnB,EAAqBn0D,KAAKo0D,kBAAkBH,EAAW/mB,EAAI3K,WAIjE,IACGviC,KAAKulC,aAAaxf,iBACjBmuC,EACAzyB,EAAID,OACJ2yB,GAAsB,GACtB,GAOF,OAJAn0D,KAAKulC,aAAapiB,mBAAmB+wC,GACrCl0D,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,uCAC5C7rC,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IAEvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAakJ,gBACnBxJ,QAAS,wCAKb,IAAKmnB,EAAoB,CACvB,MAAMK,EAAgBr0D,KAAKs0D,mCAAmCJ,GAE9D,IAAKG,EAAcE,QASjB,OARAv0D,KAAKulC,aAAapiB,mBAAmB+wC,GACrCl0D,KAAKwlC,OAAOjoD,MACVquD,EACAC,EACA,iCAAiCwoB,EAAc92E,SAEjDyiB,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IAEvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAS,qCAAqCwnB,EAAc92E,UAIhEyiB,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,WAAWwoB,EAAcG,uCAAuCH,EAAcI,uBAElF,CAGA,MAAMn0E,EAAS0f,KAAKs2C,aAAa4d,GAMjC,OAHAl0D,KAAKulC,aAAapiB,mBAAmB+wC,GAErCl0D,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IACvEmvD,EAAAA,EAAczxD,QAAQ0F,EAC/B,CAAE,MAAO/C,GASP,OAPI22E,GACFl0D,KAAKulC,aAAapiB,mBAAmB+wC,GAGvCl0D,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,8BAA+BtuD,GAC3EyiB,KAAKwlC,OAAO2G,KAAKP,EAAYC,EAAc,uBAAwB,MAAOqB,EAAIhwD,IAEvEmvD,EAAAA,EAAcxxD,OAAO,CAC1BolB,KAAMktC,EAAAA,GAAa6B,QACnBnC,QAAStvD,aAAiBf,MAAQe,EAAMsvD,QAAU,oCAEtD,CACF,CAWQynB,kCAAAA,CAAmCJ,GAMzC,IAAIQ,EAA0B,EAC1BD,EAAiB,EAErB,IACE,MAAMlyB,EAAYviC,KAAKulC,aAAaxgB,kBAAkBmvC,GAGtD,IAAK,IAAIrd,EAAY,EAAGA,EAAYtU,EAAWsU,IAAa,CAE1D,MAAM8d,EAAa30D,KAAKulC,aAAa1kB,0BAA0BqzC,EAAard,GAE5E,GAAI8d,GAAc,EAAG,CACnBF,IACA,QACF,CAIA,IAAIG,EAA6B,EAEjC,IAAK,IAAIC,EAAaF,EAAa,EAAGE,GAAc,EAAGA,IAAc,CAEnE,MAAMC,EAAU90D,KAAKulC,aAAavkB,wBAChCkzC,EACArd,EACAge,GAGEC,GACFF,IACAF,KAEA10D,KAAKwlC,OAAOloD,KACVsuD,EACAC,EACA,+BAA+BgpB,eAAwBhe,IAG7D,CAGA,GAAI+d,EAA6B,EAAG,CAElC,MAAMvxB,EAAUrjC,KAAKulC,aAAahf,cAAc2tC,EAAard,GACzDxT,IACFrjC,KAAKulC,aAAa/Q,yBAAyB6O,GAC3CrjC,KAAKulC,aAAaniB,eAAeigB,GAErC,CAEAoxB,GACF,CAEA,MAAO,CACLF,SAAS,EACTC,mBAAoBE,EACpBD,iBAEJ,CAAE,MAAOl3E,GACP,MAAO,CACLg3E,SAAS,EACTC,mBAAoBE,EACpBD,iBACAl3E,MAAOA,aAAiBf,MAAQe,EAAMsvD,QAAU,0CAEpD,CACF,CAYQunB,iBAAAA,CACNH,EACA3xB,GAGA,IAAK2xB,GAAkC,KAArBA,EAAUrnE,OAC1B,OAAO,KAGT,IACE,MAAMmoE,EAAsB,GACtBtqE,EAAQwpE,EAAU/oE,MAAM,KAE9B,IAAK,MAAMoe,KAAQ7e,EAAO,CACxB,MAAMuqE,EAAU1rD,EAAK1c,OAErB,GAAIooE,EAAQlyD,SAAS,KAAM,CAEzB,MAAOmyD,EAAUC,GAAUF,EAAQ9pE,MAAM,KAAKy+C,IAAK+E,GAAMA,EAAE9hD,QACrDE,EAAQqoE,SAASF,EAAU,IAC3BloE,EAAMooE,SAASD,EAAQ,IAE7B,GAAIloD,MAAMlgB,IAAUkgB,MAAMjgB,GAAM,CAC9BiT,KAAKwlC,OAAOloD,KAAKsuD,EAAYC,EAAc,kBAAkBmpB,KAC7D,QACF,CAGA,MAAMI,EAAazyE,KAAK5B,IAAI,EAAG4B,KAAKuK,IAAIJ,EAAOw1C,IACzC+yB,EAAW1yE,KAAK5B,IAAI,EAAG4B,KAAKuK,IAAIH,EAAKu1C,IAG3C,IAAK,IAAI13C,EAAIwqE,EAAYxqE,GAAKyqE,EAAUzqE,IACjCmqE,EAAUjyD,SAASlY,IACtBmqE,EAAU1nE,KAAKzC,EAGrB,KAAO,CAEL,MAAM0qE,EAAUH,SAASH,EAAS,IAElC,GAAIhoD,MAAMsoD,GAAU,CAClBt1D,KAAKwlC,OAAOloD,KAAKsuD,EAAYC,EAAc,wBAAwBmpB,KACnE,QACF,CAGA,MAAMO,EAAe5yE,KAAK5B,IAAI,EAAG4B,KAAKuK,IAAIooE,EAAShzB,IAE9CyyB,EAAUjyD,SAASyyD,IACtBR,EAAU1nE,KAAKkoE,EAEnB,CACF,CAGA,GAAyB,IAArBR,EAAUnwE,OAEZ,OADAob,KAAKwlC,OAAOloD,KAAKsuD,EAAYC,EAAc,4CACpC,KAITkpB,EAAUS,KAAK,CAAC/9D,EAAGpX,IAAMoX,EAAIpX,GAG7B,MAAMo1E,EAAsB,GAC5B,IAAIC,EAAaX,EAAU,GACvBY,EAAWZ,EAAU,GAEzB,IAAK,IAAInqE,EAAI,EAAGA,EAAImqE,EAAUnwE,OAAQgG,IAChCmqE,EAAUnqE,KAAO+qE,EAAW,IAI1BD,IAAeC,EACjBF,EAAUpoE,KAAKqoE,EAAW3tE,YACjB4tE,EAAWD,IAAe,GACnCD,EAAUpoE,KAAKqoE,EAAW3tE,YAC1B0tE,EAAUpoE,KAAKsoE,EAAS5tE,aAExB0tE,EAAUpoE,KAAK,GAAGqoE,KAAcC,KAIlCD,EAAaX,EAAUnqE,IAbvB+qE,EAAWZ,EAAUnqE,GAmBrB8qE,IAAeC,EACjBF,EAAUpoE,KAAKqoE,EAAW3tE,YACjB4tE,EAAWD,IAAe,GACnCD,EAAUpoE,KAAKqoE,EAAW3tE,YAC1B0tE,EAAUpoE,KAAKsoE,EAAS5tE,aAExB0tE,EAAUpoE,KAAK,GAAGqoE,KAAcC,KAGlC,MAAMhwE,EAAS8vE,EAAUpqE,KAAK,KAQ9B,OANA2U,KAAKwlC,OAAO2D,MACVyC,EACAC,EACA,0BAA0BooB,UAAkBtuE,MAGvCA,CACT,CAAE,MAAOpI,GAEP,OADAyiB,KAAKwlC,OAAOjoD,MAAMquD,EAAYC,EAAc,gCAAgCtuD,KACrE,IACT,CACF,ECjsPF,eAAsBq4E,EACpBC,EACA9pB,GAEA,MAAMttD,QAAiBE,MAAMk3E,GACvBt2E,QAAmBd,EAASM,cAC5Bi/C,QAAmB77C,EAAK,CAAE5C,eAG1Bu2E,EAAS,IAAIhqB,EAAa9N,EAAY,CAC1CwH,OAAQ,MAAAuG,OAAA,EAAAA,EAASvG,OACjB0G,aAAc,MAAAH,OAAA,EAAAA,EAASG,eAIzB,OAAO,IAAI6pB,EAAAA,EAAgBD,EAAQ,CACjCE,eAAgBC,EAAAA,EAChBzwB,OAAQ,MAAAuG,OAAA,EAAAA,EAASvG,QAErB,C","sources":["webpack://dans-ma-bulle/../src/vendor/pdfium.js","webpack://dans-ma-bulle/../src/vendor/functions.ts","webpack://dans-ma-bulle/../src/base.ts","webpack://dans-ma-bulle/../src/index.esm.ts","webpack://dans-ma-bulle/../src/lib/pdfium/helper.ts","webpack://dans-ma-bulle/../src/lib/pdfium/types/branded.ts","webpack://dans-ma-bulle/../src/lib/pdfium/cache.ts","webpack://dans-ma-bulle/../src/lib/pdfium/constants/limits.ts","webpack://dans-ma-bulle/../src/lib/pdfium/core/memory-manager.ts","webpack://dans-ma-bulle/../src/lib/pdfium/font-fallback.ts","webpack://dans-ma-bulle/../src/lib/pdfium/engine.ts","webpack://dans-ma-bulle/../src/lib/pdfium/web/direct-engine.ts"],"sourcesContent":["var createPdfium = (() => {\n  var _scriptName = import.meta.url;\n\n  return async function (moduleArg = {}) {\n    var moduleRtn;\n\n    // include: shell.js\n    // The Module object: Our interface to the outside world. We import\n    // and export values on it. There are various ways Module can be used:\n    // 1. Not defined. We create it here\n    // 2. A function parameter, function(moduleArg) => Promise<Module>\n    // 3. pre-run appended it, var Module = {}; ..generated code..\n    // 4. External script tag defines var Module.\n    // We need to check if Module already exists (e.g. case 3 above).\n    // Substitution will be replaced with actual code on later stage of the build,\n    // this way Closure Compiler will not mangle it (e.g. case 4. above).\n    // Note that if you want to run closure, and also to use Module\n    // after the generated code, you will need to define   var Module = {};\n    // before the code. Then that object will be used in the code, and you\n    // can continue to use Module afterwards as well.\n    var Module = moduleArg;\n\n    // Set up the promise that indicates the Module is initialized\n    var readyPromiseResolve, readyPromiseReject;\n    var readyPromise = new Promise((resolve, reject) => {\n      readyPromiseResolve = resolve;\n      readyPromiseReject = reject;\n    });\n    [\n      '_EPDF_GetMetaKeyCount',\n      '_EPDF_GetMetaKeyName',\n      '_EPDF_GetMetaTrapped',\n      '_EPDF_GetPageRotationByIndex',\n      '_EPDF_HasMetaText',\n      '_EPDF_PNG_EncodeRGBA',\n      '_EPDF_RenderAnnotBitmap',\n      '_EPDF_SetMetaText',\n      '_EPDF_SetMetaTrapped',\n      '_EPDFAction_CreateGoTo',\n      '_EPDFAction_CreateGoToNamed',\n      '_EPDFAction_CreateLaunch',\n      '_EPDFAction_CreateRemoteGoToByName',\n      '_EPDFAction_CreateRemoteGoToDest',\n      '_EPDFAction_CreateURI',\n      '_EPDFAnnot_ClearColor',\n      '_EPDFAnnot_GenerateAppearance',\n      '_EPDFAnnot_GenerateAppearanceWithBlend',\n      '_EPDFAnnot_GetBlendMode',\n      '_EPDFAnnot_GetBorderDashPattern',\n      '_EPDFAnnot_GetBorderDashPatternCount',\n      '_EPDFAnnot_GetBorderEffect',\n      '_EPDFAnnot_GetBorderStyle',\n      '_EPDFAnnot_GetColor',\n      '_EPDFAnnot_GetDefaultAppearance',\n      '_EPDFAnnot_GetIcon',\n      '_EPDFAnnot_GetIntent',\n      '_EPDFAnnot_GetLineEndings',\n      '_EPDFAnnot_GetOpacity',\n      '_EPDFAnnot_GetRectangleDifferences',\n      '_EPDFAnnot_GetRichContent',\n      '_EPDFAnnot_GetTextAlignment',\n      '_EPDFAnnot_GetVerticalAlignment',\n      '_EPDFAnnot_SetBorderDashPattern',\n      '_EPDFAnnot_SetBorderStyle',\n      '_EPDFAnnot_SetColor',\n      '_EPDFAnnot_SetDefaultAppearance',\n      '_EPDFAnnot_SetIcon',\n      '_EPDFAnnot_SetIntent',\n      '_EPDFAnnot_SetLine',\n      '_EPDFAnnot_SetLineEndings',\n      '_EPDFAnnot_SetLinkedAnnot',\n      '_EPDFAnnot_SetOpacity',\n      '_EPDFAnnot_SetTextAlignment',\n      '_EPDFAnnot_SetVerticalAlignment',\n      '_EPDFAnnot_SetVertices',\n      '_EPDFAnnot_UpdateAppearanceToRect',\n      '_EPDFAttachment_GetDescription',\n      '_EPDFAttachment_GetIntegerValue',\n      '_EPDFAttachment_SetDescription',\n      '_EPDFAttachment_SetSubtype',\n      '_EPDFBookmark_AppendChild',\n      '_EPDFBookmark_Clear',\n      '_EPDFBookmark_ClearTarget',\n      '_EPDFBookmark_Create',\n      '_EPDFBookmark_Delete',\n      '_EPDFBookmark_InsertAfter',\n      '_EPDFBookmark_SetAction',\n      '_EPDFBookmark_SetDest',\n      '_EPDFBookmark_SetTitle',\n      '_EPDFCatalog_GetLanguage',\n      '_EPDFDest_CreateRemoteView',\n      '_EPDFDest_CreateRemoteXYZ',\n      '_EPDFDest_CreateView',\n      '_EPDFDest_CreateXYZ',\n      '_EPDFNamedDest_Remove',\n      '_EPDFNamedDest_SetDest',\n      '_EPDFPage_CreateAnnot',\n      '_EPDFPage_GetAnnotByName',\n      '_EPDFPage_GetAnnotCountRaw',\n      '_EPDFPage_GetAnnotRaw',\n      '_EPDFPage_RemoveAnnotByName',\n      '_EPDFPage_RemoveAnnotRaw',\n      '_EPDFText_RedactInQuads',\n      '_EPDFText_RedactInRect',\n      '_FORM_CanRedo',\n      '_FORM_CanUndo',\n      '_FORM_DoDocumentAAction',\n      '_FORM_DoDocumentJSAction',\n      '_FORM_DoDocumentOpenAction',\n      '_FORM_DoPageAAction',\n      '_FORM_ForceToKillFocus',\n      '_FORM_GetFocusedAnnot',\n      '_FORM_GetFocusedText',\n      '_FORM_GetSelectedText',\n      '_FORM_IsIndexSelected',\n      '_FORM_OnAfterLoadPage',\n      '_FORM_OnBeforeClosePage',\n      '_FORM_OnChar',\n      '_FORM_OnFocus',\n      '_FORM_OnKeyDown',\n      '_FORM_OnKeyUp',\n      '_FORM_OnLButtonDoubleClick',\n      '_FORM_OnLButtonDown',\n      '_FORM_OnLButtonUp',\n      '_FORM_OnMouseMove',\n      '_FORM_OnMouseWheel',\n      '_FORM_OnRButtonDown',\n      '_FORM_OnRButtonUp',\n      '_FORM_Redo',\n      '_FORM_ReplaceAndKeepSelection',\n      '_FORM_ReplaceSelection',\n      '_FORM_SelectAllText',\n      '_FORM_SetFocusedAnnot',\n      '_FORM_SetIndexSelected',\n      '_FORM_Undo',\n      '_FPDF_AddInstalledFont',\n      '_FPDF_CloseDocument',\n      '_FPDF_ClosePage',\n      '_FPDF_CloseXObject',\n      '_FPDF_CopyViewerPreferences',\n      '_FPDF_CountNamedDests',\n      '_FPDF_CreateClipPath',\n      '_FPDF_CreateNewDocument',\n      '_FPDF_DestroyClipPath',\n      '_FPDF_DestroyLibrary',\n      '_FPDF_DeviceToPage',\n      '_FPDF_DocumentHasValidCrossReferenceTable',\n      '_FPDF_FFLDraw',\n      '_FPDF_FreeDefaultSystemFontInfo',\n      '_FPDF_GetDefaultSystemFontInfo',\n      '_FPDF_GetDefaultTTFMap',\n      '_FPDF_GetDefaultTTFMapCount',\n      '_FPDF_GetDefaultTTFMapEntry',\n      '_FPDF_GetDocPermissions',\n      '_FPDF_GetDocUserPermissions',\n      '_FPDF_GetFileIdentifier',\n      '_FPDF_GetFileVersion',\n      '_FPDF_GetFormType',\n      '_FPDF_GetLastError',\n      '_FPDF_GetMetaText',\n      '_FPDF_GetNamedDest',\n      '_FPDF_GetNamedDestByName',\n      '_FPDF_GetPageAAction',\n      '_FPDF_GetPageBoundingBox',\n      '_FPDF_GetPageCount',\n      '_FPDF_GetPageHeight',\n      '_FPDF_GetPageHeightF',\n      '_FPDF_GetPageLabel',\n      '_FPDF_GetPageSizeByIndex',\n      '_FPDF_GetPageSizeByIndexF',\n      '_FPDF_GetPageWidth',\n      '_FPDF_GetPageWidthF',\n      '_FPDF_GetSecurityHandlerRevision',\n      '_FPDF_GetSignatureCount',\n      '_FPDF_GetSignatureObject',\n      '_FPDF_GetTrailerEnds',\n      '_FPDF_GetXFAPacketContent',\n      '_FPDF_GetXFAPacketCount',\n      '_FPDF_GetXFAPacketName',\n      '_FPDF_ImportNPagesToOne',\n      '_FPDF_ImportPages',\n      '_FPDF_ImportPagesByIndex',\n      '_FPDF_InitLibrary',\n      '_FPDF_InitLibraryWithConfig',\n      '_FPDF_LoadCustomDocument',\n      '_FPDF_LoadDocument',\n      '_FPDF_LoadMemDocument',\n      '_FPDF_LoadMemDocument64',\n      '_FPDF_LoadPage',\n      '_FPDF_LoadXFA',\n      '_FPDF_MovePages',\n      '_FPDF_NewFormObjectFromXObject',\n      '_FPDF_NewXObjectFromPage',\n      '_FPDF_PageToDevice',\n      '_FPDF_RemoveFormFieldHighlight',\n      '_FPDF_RenderPage_Close',\n      '_FPDF_RenderPage_Continue',\n      '_FPDF_RenderPageBitmap',\n      '_FPDF_RenderPageBitmap_Start',\n      '_FPDF_RenderPageBitmapWithColorScheme_Start',\n      '_FPDF_RenderPageBitmapWithMatrix',\n      '_FPDF_SaveAsCopy',\n      '_FPDF_SaveWithVersion',\n      '_FPDF_SetFormFieldHighlightAlpha',\n      '_FPDF_SetFormFieldHighlightColor',\n      '_FPDF_SetSandBoxPolicy',\n      '_FPDF_SetSystemFontInfo',\n      '_FPDF_StructElement_Attr_CountChildren',\n      '_FPDF_StructElement_Attr_GetBlobValue',\n      '_FPDF_StructElement_Attr_GetBooleanValue',\n      '_FPDF_StructElement_Attr_GetChildAtIndex',\n      '_FPDF_StructElement_Attr_GetCount',\n      '_FPDF_StructElement_Attr_GetName',\n      '_FPDF_StructElement_Attr_GetNumberValue',\n      '_FPDF_StructElement_Attr_GetStringValue',\n      '_FPDF_StructElement_Attr_GetType',\n      '_FPDF_StructElement_Attr_GetValue',\n      '_FPDF_StructElement_CountChildren',\n      '_FPDF_StructElement_GetActualText',\n      '_FPDF_StructElement_GetAltText',\n      '_FPDF_StructElement_GetAttributeAtIndex',\n      '_FPDF_StructElement_GetAttributeCount',\n      '_FPDF_StructElement_GetChildAtIndex',\n      '_FPDF_StructElement_GetChildMarkedContentID',\n      '_FPDF_StructElement_GetID',\n      '_FPDF_StructElement_GetLang',\n      '_FPDF_StructElement_GetMarkedContentID',\n      '_FPDF_StructElement_GetMarkedContentIdAtIndex',\n      '_FPDF_StructElement_GetMarkedContentIdCount',\n      '_FPDF_StructElement_GetObjType',\n      '_FPDF_StructElement_GetParent',\n      '_FPDF_StructElement_GetStringAttribute',\n      '_FPDF_StructElement_GetTitle',\n      '_FPDF_StructElement_GetType',\n      '_FPDF_StructTree_Close',\n      '_FPDF_StructTree_CountChildren',\n      '_FPDF_StructTree_GetChildAtIndex',\n      '_FPDF_StructTree_GetForPage',\n      '_FPDF_VIEWERREF_GetDuplex',\n      '_FPDF_VIEWERREF_GetName',\n      '_FPDF_VIEWERREF_GetNumCopies',\n      '_FPDF_VIEWERREF_GetPrintPageRange',\n      '_FPDF_VIEWERREF_GetPrintPageRangeCount',\n      '_FPDF_VIEWERREF_GetPrintPageRangeElement',\n      '_FPDF_VIEWERREF_GetPrintScaling',\n      '_FPDFAction_GetDest',\n      '_FPDFAction_GetFilePath',\n      '_FPDFAction_GetType',\n      '_FPDFAction_GetURIPath',\n      '_FPDFAnnot_AddFileAttachment',\n      '_FPDFAnnot_AddInkStroke',\n      '_FPDFAnnot_AppendAttachmentPoints',\n      '_FPDFAnnot_AppendObject',\n      '_FPDFAnnot_CountAttachmentPoints',\n      '_FPDFAnnot_GetAP',\n      '_FPDFAnnot_GetAttachmentPoints',\n      '_FPDFAnnot_GetBorder',\n      '_FPDFAnnot_GetColor',\n      '_FPDFAnnot_GetFileAttachment',\n      '_FPDFAnnot_GetFlags',\n      '_FPDFAnnot_GetFocusableSubtypes',\n      '_FPDFAnnot_GetFocusableSubtypesCount',\n      '_FPDFAnnot_GetFontColor',\n      '_FPDFAnnot_GetFontSize',\n      '_FPDFAnnot_GetFormAdditionalActionJavaScript',\n      '_FPDFAnnot_GetFormControlCount',\n      '_FPDFAnnot_GetFormControlIndex',\n      '_FPDFAnnot_GetFormFieldAlternateName',\n      '_FPDFAnnot_GetFormFieldAtPoint',\n      '_FPDFAnnot_GetFormFieldExportValue',\n      '_FPDFAnnot_GetFormFieldFlags',\n      '_FPDFAnnot_GetFormFieldName',\n      '_FPDFAnnot_GetFormFieldType',\n      '_FPDFAnnot_GetFormFieldValue',\n      '_FPDFAnnot_GetInkListCount',\n      '_FPDFAnnot_GetInkListPath',\n      '_FPDFAnnot_GetLine',\n      '_FPDFAnnot_GetLink',\n      '_FPDFAnnot_GetLinkedAnnot',\n      '_FPDFAnnot_GetNumberValue',\n      '_FPDFAnnot_GetObject',\n      '_FPDFAnnot_GetObjectCount',\n      '_FPDFAnnot_GetOptionCount',\n      '_FPDFAnnot_GetOptionLabel',\n      '_FPDFAnnot_GetRect',\n      '_FPDFAnnot_GetStringValue',\n      '_FPDFAnnot_GetSubtype',\n      '_FPDFAnnot_GetValueType',\n      '_FPDFAnnot_GetVertices',\n      '_FPDFAnnot_HasAttachmentPoints',\n      '_FPDFAnnot_HasKey',\n      '_FPDFAnnot_IsChecked',\n      '_FPDFAnnot_IsObjectSupportedSubtype',\n      '_FPDFAnnot_IsOptionSelected',\n      '_FPDFAnnot_IsSupportedSubtype',\n      '_FPDFAnnot_RemoveInkList',\n      '_FPDFAnnot_RemoveObject',\n      '_FPDFAnnot_SetAP',\n      '_FPDFAnnot_SetAttachmentPoints',\n      '_FPDFAnnot_SetBorder',\n      '_FPDFAnnot_SetColor',\n      '_FPDFAnnot_SetFlags',\n      '_FPDFAnnot_SetFocusableSubtypes',\n      '_FPDFAnnot_SetFontColor',\n      '_FPDFAnnot_SetFormFieldFlags',\n      '_FPDFAnnot_SetRect',\n      '_FPDFAnnot_SetStringValue',\n      '_FPDFAnnot_SetURI',\n      '_FPDFAnnot_UpdateObject',\n      '_FPDFAttachment_GetFile',\n      '_FPDFAttachment_GetName',\n      '_FPDFAttachment_GetStringValue',\n      '_FPDFAttachment_GetSubtype',\n      '_FPDFAttachment_GetValueType',\n      '_FPDFAttachment_HasKey',\n      '_FPDFAttachment_SetFile',\n      '_FPDFAttachment_SetStringValue',\n      '_FPDFAvail_Create',\n      '_FPDFAvail_Destroy',\n      '_FPDFAvail_GetDocument',\n      '_FPDFAvail_GetFirstPageNum',\n      '_FPDFAvail_IsDocAvail',\n      '_FPDFAvail_IsFormAvail',\n      '_FPDFAvail_IsLinearized',\n      '_FPDFAvail_IsPageAvail',\n      '_FPDFBitmap_Create',\n      '_FPDFBitmap_CreateEx',\n      '_FPDFBitmap_Destroy',\n      '_FPDFBitmap_FillRect',\n      '_FPDFBitmap_GetBuffer',\n      '_FPDFBitmap_GetFormat',\n      '_FPDFBitmap_GetHeight',\n      '_FPDFBitmap_GetStride',\n      '_FPDFBitmap_GetWidth',\n      '_FPDFBookmark_Find',\n      '_FPDFBookmark_GetAction',\n      '_FPDFBookmark_GetCount',\n      '_FPDFBookmark_GetDest',\n      '_FPDFBookmark_GetFirstChild',\n      '_FPDFBookmark_GetNextSibling',\n      '_FPDFBookmark_GetTitle',\n      '_FPDFCatalog_IsTagged',\n      '_FPDFCatalog_SetLanguage',\n      '_FPDFClipPath_CountPaths',\n      '_FPDFClipPath_CountPathSegments',\n      '_FPDFClipPath_GetPathSegment',\n      '_FPDFDest_GetDestPageIndex',\n      '_FPDFDest_GetLocationInPage',\n      '_FPDFDest_GetView',\n      '_FPDFDoc_AddAttachment',\n      '_FPDFDoc_CloseJavaScriptAction',\n      '_FPDFDoc_DeleteAttachment',\n      '_FPDFDOC_ExitFormFillEnvironment',\n      '_FPDFDoc_GetAttachment',\n      '_FPDFDoc_GetAttachmentCount',\n      '_FPDFDoc_GetJavaScriptAction',\n      '_FPDFDoc_GetJavaScriptActionCount',\n      '_FPDFDoc_GetPageMode',\n      '_FPDFDOC_InitFormFillEnvironment',\n      '_FPDFFont_Close',\n      '_FPDFFont_GetAscent',\n      '_FPDFFont_GetBaseFontName',\n      '_FPDFFont_GetDescent',\n      '_FPDFFont_GetFamilyName',\n      '_FPDFFont_GetFlags',\n      '_FPDFFont_GetFontData',\n      '_FPDFFont_GetGlyphPath',\n      '_FPDFFont_GetGlyphWidth',\n      '_FPDFFont_GetIsEmbedded',\n      '_FPDFFont_GetItalicAngle',\n      '_FPDFFont_GetWeight',\n      '_FPDFFormObj_CountObjects',\n      '_FPDFFormObj_GetObject',\n      '_FPDFFormObj_RemoveObject',\n      '_FPDFGlyphPath_CountGlyphSegments',\n      '_FPDFGlyphPath_GetGlyphPathSegment',\n      '_FPDFImageObj_GetBitmap',\n      '_FPDFImageObj_GetIccProfileDataDecoded',\n      '_FPDFImageObj_GetImageDataDecoded',\n      '_FPDFImageObj_GetImageDataRaw',\n      '_FPDFImageObj_GetImageFilter',\n      '_FPDFImageObj_GetImageFilterCount',\n      '_FPDFImageObj_GetImageMetadata',\n      '_FPDFImageObj_GetImagePixelSize',\n      '_FPDFImageObj_GetRenderedBitmap',\n      '_FPDFImageObj_LoadJpegFile',\n      '_FPDFImageObj_LoadJpegFileInline',\n      '_FPDFImageObj_SetBitmap',\n      '_FPDFImageObj_SetMatrix',\n      '_FPDFJavaScriptAction_GetName',\n      '_FPDFJavaScriptAction_GetScript',\n      '_FPDFLink_CloseWebLinks',\n      '_FPDFLink_CountQuadPoints',\n      '_FPDFLink_CountRects',\n      '_FPDFLink_CountWebLinks',\n      '_FPDFLink_Enumerate',\n      '_FPDFLink_GetAction',\n      '_FPDFLink_GetAnnot',\n      '_FPDFLink_GetAnnotRect',\n      '_FPDFLink_GetDest',\n      '_FPDFLink_GetLinkAtPoint',\n      '_FPDFLink_GetLinkZOrderAtPoint',\n      '_FPDFLink_GetQuadPoints',\n      '_FPDFLink_GetRect',\n      '_FPDFLink_GetTextRange',\n      '_FPDFLink_GetURL',\n      '_FPDFLink_LoadWebLinks',\n      '_FPDFPage_CloseAnnot',\n      '_FPDFPage_CountObjects',\n      '_FPDFPage_CreateAnnot',\n      '_FPDFPage_Delete',\n      '_FPDFPage_Flatten',\n      '_FPDFPage_FormFieldZOrderAtPoint',\n      '_FPDFPage_GenerateContent',\n      '_FPDFPage_GetAnnot',\n      '_FPDFPage_GetAnnotCount',\n      '_FPDFPage_GetAnnotIndex',\n      '_FPDFPage_GetArtBox',\n      '_FPDFPage_GetBleedBox',\n      '_FPDFPage_GetCropBox',\n      '_FPDFPage_GetDecodedThumbnailData',\n      '_FPDFPage_GetMediaBox',\n      '_FPDFPage_GetObject',\n      '_FPDFPage_GetRawThumbnailData',\n      '_FPDFPage_GetRotation',\n      '_FPDFPage_GetThumbnailAsBitmap',\n      '_FPDFPage_GetTrimBox',\n      '_FPDFPage_HasFormFieldAtPoint',\n      '_FPDFPage_HasTransparency',\n      '_FPDFPage_InsertClipPath',\n      '_FPDFPage_InsertObject',\n      '_FPDFPage_InsertObjectAtIndex',\n      '_FPDFPage_New',\n      '_FPDFPage_RemoveAnnot',\n      '_FPDFPage_RemoveObject',\n      '_FPDFPage_SetArtBox',\n      '_FPDFPage_SetBleedBox',\n      '_FPDFPage_SetCropBox',\n      '_FPDFPage_SetMediaBox',\n      '_FPDFPage_SetRotation',\n      '_FPDFPage_SetTrimBox',\n      '_FPDFPage_TransformAnnots',\n      '_FPDFPage_TransFormWithClip',\n      '_FPDFPageObj_AddMark',\n      '_FPDFPageObj_CountMarks',\n      '_FPDFPageObj_CreateNewPath',\n      '_FPDFPageObj_CreateNewRect',\n      '_FPDFPageObj_CreateTextObj',\n      '_FPDFPageObj_Destroy',\n      '_FPDFPageObj_GetBounds',\n      '_FPDFPageObj_GetClipPath',\n      '_FPDFPageObj_GetDashArray',\n      '_FPDFPageObj_GetDashCount',\n      '_FPDFPageObj_GetDashPhase',\n      '_FPDFPageObj_GetFillColor',\n      '_FPDFPageObj_GetIsActive',\n      '_FPDFPageObj_GetLineCap',\n      '_FPDFPageObj_GetLineJoin',\n      '_FPDFPageObj_GetMark',\n      '_FPDFPageObj_GetMarkedContentID',\n      '_FPDFPageObj_GetMatrix',\n      '_FPDFPageObj_GetRotatedBounds',\n      '_FPDFPageObj_GetStrokeColor',\n      '_FPDFPageObj_GetStrokeWidth',\n      '_FPDFPageObj_GetType',\n      '_FPDFPageObj_HasTransparency',\n      '_FPDFPageObj_NewImageObj',\n      '_FPDFPageObj_NewTextObj',\n      '_FPDFPageObj_RemoveMark',\n      '_FPDFPageObj_SetBlendMode',\n      '_FPDFPageObj_SetDashArray',\n      '_FPDFPageObj_SetDashPhase',\n      '_FPDFPageObj_SetFillColor',\n      '_FPDFPageObj_SetIsActive',\n      '_FPDFPageObj_SetLineCap',\n      '_FPDFPageObj_SetLineJoin',\n      '_FPDFPageObj_SetMatrix',\n      '_FPDFPageObj_SetStrokeColor',\n      '_FPDFPageObj_SetStrokeWidth',\n      '_FPDFPageObj_Transform',\n      '_FPDFPageObj_TransformClipPath',\n      '_FPDFPageObj_TransformF',\n      '_FPDFPageObjMark_CountParams',\n      '_FPDFPageObjMark_GetName',\n      '_FPDFPageObjMark_GetParamBlobValue',\n      '_FPDFPageObjMark_GetParamIntValue',\n      '_FPDFPageObjMark_GetParamKey',\n      '_FPDFPageObjMark_GetParamStringValue',\n      '_FPDFPageObjMark_GetParamValueType',\n      '_FPDFPageObjMark_RemoveParam',\n      '_FPDFPageObjMark_SetBlobParam',\n      '_FPDFPageObjMark_SetIntParam',\n      '_FPDFPageObjMark_SetStringParam',\n      '_FPDFPath_BezierTo',\n      '_FPDFPath_Close',\n      '_FPDFPath_CountSegments',\n      '_FPDFPath_GetDrawMode',\n      '_FPDFPath_GetPathSegment',\n      '_FPDFPath_LineTo',\n      '_FPDFPath_MoveTo',\n      '_FPDFPath_SetDrawMode',\n      '_FPDFPathSegment_GetClose',\n      '_FPDFPathSegment_GetPoint',\n      '_FPDFPathSegment_GetType',\n      '_FPDFSignatureObj_GetByteRange',\n      '_FPDFSignatureObj_GetContents',\n      '_FPDFSignatureObj_GetDocMDPPermission',\n      '_FPDFSignatureObj_GetReason',\n      '_FPDFSignatureObj_GetSubFilter',\n      '_FPDFSignatureObj_GetTime',\n      '_FPDFText_ClosePage',\n      '_FPDFText_CountChars',\n      '_FPDFText_CountRects',\n      '_FPDFText_FindClose',\n      '_FPDFText_FindNext',\n      '_FPDFText_FindPrev',\n      '_FPDFText_FindStart',\n      '_FPDFText_GetBoundedText',\n      '_FPDFText_GetCharAngle',\n      '_FPDFText_GetCharBox',\n      '_FPDFText_GetCharIndexAtPos',\n      '_FPDFText_GetCharIndexFromTextIndex',\n      '_FPDFText_GetCharOrigin',\n      '_FPDFText_GetFillColor',\n      '_FPDFText_GetFontInfo',\n      '_FPDFText_GetFontSize',\n      '_FPDFText_GetFontWeight',\n      '_FPDFText_GetLooseCharBox',\n      '_FPDFText_GetMatrix',\n      '_FPDFText_GetRect',\n      '_FPDFText_GetSchCount',\n      '_FPDFText_GetSchResultIndex',\n      '_FPDFText_GetStrokeColor',\n      '_FPDFText_GetText',\n      '_FPDFText_GetTextIndexFromCharIndex',\n      '_FPDFText_GetTextObject',\n      '_FPDFText_GetUnicode',\n      '_FPDFText_HasUnicodeMapError',\n      '_FPDFText_IsGenerated',\n      '_FPDFText_IsHyphen',\n      '_FPDFText_LoadCidType2Font',\n      '_FPDFText_LoadFont',\n      '_FPDFText_LoadPage',\n      '_FPDFText_LoadStandardFont',\n      '_FPDFText_SetCharcodes',\n      '_FPDFText_SetText',\n      '_FPDFTextObj_GetFont',\n      '_FPDFTextObj_GetFontSize',\n      '_FPDFTextObj_GetRenderedBitmap',\n      '_FPDFTextObj_GetText',\n      '_FPDFTextObj_GetTextRenderMode',\n      '_FPDFTextObj_SetTextRenderMode',\n      '_PDFiumExt_CloseFileWriter',\n      '_PDFiumExt_CloseFormFillInfo',\n      '_PDFiumExt_ExitFormFillEnvironment',\n      '_PDFiumExt_GetFileWriterData',\n      '_PDFiumExt_GetFileWriterSize',\n      '_PDFiumExt_Init',\n      '_PDFiumExt_InitFormFillEnvironment',\n      '_PDFiumExt_OpenFileWriter',\n      '_PDFiumExt_OpenFormFillInfo',\n      '_PDFiumExt_SaveAsCopy',\n      '_malloc',\n      '_free',\n      '_memory',\n      '___indirect_function_table',\n      'onRuntimeInitialized',\n    ].forEach((prop) => {\n      if (!Object.getOwnPropertyDescriptor(readyPromise, prop)) {\n        Object.defineProperty(readyPromise, prop, {\n          get: () =>\n            abort(\n              'You are getting ' +\n                prop +\n                ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js',\n            ),\n          set: () =>\n            abort(\n              'You are setting ' +\n                prop +\n                ' on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js',\n            ),\n        });\n      }\n    });\n\n    // Determine the runtime environment we are in. You can customize this by\n    // setting the ENVIRONMENT setting at compile time (see settings.js).\n\n    // Attempt to auto-detect the environment\n    var ENVIRONMENT_IS_WEB = typeof window == 'object';\n    var ENVIRONMENT_IS_WORKER = typeof importScripts == 'function';\n    // N.b. Electron.js environment is simultaneously a NODE-environment, but\n    // also a web environment.\n    var ENVIRONMENT_IS_NODE =\n      typeof process == 'object' &&\n      typeof process.versions == 'object' &&\n      typeof process.versions.node == 'string' &&\n      process.type != 'renderer';\n    var ENVIRONMENT_IS_SHELL =\n      !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\n\n    if (ENVIRONMENT_IS_NODE) {\n      // `require()` is no-op in an ESM module, use `createRequire()` to construct\n      // the require()` function.  This is only necessary for multi-environment\n      // builds, `-sENVIRONMENT=node` emits a static import declaration instead.\n      // TODO: Swap all `require()`'s with `import()`'s?\n      const { createRequire } = await import('module');\n      let dirname = import.meta.url;\n      if (dirname.startsWith('data:')) {\n        dirname = '/';\n      }\n      /** @suppress{duplicate} */\n      var require = createRequire(dirname);\n    }\n\n    // --pre-jses are emitted after the Module integration code, so that they can\n    // refer to Module (if they choose; they can also define Module)\n\n    // Sometimes an existing Module object exists with properties\n    // meant to overwrite the default module functionality. Here\n    // we collect those properties and reapply _after_ we configure\n    // the current environment's defaults to avoid having to be so\n    // defensive during initialization.\n    var moduleOverrides = Object.assign({}, Module);\n\n    var arguments_ = [];\n    var thisProgram = './this.program';\n    var quit_ = (status, toThrow) => {\n      throw toThrow;\n    };\n\n    // `/` should be present at the end if `scriptDirectory` is not empty\n    var scriptDirectory = '';\n    function locateFile(path) {\n      if (Module['locateFile']) {\n        return Module['locateFile'](path, scriptDirectory);\n      }\n      return scriptDirectory + path;\n    }\n\n    // Hooks that are implemented differently in different runtime environments.\n    var readAsync, readBinary;\n\n    if (ENVIRONMENT_IS_NODE) {\n      if (typeof process == 'undefined' || !process.release || process.release.name !== 'node')\n        throw new Error(\n          'not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)',\n        );\n\n      var nodeVersion = process.versions.node;\n      var numericVersion = nodeVersion.split('.').slice(0, 3);\n      numericVersion =\n        numericVersion[0] * 10000 + numericVersion[1] * 100 + numericVersion[2].split('-')[0] * 1;\n      var minVersion = 160000;\n      if (numericVersion < 160000) {\n        throw new Error(\n          'This emscripten-generated code requires node v16.0.0 (detected v' + nodeVersion + ')',\n        );\n      }\n\n      // These modules will usually be used on Node.js. Load them eagerly to avoid\n      // the complexity of lazy-loading.\n      var fs = require('fs');\n      var nodePath = require('path');\n\n      // EXPORT_ES6 + ENVIRONMENT_IS_NODE always requires use of import.meta.url,\n      // since there's no way getting the current absolute path of the module when\n      // support for that is not available.\n      if (!import.meta.url.startsWith('data:')) {\n        scriptDirectory = nodePath.dirname(require('url').fileURLToPath(import.meta.url)) + '/';\n      }\n\n      // include: node_shell_read.js\n      readBinary = (filename) => {\n        // We need to re-wrap `file://` strings to URLs. Normalizing isn't\n        // necessary in that case, the path should already be absolute.\n        filename = isFileURI(filename) ? new URL(filename) : nodePath.normalize(filename);\n        var ret = fs.readFileSync(filename);\n        assert(ret.buffer);\n        return ret;\n      };\n\n      readAsync = (filename, binary = true) => {\n        // See the comment in the `readBinary` function.\n        filename = isFileURI(filename) ? new URL(filename) : nodePath.normalize(filename);\n        return new Promise((resolve, reject) => {\n          fs.readFile(filename, binary ? undefined : 'utf8', (err, data) => {\n            if (err) reject(err);\n            else resolve(binary ? data.buffer : data);\n          });\n        });\n      };\n      // end include: node_shell_read.js\n      if (!Module['thisProgram'] && process.argv.length > 1) {\n        thisProgram = process.argv[1].replace(/\\\\/g, '/');\n      }\n\n      arguments_ = process.argv.slice(2);\n\n      // MODULARIZE will export the module in the proper place outside, we don't need to export here\n\n      quit_ = (status, toThrow) => {\n        process.exitCode = status;\n        throw toThrow;\n      };\n    } else if (ENVIRONMENT_IS_SHELL) {\n      if (\n        (typeof process == 'object' && typeof require === 'function') ||\n        typeof window == 'object' ||\n        typeof importScripts == 'function'\n      )\n        throw new Error(\n          'not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)',\n        );\n\n      readBinary = (f) => {\n        if (typeof readbuffer == 'function') {\n          return new Uint8Array(readbuffer(f));\n        }\n        let data = read(f, 'binary');\n        assert(typeof data == 'object');\n        return data;\n      };\n\n      readAsync = (f) => {\n        return new Promise((resolve, reject) => {\n          setTimeout(() => resolve(readBinary(f)));\n        });\n      };\n\n      globalThis.clearTimeout ??= (id) => {};\n\n      // spidermonkey lacks setTimeout but we use it above in readAsync.\n      globalThis.setTimeout ??= (f) => (typeof f == 'function' ? f() : abort());\n\n      // v8 uses `arguments_` whereas spidermonkey uses `scriptArgs`\n      arguments_ = globalThis.arguments || globalThis.scriptArgs;\n\n      if (typeof quit == 'function') {\n        quit_ = (status, toThrow) => {\n          // Unlike node which has process.exitCode, d8 has no such mechanism. So we\n          // have no way to set the exit code and then let the program exit with\n          // that code when it naturally stops running (say, when all setTimeouts\n          // have completed). For that reason, we must call `quit` - the only way to\n          // set the exit code - but quit also halts immediately.  To increase\n          // consistency with node (and the web) we schedule the actual quit call\n          // using a setTimeout to give the current stack and any exception handlers\n          // a chance to run.  This enables features such as addOnPostRun (which\n          // expected to be able to run code after main returns).\n          setTimeout(() => {\n            if (!(toThrow instanceof ExitStatus)) {\n              let toLog = toThrow;\n              if (toThrow && typeof toThrow == 'object' && toThrow.stack) {\n                toLog = [toThrow, toThrow.stack];\n              }\n              err(`exiting due to exception: ${toLog}`);\n            }\n            quit(status);\n          });\n          throw toThrow;\n        };\n      }\n\n      if (typeof print != 'undefined') {\n        // Prefer to use print/printErr where they exist, as they usually work better.\n        globalThis.console ??= /** @type{!Console} */ ({});\n        console.log = /** @type{!function(this:Console, ...*): undefined} */ (print);\n        console.warn = console.error = /** @type{!function(this:Console, ...*): undefined} */ (\n          globalThis.printErr ?? print\n        );\n      }\n    } else if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n      // Note that this includes Node.js workers when relevant (pthreads is enabled).\n      // Node.js workers are detected as a combination of ENVIRONMENT_IS_WORKER and\n      // ENVIRONMENT_IS_NODE.\n      if (ENVIRONMENT_IS_WORKER) {\n        // Check worker, not web, since window could be polyfilled\n        scriptDirectory = self.location.href;\n      } else if (typeof document != 'undefined' && document.currentScript) {\n        // web\n        scriptDirectory = document.currentScript.src;\n      }\n      // When MODULARIZE, this JS may be executed later, after document.currentScript\n      // is gone, so we saved it, and we use it here instead of any other info.\n      if (_scriptName) {\n        scriptDirectory = _scriptName;\n      }\n      // blob urls look like blob:http://site.com/etc/etc and we cannot infer anything from them.\n      // otherwise, slice off the final part of the url to find the script directory.\n      // if scriptDirectory does not contain a slash, lastIndexOf will return -1,\n      // and scriptDirectory will correctly be replaced with an empty string.\n      // If scriptDirectory contains a query (starting with ?) or a fragment (starting with #),\n      // they are removed because they could contain a slash.\n      if (scriptDirectory.startsWith('blob:')) {\n        scriptDirectory = '';\n      } else {\n        scriptDirectory = scriptDirectory.substr(\n          0,\n          scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n        );\n      }\n\n      if (!(typeof window == 'object' || typeof importScripts == 'function'))\n        throw new Error(\n          'not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)',\n        );\n\n      {\n        // include: web_or_worker_shell_read.js\n        if (ENVIRONMENT_IS_WORKER) {\n          readBinary = (url) => {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, false);\n            xhr.responseType = 'arraybuffer';\n            xhr.send(null);\n            return new Uint8Array(/** @type{!ArrayBuffer} */ (xhr.response));\n          };\n        }\n\n        readAsync = (url) => {\n          assert(!isFileURI(url), 'readAsync does not work with file:// URLs');\n          return fetch(url, { credentials: 'same-origin' }).then((response) => {\n            if (response.ok) {\n              return response.arrayBuffer();\n            }\n            return Promise.reject(new Error(response.status + ' : ' + response.url));\n          });\n        };\n        // end include: web_or_worker_shell_read.js\n      }\n    } else {\n      throw new Error('environment detection error');\n    }\n\n    var out = Module['print'] || console.log.bind(console);\n    var err = Module['printErr'] || console.error.bind(console);\n\n    // Merge back in the overrides\n    Object.assign(Module, moduleOverrides);\n    // Free the object hierarchy contained in the overrides, this lets the GC\n    // reclaim data used.\n    moduleOverrides = null;\n    checkIncomingModuleAPI();\n\n    // Emit code to handle expected values on the Module object. This applies Module.x\n    // to the proper local x. This has two benefits: first, we only emit it if it is\n    // expected to arrive, and second, by using a local everywhere else that can be\n    // minified.\n\n    if (Module['arguments']) arguments_ = Module['arguments'];\n    legacyModuleProp('arguments', 'arguments_');\n\n    if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n    legacyModuleProp('thisProgram', 'thisProgram');\n\n    // perform assertions in shell.js after we set up out() and err(), as otherwise if an assertion fails it cannot print the message\n    // Assertions on removed incoming Module JS APIs.\n    assert(\n      typeof Module['memoryInitializerPrefixURL'] == 'undefined',\n      'Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead',\n    );\n    assert(\n      typeof Module['pthreadMainPrefixURL'] == 'undefined',\n      'Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead',\n    );\n    assert(\n      typeof Module['cdInitializerPrefixURL'] == 'undefined',\n      'Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead',\n    );\n    assert(\n      typeof Module['filePackagePrefixURL'] == 'undefined',\n      'Module.filePackagePrefixURL option was removed, use Module.locateFile instead',\n    );\n    assert(typeof Module['read'] == 'undefined', 'Module.read option was removed');\n    assert(\n      typeof Module['readAsync'] == 'undefined',\n      'Module.readAsync option was removed (modify readAsync in JS)',\n    );\n    assert(\n      typeof Module['readBinary'] == 'undefined',\n      'Module.readBinary option was removed (modify readBinary in JS)',\n    );\n    assert(\n      typeof Module['setWindowTitle'] == 'undefined',\n      'Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)',\n    );\n    assert(\n      typeof Module['TOTAL_MEMORY'] == 'undefined',\n      'Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY',\n    );\n    legacyModuleProp('asm', 'wasmExports');\n    legacyModuleProp('readAsync', 'readAsync');\n    legacyModuleProp('readBinary', 'readBinary');\n    legacyModuleProp('setWindowTitle', 'setWindowTitle');\n    var IDBFS = 'IDBFS is no longer included by default; build with -lidbfs.js';\n    var PROXYFS = 'PROXYFS is no longer included by default; build with -lproxyfs.js';\n    var WORKERFS = 'WORKERFS is no longer included by default; build with -lworkerfs.js';\n    var FETCHFS = 'FETCHFS is no longer included by default; build with -lfetchfs.js';\n    var ICASEFS = 'ICASEFS is no longer included by default; build with -licasefs.js';\n    var JSFILEFS = 'JSFILEFS is no longer included by default; build with -ljsfilefs.js';\n    var OPFS = 'OPFS is no longer included by default; build with -lopfs.js';\n\n    var NODEFS = 'NODEFS is no longer included by default; build with -lnodefs.js';\n\n    // end include: shell.js\n\n    // include: preamble.js\n    // === Preamble library stuff ===\n\n    // Documentation for the public APIs defined in this file must be updated in:\n    //    site/source/docs/api_reference/preamble.js.rst\n    // A prebuilt local version of the documentation is available at:\n    //    site/build/text/docs/api_reference/preamble.js.txt\n    // You can also build docs locally as HTML or other formats in site/\n    // An online HTML version (which may be of a different version of Emscripten)\n    //    is up at http://kripken.github.io/emscripten-site/docs/api_reference/preamble.js.html\n\n    var wasmBinary = Module['wasmBinary'];\n    legacyModuleProp('wasmBinary', 'wasmBinary');\n\n    if (typeof WebAssembly != 'object') {\n      err('no native wasm support detected');\n    }\n\n    // Wasm globals\n\n    var wasmMemory;\n\n    //========================================\n    // Runtime essentials\n    //========================================\n\n    // whether we are quitting the application. no code should run after this.\n    // set in exit() and abort()\n    var ABORT = false;\n\n    // set by exit() and abort().  Passed to 'onExit' handler.\n    // NOTE: This is also used as the process return code code in shell environments\n    // but only when noExitRuntime is false.\n    var EXITSTATUS;\n\n    // In STRICT mode, we only define assert() when ASSERTIONS is set.  i.e. we\n    // don't define it at all in release modes.  This matches the behaviour of\n    // MINIMAL_RUNTIME.\n    // TODO(sbc): Make this the default even without STRICT enabled.\n    /** @type {function(*, string=)} */\n    function assert(condition, text) {\n      if (!condition) {\n        abort('Assertion failed' + (text ? ': ' + text : ''));\n      }\n    }\n\n    // We used to include malloc/free by default in the past. Show a helpful error in\n    // builds with assertions.\n\n    // Memory management\n\n    var HEAP,\n      /** @type {!Int8Array} */\n      HEAP8,\n      /** @type {!Uint8Array} */\n      HEAPU8,\n      /** @type {!Int16Array} */\n      HEAP16,\n      /** @type {!Uint16Array} */\n      HEAPU16,\n      /** @type {!Int32Array} */\n      HEAP32,\n      /** @type {!Uint32Array} */\n      HEAPU32,\n      /** @type {!Float32Array} */\n      HEAPF32,\n      /** @type {!Float64Array} */\n      HEAPF64;\n\n    // include: runtime_shared.js\n    function updateMemoryViews() {\n      var b = wasmMemory.buffer;\n      Module['HEAP8'] = HEAP8 = new Int8Array(b);\n      Module['HEAP16'] = HEAP16 = new Int16Array(b);\n      Module['HEAPU8'] = HEAPU8 = new Uint8Array(b);\n      Module['HEAPU16'] = HEAPU16 = new Uint16Array(b);\n      Module['HEAP32'] = HEAP32 = new Int32Array(b);\n      Module['HEAPU32'] = HEAPU32 = new Uint32Array(b);\n      Module['HEAPF32'] = HEAPF32 = new Float32Array(b);\n      Module['HEAPF64'] = HEAPF64 = new Float64Array(b);\n    }\n\n    // end include: runtime_shared.js\n    assert(\n      !Module['STACK_SIZE'],\n      'STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time',\n    );\n\n    assert(\n      typeof Int32Array != 'undefined' &&\n        typeof Float64Array !== 'undefined' &&\n        Int32Array.prototype.subarray != undefined &&\n        Int32Array.prototype.set != undefined,\n      'JS engine does not provide full typed array support',\n    );\n\n    // If memory is defined in wasm, the user can't provide it, or set INITIAL_MEMORY\n    assert(\n      !Module['wasmMemory'],\n      'Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally',\n    );\n    assert(\n      !Module['INITIAL_MEMORY'],\n      'Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically',\n    );\n\n    // include: runtime_stack_check.js\n    // Initializes the stack cookie. Called at the startup of main and at the startup of each thread in pthreads mode.\n    function writeStackCookie() {\n      var max = _emscripten_stack_get_end();\n      assert((max & 3) == 0);\n      // If the stack ends at address zero we write our cookies 4 bytes into the\n      // stack.  This prevents interference with SAFE_HEAP and ASAN which also\n      // monitor writes to address zero.\n      if (max == 0) {\n        max += 4;\n      }\n      // The stack grow downwards towards _emscripten_stack_get_end.\n      // We write cookies to the final two words in the stack and detect if they are\n      // ever overwritten.\n      HEAPU32[max >> 2] = 0x02135467;\n      HEAPU32[(max + 4) >> 2] = 0x89bacdfe;\n      // Also test the global address 0 for integrity.\n      HEAPU32[0 >> 2] = 1668509029;\n    }\n\n    function checkStackCookie() {\n      if (ABORT) return;\n      var max = _emscripten_stack_get_end();\n      // See writeStackCookie().\n      if (max == 0) {\n        max += 4;\n      }\n      var cookie1 = HEAPU32[max >> 2];\n      var cookie2 = HEAPU32[(max + 4) >> 2];\n      if (cookie1 != 0x02135467 || cookie2 != 0x89bacdfe) {\n        abort(\n          `Stack overflow! Stack cookie has been overwritten at ${ptrToString(max)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ptrToString(cookie2)} ${ptrToString(cookie1)}`,\n        );\n      }\n      // Also test the global address 0 for integrity.\n      if (HEAPU32[0 >> 2] != 0x63736d65 /* 'emsc' */) {\n        abort('Runtime error: The application has corrupted its heap memory area (address zero)!');\n      }\n    }\n    // end include: runtime_stack_check.js\n    var __ATPRERUN__ = []; // functions called before the runtime is initialized\n    var __ATINIT__ = []; // functions called during startup\n    var __ATEXIT__ = []; // functions called during shutdown\n    var __ATPOSTRUN__ = []; // functions called after the main() is called\n\n    var runtimeInitialized = false;\n\n    function preRun() {\n      var preRuns = Module['preRun'];\n      if (preRuns) {\n        if (typeof preRuns == 'function') preRuns = [preRuns];\n        preRuns.forEach(addOnPreRun);\n      }\n      callRuntimeCallbacks(__ATPRERUN__);\n    }\n\n    function initRuntime() {\n      assert(!runtimeInitialized);\n      runtimeInitialized = true;\n\n      checkStackCookie();\n\n      if (!Module['noFSInit'] && !FS.initialized) FS.init();\n      FS.ignorePermissions = false;\n\n      TTY.init();\n      callRuntimeCallbacks(__ATINIT__);\n    }\n\n    function postRun() {\n      checkStackCookie();\n\n      var postRuns = Module['postRun'];\n      if (postRuns) {\n        if (typeof postRuns == 'function') postRuns = [postRuns];\n        postRuns.forEach(addOnPostRun);\n      }\n\n      callRuntimeCallbacks(__ATPOSTRUN__);\n    }\n\n    function addOnPreRun(cb) {\n      __ATPRERUN__.unshift(cb);\n    }\n\n    function addOnInit(cb) {\n      __ATINIT__.unshift(cb);\n    }\n\n    function addOnExit(cb) {}\n\n    function addOnPostRun(cb) {\n      __ATPOSTRUN__.unshift(cb);\n    }\n\n    // include: runtime_math.js\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/fround\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/clz32\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\n\n    assert(\n      Math.imul,\n      'This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill',\n    );\n    assert(\n      Math.fround,\n      'This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill',\n    );\n    assert(\n      Math.clz32,\n      'This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill',\n    );\n    assert(\n      Math.trunc,\n      'This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill',\n    );\n    // end include: runtime_math.js\n    // A counter of dependencies for calling run(). If we need to\n    // do asynchronous work before running, increment this and\n    // decrement it. Incrementing must happen in a place like\n    // Module.preRun (used by emcc to add file preloading).\n    // Note that you can add dependencies in preRun, even though\n    // it happens right before run - run will be postponed until\n    // the dependencies are met.\n    var runDependencies = 0;\n    var runDependencyWatcher = null;\n    var dependenciesFulfilled = null; // overridden to take different actions when all run dependencies are fulfilled\n    var runDependencyTracking = {};\n\n    function getUniqueRunDependency(id) {\n      var orig = id;\n      while (1) {\n        if (!runDependencyTracking[id]) return id;\n        id = orig + Math.random();\n      }\n    }\n\n    function addRunDependency(id) {\n      runDependencies++;\n\n      Module['monitorRunDependencies']?.(runDependencies);\n\n      if (id) {\n        assert(!runDependencyTracking[id]);\n        runDependencyTracking[id] = 1;\n        if (runDependencyWatcher === null && typeof setInterval != 'undefined') {\n          // Check for missing dependencies every few seconds\n          runDependencyWatcher = setInterval(() => {\n            if (ABORT) {\n              clearInterval(runDependencyWatcher);\n              runDependencyWatcher = null;\n              return;\n            }\n            var shown = false;\n            for (var dep in runDependencyTracking) {\n              if (!shown) {\n                shown = true;\n                err('still waiting on run dependencies:');\n              }\n              err(`dependency: ${dep}`);\n            }\n            if (shown) {\n              err('(end of list)');\n            }\n          }, 10000);\n        }\n      } else {\n        err('warning: run dependency added without ID');\n      }\n    }\n\n    function removeRunDependency(id) {\n      runDependencies--;\n\n      Module['monitorRunDependencies']?.(runDependencies);\n\n      if (id) {\n        assert(runDependencyTracking[id]);\n        delete runDependencyTracking[id];\n      } else {\n        err('warning: run dependency removed without ID');\n      }\n      if (runDependencies == 0) {\n        if (runDependencyWatcher !== null) {\n          clearInterval(runDependencyWatcher);\n          runDependencyWatcher = null;\n        }\n        if (dependenciesFulfilled) {\n          var callback = dependenciesFulfilled;\n          dependenciesFulfilled = null;\n          callback(); // can add another dependenciesFulfilled\n        }\n      }\n    }\n\n    /** @param {string|number=} what */\n    function abort(what) {\n      Module['onAbort']?.(what);\n\n      what = 'Aborted(' + what + ')';\n      // TODO(sbc): Should we remove printing and leave it up to whoever\n      // catches the exception?\n      err(what);\n\n      ABORT = true;\n\n      // Use a wasm runtime error, because a JS error might be seen as a foreign\n      // exception, which means we'd run destructors on it. We need the error to\n      // simply make the program stop.\n      // FIXME This approach does not work in Wasm EH because it currently does not assume\n      // all RuntimeErrors are from traps; it decides whether a RuntimeError is from\n      // a trap or not based on a hidden field within the object. So at the moment\n      // we don't have a way of throwing a wasm trap from JS. TODO Make a JS API that\n      // allows this in the wasm spec.\n\n      // Suppress closure compiler warning here. Closure compiler's builtin extern\n      // definition for WebAssembly.RuntimeError claims it takes no arguments even\n      // though it can.\n      // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure gets fixed.\n      /** @suppress {checkTypes} */\n      var e = new WebAssembly.RuntimeError(what);\n\n      readyPromiseReject(e);\n      // Throw the error whether or not MODULARIZE is set because abort is used\n      // in code paths apart from instantiation where an exception is expected\n      // to be thrown when abort is called.\n      throw e;\n    }\n\n    // include: memoryprofiler.js\n    // end include: memoryprofiler.js\n    // include: URIUtils.js\n    // Prefix of data URIs emitted by SINGLE_FILE and related options.\n    var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n    /**\n     * Indicates whether filename is a base64 data URI.\n     * @noinline\n     */\n    var isDataURI = (filename) => filename.startsWith(dataURIPrefix);\n\n    /**\n     * Indicates whether filename is delivered via file protocol (as opposed to http/https)\n     * @noinline\n     */\n    var isFileURI = (filename) => filename.startsWith('file://');\n    // end include: URIUtils.js\n    function createExportWrapper(name, nargs) {\n      return (...args) => {\n        assert(\n          runtimeInitialized,\n          `native function \\`${name}\\` called before runtime initialization`,\n        );\n        var f = wasmExports[name];\n        assert(f, `exported native function \\`${name}\\` not found`);\n        // Only assert for too many arguments. Too few can be valid since the missing arguments will be zero filled.\n        assert(\n          args.length <= nargs,\n          `native function \\`${name}\\` called with ${args.length} args but expects ${nargs}`,\n        );\n        return f(...args);\n      };\n    }\n\n    // include: runtime_exceptions.js\n    // end include: runtime_exceptions.js\n    function findWasmBinary() {\n      if (Module['locateFile']) {\n        var f = 'pdfium.wasm';\n        if (!isDataURI(f)) {\n          return locateFile(f);\n        }\n        return f;\n      }\n      if (ENVIRONMENT_IS_SHELL) return 'pdfium.wasm';\n      // Use bundler-friendly `new URL(..., import.meta.url)` pattern; works in browsers too.\n      return new URL('pdfium.wasm', import.meta.url).href;\n    }\n\n    var wasmBinaryFile;\n\n    function getBinarySync(file) {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) {\n        return readBinary(file);\n      }\n      throw 'both async and sync fetching of the wasm failed';\n    }\n\n    function getBinaryPromise(binaryFile) {\n      // If we don't have the binary yet, load it asynchronously using readAsync.\n      if (!wasmBinary) {\n        // Fetch the binary using readAsync\n        return readAsync(binaryFile).then(\n          (response) => new Uint8Array(/** @type{!ArrayBuffer} */ (response)),\n          // Fall back to getBinarySync if readAsync fails\n          () => getBinarySync(binaryFile),\n        );\n      }\n\n      // Otherwise, getBinarySync should be able to get it synchronously\n      return Promise.resolve().then(() => getBinarySync(binaryFile));\n    }\n\n    function instantiateArrayBuffer(binaryFile, imports, receiver) {\n      return getBinaryPromise(binaryFile)\n        .then((binary) => {\n          return WebAssembly.instantiate(binary, imports);\n        })\n        .then(receiver, (reason) => {\n          err(`failed to asynchronously prepare wasm: ${reason}`);\n\n          // Warn on some common problems.\n          if (isFileURI(wasmBinaryFile)) {\n            err(\n              `warning: Loading from a file URI (${wasmBinaryFile}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`,\n            );\n          }\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync(binary, binaryFile, imports, callback) {\n      if (\n        !binary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(binaryFile) &&\n        // Avoid instantiateStreaming() on Node.js environment for now, as while\n        // Node.js v18.1.0 implements it, it does not have a full fetch()\n        // implementation yet.\n        //\n        // Reference:\n        //   https://github.com/emscripten-core/emscripten/pull/16917\n        !ENVIRONMENT_IS_NODE &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(binaryFile, { credentials: 'same-origin' }).then((response) => {\n          // Suppress closure warning here since the upstream definition for\n          // instantiateStreaming only allows Promise<Repsponse> rather than\n          // an actual Response.\n          // TODO(https://github.com/google/closure-compiler/pull/3913): Remove if/when upstream closure is fixed.\n          /** @suppress {checkTypes} */\n          var result = WebAssembly.instantiateStreaming(response, imports);\n\n          return result.then(callback, function (reason) {\n            // We expect the most common failure cause to be a bad MIME type for the binary,\n            // in which case falling back to ArrayBuffer instantiation should work.\n            err(`wasm streaming compile failed: ${reason}`);\n            err('falling back to ArrayBuffer instantiation');\n            return instantiateArrayBuffer(binaryFile, imports, callback);\n          });\n        });\n      }\n      return instantiateArrayBuffer(binaryFile, imports, callback);\n    }\n\n    function getWasmImports() {\n      // prepare imports\n      return {\n        env: wasmImports,\n        wasi_snapshot_preview1: wasmImports,\n      };\n    }\n\n    // Create the wasm instance.\n    // Receives the wasm imports, returns the exports.\n    function createWasm() {\n      var info = getWasmImports();\n      // Load the wasm module and create an instance of using native support in the JS engine.\n      // handle a generated wasm instance, receiving its exports and\n      // performing other necessary setup\n      /** @param {WebAssembly.Module=} module*/\n      function receiveInstance(instance, module) {\n        wasmExports = instance.exports;\n\n        Module['wasmExports'] = wasmExports;\n\n        wasmMemory = wasmExports['memory'];\n\n        assert(wasmMemory, 'memory not found in wasm exports');\n        updateMemoryViews();\n\n        wasmTable = wasmExports['__indirect_function_table'];\n\n        assert(wasmTable, 'table not found in wasm exports');\n\n        addOnInit(wasmExports['__wasm_call_ctors']);\n\n        removeRunDependency('wasm-instantiate');\n        return wasmExports;\n      }\n      // wait for the pthread pool (if any)\n      addRunDependency('wasm-instantiate');\n\n      // Prefer streaming instantiation if available.\n      // Async compilation can be confusing when an error on the page overwrites Module\n      // (for example, if the order of elements is wrong, and the one defining Module is\n      // later), so we save Module and check it later.\n      var trueModule = Module;\n      function receiveInstantiationResult(result) {\n        // 'result' is a ResultObject object which has both the module and instance.\n        // receiveInstance() will swap in the exports (to Module.asm) so they can be called\n        assert(\n          Module === trueModule,\n          'the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?',\n        );\n        trueModule = null;\n        // TODO: Due to Closure regression https://github.com/google/closure-compiler/issues/3193, the above line no longer optimizes out down to the following line.\n        // When the regression is fixed, can restore the above PTHREADS-enabled path.\n        receiveInstance(result['instance']);\n      }\n\n      // User shell pages can write their own Module.instantiateWasm = function(imports, successCallback) callback\n      // to manually instantiate the Wasm module themselves. This allows pages to\n      // run the instantiation parallel to any other async startup actions they are\n      // performing.\n      // Also pthreads and wasm workers initialize the wasm instance through this\n      // path.\n      if (Module['instantiateWasm']) {\n        try {\n          return Module['instantiateWasm'](info, receiveInstance);\n        } catch (e) {\n          err(`Module.instantiateWasm callback failed with error: ${e}`);\n          // If instantiation fails, reject the module ready promise.\n          readyPromiseReject(e);\n        }\n      }\n\n      wasmBinaryFile ??= findWasmBinary();\n\n      // If instantiation fails, reject the module ready promise.\n      instantiateAsync(wasmBinary, wasmBinaryFile, info, receiveInstantiationResult).catch(\n        readyPromiseReject,\n      );\n      return {}; // no exports yet; we'll fill them in later\n    }\n\n    // Globals used by JS i64 conversions (see makeSetValue)\n    var tempDouble;\n    var tempI64;\n\n    // include: runtime_debug.js\n    // Endianness check\n    (() => {\n      var h16 = new Int16Array(1);\n      var h8 = new Int8Array(h16.buffer);\n      h16[0] = 0x6373;\n      if (h8[0] !== 0x73 || h8[1] !== 0x63)\n        throw 'Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)';\n    })();\n\n    if (Module['ENVIRONMENT']) {\n      throw new Error(\n        'Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)',\n      );\n    }\n\n    function legacyModuleProp(prop, newName, incoming = true) {\n      if (!Object.getOwnPropertyDescriptor(Module, prop)) {\n        Object.defineProperty(Module, prop, {\n          configurable: true,\n          get() {\n            let extra = incoming\n              ? ' (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)'\n              : '';\n            abort(`\\`Module.${prop}\\` has been replaced by \\`${newName}\\`` + extra);\n          },\n        });\n      }\n    }\n\n    function ignoredModuleProp(prop) {\n      if (Object.getOwnPropertyDescriptor(Module, prop)) {\n        abort(\n          `\\`Module.${prop}\\` was supplied but \\`${prop}\\` not included in INCOMING_MODULE_JS_API`,\n        );\n      }\n    }\n\n    // forcing the filesystem exports a few things by default\n    function isExportedByForceFilesystem(name) {\n      return (\n        name === 'FS_createPath' ||\n        name === 'FS_createDataFile' ||\n        name === 'FS_createPreloadedFile' ||\n        name === 'FS_unlink' ||\n        name === 'addRunDependency' ||\n        // The old FS has some functionality that WasmFS lacks.\n        name === 'FS_createLazyFile' ||\n        name === 'FS_createDevice' ||\n        name === 'removeRunDependency'\n      );\n    }\n\n    /**\n     * Intercept access to a global symbol.  This enables us to give informative\n     * warnings/errors when folks attempt to use symbols they did not include in\n     * their build, or no symbols that no longer exist.\n     */\n    function hookGlobalSymbolAccess(sym, func) {\n      if (typeof globalThis != 'undefined' && !Object.getOwnPropertyDescriptor(globalThis, sym)) {\n        Object.defineProperty(globalThis, sym, {\n          configurable: true,\n          get() {\n            func();\n            return undefined;\n          },\n        });\n      }\n    }\n\n    function missingGlobal(sym, msg) {\n      hookGlobalSymbolAccess(sym, () => {\n        warnOnce(`\\`${sym}\\` is not longer defined by emscripten. ${msg}`);\n      });\n    }\n\n    missingGlobal('buffer', 'Please use HEAP8.buffer or wasmMemory.buffer');\n    missingGlobal('asm', 'Please use wasmExports instead');\n\n    function missingLibrarySymbol(sym) {\n      hookGlobalSymbolAccess(sym, () => {\n        // Can't `abort()` here because it would break code that does runtime\n        // checks.  e.g. `if (typeof SDL === 'undefined')`.\n        var msg = `\\`${sym}\\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`;\n        // DEFAULT_LIBRARY_FUNCS_TO_INCLUDE requires the name as it appears in\n        // library.js, which means $name for a JS name with no prefix, or name\n        // for a JS name like _name.\n        var librarySymbol = sym;\n        if (!librarySymbol.startsWith('_')) {\n          librarySymbol = '$' + sym;\n        }\n        msg += ` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${librarySymbol}')`;\n        if (isExportedByForceFilesystem(sym)) {\n          msg +=\n            '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\n        }\n        warnOnce(msg);\n      });\n\n      // Any symbol that is not included from the JS library is also (by definition)\n      // not exported on the Module object.\n      unexportedRuntimeSymbol(sym);\n    }\n\n    function unexportedRuntimeSymbol(sym) {\n      if (!Object.getOwnPropertyDescriptor(Module, sym)) {\n        Object.defineProperty(Module, sym, {\n          configurable: true,\n          get() {\n            var msg = `'${sym}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;\n            if (isExportedByForceFilesystem(sym)) {\n              msg +=\n                '. Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you';\n            }\n            abort(msg);\n          },\n        });\n      }\n    }\n\n    // Used by XXXXX_DEBUG settings to output debug messages.\n    function dbg(...args) {\n      // TODO(sbc): Make this configurable somehow.  Its not always convenient for\n      // logging to show up as warnings.\n      console.warn(...args);\n    }\n    // end include: runtime_debug.js\n    // === Body ===\n    // end include: preamble.js\n\n    /** @constructor */\n    function ExitStatus(status) {\n      this.name = 'ExitStatus';\n      this.message = `Program terminated with exit(${status})`;\n      this.status = status;\n    }\n\n    var callRuntimeCallbacks = (callbacks) => {\n      // Pass the module as the first argument.\n      callbacks.forEach((f) => f(Module));\n    };\n\n    /**\n     * @param {number} ptr\n     * @param {string} type\n     */\n    function getValue(ptr, type = 'i8') {\n      if (type.endsWith('*')) type = '*';\n      switch (type) {\n        case 'i1':\n          return HEAP8[ptr];\n        case 'i8':\n          return HEAP8[ptr];\n        case 'i16':\n          return HEAP16[ptr >> 1];\n        case 'i32':\n          return HEAP32[ptr >> 2];\n        case 'i64':\n          abort('to do getValue(i64) use WASM_BIGINT');\n        case 'float':\n          return HEAPF32[ptr >> 2];\n        case 'double':\n          return HEAPF64[ptr >> 3];\n        case '*':\n          return HEAPU32[ptr >> 2];\n        default:\n          abort(`invalid type for getValue: ${type}`);\n      }\n    }\n\n    var noExitRuntime = Module['noExitRuntime'] || true;\n\n    var ptrToString = (ptr) => {\n      assert(typeof ptr === 'number');\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\n      ptr >>>= 0;\n      return '0x' + ptr.toString(16).padStart(8, '0');\n    };\n\n    /**\n     * @param {number} ptr\n     * @param {number} value\n     * @param {string} type\n     */\n    function setValue(ptr, value, type = 'i8') {\n      if (type.endsWith('*')) type = '*';\n      switch (type) {\n        case 'i1':\n          HEAP8[ptr] = value;\n          break;\n        case 'i8':\n          HEAP8[ptr] = value;\n          break;\n        case 'i16':\n          HEAP16[ptr >> 1] = value;\n          break;\n        case 'i32':\n          HEAP32[ptr >> 2] = value;\n          break;\n        case 'i64':\n          abort('to do setValue(i64) use WASM_BIGINT');\n        case 'float':\n          HEAPF32[ptr >> 2] = value;\n          break;\n        case 'double':\n          HEAPF64[ptr >> 3] = value;\n          break;\n        case '*':\n          HEAPU32[ptr >> 2] = value;\n          break;\n        default:\n          abort(`invalid type for setValue: ${type}`);\n      }\n    }\n\n    var stackRestore = (val) => __emscripten_stack_restore(val);\n\n    var stackSave = () => _emscripten_stack_get_current();\n\n    var warnOnce = (text) => {\n      warnOnce.shown ||= {};\n      if (!warnOnce.shown[text]) {\n        warnOnce.shown[text] = 1;\n        if (ENVIRONMENT_IS_NODE) text = 'warning: ' + text;\n        err(text);\n      }\n    };\n\n    var UTF8Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder() : undefined;\n\n    /**\n     * Given a pointer 'idx' to a null-terminated UTF8-encoded string in the given\n     * array that contains uint8 values, returns a copy of that string as a\n     * Javascript String object.\n     * heapOrArray is either a regular array, or a JavaScript typed array view.\n     * @param {number=} idx\n     * @param {number=} maxBytesToRead\n     * @return {string}\n     */\n    var UTF8ArrayToString = (heapOrArray, idx = 0, maxBytesToRead = NaN) => {\n      var endIdx = idx + maxBytesToRead;\n      var endPtr = idx;\n      // TextDecoder needs to know the byte length in advance, it doesn't stop on\n      // null terminator by itself.  Also, use the length info to avoid running tiny\n      // strings through TextDecoder, since .subarray() allocates garbage.\n      // (As a tiny code save trick, compare endPtr against endIdx using a negation,\n      // so that undefined/NaN means Infinity)\n      while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n\n      if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n        return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n      }\n      var str = '';\n      // If building with TextDecoder, we have already computed the string length\n      // above, so test loop end condition against that\n      while (idx < endPtr) {\n        // For UTF8 byte structure, see:\n        // http://en.wikipedia.org/wiki/UTF-8#Description\n        // https://www.ietf.org/rfc/rfc2279.txt\n        // https://tools.ietf.org/html/rfc3629\n        var u0 = heapOrArray[idx++];\n        if (!(u0 & 0x80)) {\n          str += String.fromCharCode(u0);\n          continue;\n        }\n        var u1 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xe0) == 0xc0) {\n          str += String.fromCharCode(((u0 & 31) << 6) | u1);\n          continue;\n        }\n        var u2 = heapOrArray[idx++] & 63;\n        if ((u0 & 0xf0) == 0xe0) {\n          u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n        } else {\n          if ((u0 & 0xf8) != 0xf0)\n            warnOnce(\n              'Invalid UTF-8 leading byte ' +\n                ptrToString(u0) +\n                ' encountered when deserializing a UTF-8 string in wasm memory to a JS string!',\n            );\n          u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n        }\n\n        if (u0 < 0x10000) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 0x10000;\n          str += String.fromCharCode(0xd800 | (ch >> 10), 0xdc00 | (ch & 0x3ff));\n        }\n      }\n      return str;\n    };\n\n    /**\n     * Given a pointer 'ptr' to a null-terminated UTF8-encoded string in the\n     * emscripten HEAP, returns a copy of that string as a Javascript String object.\n     *\n     * @param {number} ptr\n     * @param {number=} maxBytesToRead - An optional length that specifies the\n     *   maximum number of bytes to read. You can omit this parameter to scan the\n     *   string until the first 0 byte. If maxBytesToRead is passed, and the string\n     *   at [ptr, ptr+maxBytesToReadr[ contains a null byte in the middle, then the\n     *   string will cut short at that byte index (i.e. maxBytesToRead will not\n     *   produce a string of exact length [ptr, ptr+maxBytesToRead[) N.B. mixing\n     *   frequent uses of UTF8ToString() with and without maxBytesToRead may throw\n     *   JS JIT optimizations off, so it is worth to consider consistently using one\n     * @return {string}\n     */\n    var UTF8ToString = (ptr, maxBytesToRead) => {\n      assert(typeof ptr == 'number', `UTF8ToString expects a number (got ${typeof ptr})`);\n      return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : '';\n    };\n    var ___assert_fail = (condition, filename, line, func) => {\n      abort(\n        `Assertion failed: ${UTF8ToString(condition)}, at: ` +\n          [\n            filename ? UTF8ToString(filename) : 'unknown filename',\n            line,\n            func ? UTF8ToString(func) : 'unknown function',\n          ],\n      );\n    };\n\n    /** @suppress {duplicate } */\n    function syscallGetVarargI() {\n      assert(SYSCALLS.varargs != undefined);\n      // the `+` prepended here is necessary to convince the JSCompiler that varargs is indeed a number.\n      var ret = HEAP32[+SYSCALLS.varargs >> 2];\n      SYSCALLS.varargs += 4;\n      return ret;\n    }\n    var syscallGetVarargP = syscallGetVarargI;\n\n    var PATH = {\n      isAbs: (path) => path.charAt(0) === '/',\n      splitPath: (filename) => {\n        var splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\n        return splitPathRe.exec(filename).slice(1);\n      },\n      normalizeArray: (parts, allowAboveRoot) => {\n        // if the path tries to go above the root, `up` ends up > 0\n        var up = 0;\n        for (var i = parts.length - 1; i >= 0; i--) {\n          var last = parts[i];\n          if (last === '.') {\n            parts.splice(i, 1);\n          } else if (last === '..') {\n            parts.splice(i, 1);\n            up++;\n          } else if (up) {\n            parts.splice(i, 1);\n            up--;\n          }\n        }\n        // if the path is allowed to go above the root, restore leading ..s\n        if (allowAboveRoot) {\n          for (; up; up--) {\n            parts.unshift('..');\n          }\n        }\n        return parts;\n      },\n      normalize: (path) => {\n        var isAbsolute = PATH.isAbs(path),\n          trailingSlash = path.substr(-1) === '/';\n        // Normalize the path\n        path = PATH.normalizeArray(\n          path.split('/').filter((p) => !!p),\n          !isAbsolute,\n        ).join('/');\n        if (!path && !isAbsolute) {\n          path = '.';\n        }\n        if (path && trailingSlash) {\n          path += '/';\n        }\n        return (isAbsolute ? '/' : '') + path;\n      },\n      dirname: (path) => {\n        var result = PATH.splitPath(path),\n          root = result[0],\n          dir = result[1];\n        if (!root && !dir) {\n          // No dirname whatsoever\n          return '.';\n        }\n        if (dir) {\n          // It has a dirname, strip trailing slash\n          dir = dir.substr(0, dir.length - 1);\n        }\n        return root + dir;\n      },\n      basename: (path) => {\n        // EMSCRIPTEN return '/'' for '/', not an empty string\n        if (path === '/') return '/';\n        path = PATH.normalize(path);\n        path = path.replace(/\\/$/, '');\n        var lastSlash = path.lastIndexOf('/');\n        if (lastSlash === -1) return path;\n        return path.substr(lastSlash + 1);\n      },\n      join: (...paths) => PATH.normalize(paths.join('/')),\n      join2: (l, r) => PATH.normalize(l + '/' + r),\n    };\n\n    var initRandomFill = () => {\n      if (typeof crypto == 'object' && typeof crypto['getRandomValues'] == 'function') {\n        // for modern web browsers\n        return (view) => crypto.getRandomValues(view);\n      } else if (ENVIRONMENT_IS_NODE) {\n        // for nodejs with or without crypto support included\n        try {\n          var crypto_module = require('crypto');\n          var randomFillSync = crypto_module['randomFillSync'];\n          if (randomFillSync) {\n            // nodejs with LTS crypto support\n            return (view) => crypto_module['randomFillSync'](view);\n          }\n          // very old nodejs with the original crypto API\n          var randomBytes = crypto_module['randomBytes'];\n          return (view) => (\n            view.set(randomBytes(view.byteLength)),\n            // Return the original view to match modern native implementations.\n            view\n          );\n        } catch (e) {\n          // nodejs doesn't have crypto support\n        }\n      }\n      // we couldn't find a proper implementation, as Math.random() is not suitable for /dev/random, see emscripten-core/emscripten/pull/7096\n      abort(\n        'no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };',\n      );\n    };\n    var randomFill = (view) => {\n      // Lazily init on the first invocation.\n      return (randomFill = initRandomFill())(view);\n    };\n\n    var PATH_FS = {\n      resolve: (...args) => {\n        var resolvedPath = '',\n          resolvedAbsolute = false;\n        for (var i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n          var path = i >= 0 ? args[i] : FS.cwd();\n          // Skip empty and invalid entries\n          if (typeof path != 'string') {\n            throw new TypeError('Arguments to path.resolve must be strings');\n          } else if (!path) {\n            return ''; // an invalid portion invalidates the whole thing\n          }\n          resolvedPath = path + '/' + resolvedPath;\n          resolvedAbsolute = PATH.isAbs(path);\n        }\n        // At this point the path should be resolved to a full absolute path, but\n        // handle relative paths to be safe (might happen when process.cwd() fails)\n        resolvedPath = PATH.normalizeArray(\n          resolvedPath.split('/').filter((p) => !!p),\n          !resolvedAbsolute,\n        ).join('/');\n        return (resolvedAbsolute ? '/' : '') + resolvedPath || '.';\n      },\n      relative: (from, to) => {\n        from = PATH_FS.resolve(from).substr(1);\n        to = PATH_FS.resolve(to).substr(1);\n        function trim(arr) {\n          var start = 0;\n          for (; start < arr.length; start++) {\n            if (arr[start] !== '') break;\n          }\n          var end = arr.length - 1;\n          for (; end >= 0; end--) {\n            if (arr[end] !== '') break;\n          }\n          if (start > end) return [];\n          return arr.slice(start, end - start + 1);\n        }\n        var fromParts = trim(from.split('/'));\n        var toParts = trim(to.split('/'));\n        var length = Math.min(fromParts.length, toParts.length);\n        var samePartsLength = length;\n        for (var i = 0; i < length; i++) {\n          if (fromParts[i] !== toParts[i]) {\n            samePartsLength = i;\n            break;\n          }\n        }\n        var outputParts = [];\n        for (var i = samePartsLength; i < fromParts.length; i++) {\n          outputParts.push('..');\n        }\n        outputParts = outputParts.concat(toParts.slice(samePartsLength));\n        return outputParts.join('/');\n      },\n    };\n\n    var FS_stdin_getChar_buffer = [];\n\n    var lengthBytesUTF8 = (str) => {\n      var len = 0;\n      for (var i = 0; i < str.length; ++i) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\n        // unit, not a Unicode code point of the character! So decode\n        // UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        var c = str.charCodeAt(i); // possibly a lead surrogate\n        if (c <= 0x7f) {\n          len++;\n        } else if (c <= 0x7ff) {\n          len += 2;\n        } else if (c >= 0xd800 && c <= 0xdfff) {\n          len += 4;\n          ++i;\n        } else {\n          len += 3;\n        }\n      }\n      return len;\n    };\n\n    var stringToUTF8Array = (str, heap, outIdx, maxBytesToWrite) => {\n      assert(typeof str === 'string', `stringToUTF8Array expects a string (got ${typeof str})`);\n      // Parameter maxBytesToWrite is not optional. Negative values, 0, null,\n      // undefined and false each don't write out any bytes.\n      if (!(maxBytesToWrite > 0)) return 0;\n\n      var startIdx = outIdx;\n      var endIdx = outIdx + maxBytesToWrite - 1; // -1 for string null terminator.\n      for (var i = 0; i < str.length; ++i) {\n        // Gotcha: charCodeAt returns a 16-bit word that is a UTF-16 encoded code\n        // unit, not a Unicode code point of the character! So decode\n        // UTF16->UTF32->UTF8.\n        // See http://unicode.org/faq/utf_bom.html#utf16-3\n        // For UTF8 byte structure, see http://en.wikipedia.org/wiki/UTF-8#Description\n        // and https://www.ietf.org/rfc/rfc2279.txt\n        // and https://tools.ietf.org/html/rfc3629\n        var u = str.charCodeAt(i); // possibly a lead surrogate\n        if (u >= 0xd800 && u <= 0xdfff) {\n          var u1 = str.charCodeAt(++i);\n          u = (0x10000 + ((u & 0x3ff) << 10)) | (u1 & 0x3ff);\n        }\n        if (u <= 0x7f) {\n          if (outIdx >= endIdx) break;\n          heap[outIdx++] = u;\n        } else if (u <= 0x7ff) {\n          if (outIdx + 1 >= endIdx) break;\n          heap[outIdx++] = 0xc0 | (u >> 6);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else if (u <= 0xffff) {\n          if (outIdx + 2 >= endIdx) break;\n          heap[outIdx++] = 0xe0 | (u >> 12);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        } else {\n          if (outIdx + 3 >= endIdx) break;\n          if (u > 0x10ffff)\n            warnOnce(\n              'Invalid Unicode code point ' +\n                ptrToString(u) +\n                ' encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).',\n            );\n          heap[outIdx++] = 0xf0 | (u >> 18);\n          heap[outIdx++] = 0x80 | ((u >> 12) & 63);\n          heap[outIdx++] = 0x80 | ((u >> 6) & 63);\n          heap[outIdx++] = 0x80 | (u & 63);\n        }\n      }\n      // Null-terminate the pointer to the buffer.\n      heap[outIdx] = 0;\n      return outIdx - startIdx;\n    };\n    /** @type {function(string, boolean=, number=)} */\n    function intArrayFromString(stringy, dontAddNull, length) {\n      var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;\n      var u8array = new Array(len);\n      var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\n      if (dontAddNull) u8array.length = numBytesWritten;\n      return u8array;\n    }\n    var FS_stdin_getChar = () => {\n      if (!FS_stdin_getChar_buffer.length) {\n        var result = null;\n        if (ENVIRONMENT_IS_NODE) {\n          // we will read data by chunks of BUFSIZE\n          var BUFSIZE = 256;\n          var buf = Buffer.alloc(BUFSIZE);\n          var bytesRead = 0;\n\n          // For some reason we must suppress a closure warning here, even though\n          // fd definitely exists on process.stdin, and is even the proper way to\n          // get the fd of stdin,\n          // https://github.com/nodejs/help/issues/2136#issuecomment-523649904\n          // This started to happen after moving this logic out of library_tty.js,\n          // so it is related to the surrounding code in some unclear manner.\n          /** @suppress {missingProperties} */\n          var fd = process.stdin.fd;\n\n          try {\n            bytesRead = fs.readSync(fd, buf, 0, BUFSIZE);\n          } catch (e) {\n            // Cross-platform differences: on Windows, reading EOF throws an\n            // exception, but on other OSes, reading EOF returns 0. Uniformize\n            // behavior by treating the EOF exception to return 0.\n            if (e.toString().includes('EOF')) bytesRead = 0;\n            else throw e;\n          }\n\n          if (bytesRead > 0) {\n            result = buf.slice(0, bytesRead).toString('utf-8');\n          }\n        } else if (typeof window != 'undefined' && typeof window.prompt == 'function') {\n          // Browser.\n          result = window.prompt('Input: '); // returns null on cancel\n          if (result !== null) {\n            result += '\\n';\n          }\n        } else if (typeof readline == 'function') {\n          // Command line.\n          result = readline();\n          if (result) {\n            result += '\\n';\n          }\n        } else {\n        }\n        if (!result) {\n          return null;\n        }\n        FS_stdin_getChar_buffer = intArrayFromString(result, true);\n      }\n      return FS_stdin_getChar_buffer.shift();\n    };\n    var TTY = {\n      ttys: [],\n      init() {\n        // https://github.com/emscripten-core/emscripten/pull/1555\n        // if (ENVIRONMENT_IS_NODE) {\n        //   // currently, FS.init does not distinguish if process.stdin is a file or TTY\n        //   // device, it always assumes it's a TTY device. because of this, we're forcing\n        //   // process.stdin to UTF8 encoding to at least make stdin reading compatible\n        //   // with text files until FS.init can be refactored.\n        //   process.stdin.setEncoding('utf8');\n        // }\n      },\n      shutdown() {\n        // https://github.com/emscripten-core/emscripten/pull/1555\n        // if (ENVIRONMENT_IS_NODE) {\n        //   // inolen: any idea as to why node -e 'process.stdin.read()' wouldn't exit immediately (with process.stdin being a tty)?\n        //   // isaacs: because now it's reading from the stream, you've expressed interest in it, so that read() kicks off a _read() which creates a ReadReq operation\n        //   // inolen: I thought read() in that case was a synchronous operation that just grabbed some amount of buffered data if it exists?\n        //   // isaacs: it is. but it also triggers a _read() call, which calls readStart() on the handle\n        //   // isaacs: do process.stdin.pause() and i'd think it'd probably close the pending call\n        //   process.stdin.pause();\n        // }\n      },\n      register(dev, ops) {\n        TTY.ttys[dev] = { input: [], output: [], ops: ops };\n        FS.registerDevice(dev, TTY.stream_ops);\n      },\n      stream_ops: {\n        open(stream) {\n          var tty = TTY.ttys[stream.node.rdev];\n          if (!tty) {\n            throw new FS.ErrnoError(43);\n          }\n          stream.tty = tty;\n          stream.seekable = false;\n        },\n        close(stream) {\n          // flush any pending line data\n          stream.tty.ops.fsync(stream.tty);\n        },\n        fsync(stream) {\n          stream.tty.ops.fsync(stream.tty);\n        },\n        read(stream, buffer, offset, length, pos /* ignored */) {\n          if (!stream.tty || !stream.tty.ops.get_char) {\n            throw new FS.ErrnoError(60);\n          }\n          var bytesRead = 0;\n          for (var i = 0; i < length; i++) {\n            var result;\n            try {\n              result = stream.tty.ops.get_char(stream.tty);\n            } catch (e) {\n              throw new FS.ErrnoError(29);\n            }\n            if (result === undefined && bytesRead === 0) {\n              throw new FS.ErrnoError(6);\n            }\n            if (result === null || result === undefined) break;\n            bytesRead++;\n            buffer[offset + i] = result;\n          }\n          if (bytesRead) {\n            stream.node.timestamp = Date.now();\n          }\n          return bytesRead;\n        },\n        write(stream, buffer, offset, length, pos) {\n          if (!stream.tty || !stream.tty.ops.put_char) {\n            throw new FS.ErrnoError(60);\n          }\n          try {\n            for (var i = 0; i < length; i++) {\n              stream.tty.ops.put_char(stream.tty, buffer[offset + i]);\n            }\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n          if (length) {\n            stream.node.timestamp = Date.now();\n          }\n          return i;\n        },\n      },\n      default_tty_ops: {\n        get_char(tty) {\n          return FS_stdin_getChar();\n        },\n        put_char(tty, val) {\n          if (val === null || val === 10) {\n            out(UTF8ArrayToString(tty.output));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val); // val == 0 would cut text output off in the middle.\n          }\n        },\n        fsync(tty) {\n          if (tty.output && tty.output.length > 0) {\n            out(UTF8ArrayToString(tty.output));\n            tty.output = [];\n          }\n        },\n        ioctl_tcgets(tty) {\n          // typical setting\n          return {\n            c_iflag: 25856,\n            c_oflag: 5,\n            c_cflag: 191,\n            c_lflag: 35387,\n            c_cc: [\n              0x03, 0x1c, 0x7f, 0x15, 0x04, 0x00, 0x01, 0x00, 0x11, 0x13, 0x1a, 0x00, 0x12, 0x0f,\n              0x17, 0x16, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n              0x00, 0x00, 0x00, 0x00,\n            ],\n          };\n        },\n        ioctl_tcsets(tty, optional_actions, data) {\n          // currently just ignore\n          return 0;\n        },\n        ioctl_tiocgwinsz(tty) {\n          return [24, 80];\n        },\n      },\n      default_tty1_ops: {\n        put_char(tty, val) {\n          if (val === null || val === 10) {\n            err(UTF8ArrayToString(tty.output));\n            tty.output = [];\n          } else {\n            if (val != 0) tty.output.push(val);\n          }\n        },\n        fsync(tty) {\n          if (tty.output && tty.output.length > 0) {\n            err(UTF8ArrayToString(tty.output));\n            tty.output = [];\n          }\n        },\n      },\n    };\n\n    var zeroMemory = (address, size) => {\n      HEAPU8.fill(0, address, address + size);\n    };\n\n    var alignMemory = (size, alignment) => {\n      assert(alignment, 'alignment argument is required');\n      return Math.ceil(size / alignment) * alignment;\n    };\n    var mmapAlloc = (size) => {\n      size = alignMemory(size, 65536);\n      var ptr = _emscripten_builtin_memalign(65536, size);\n      if (ptr) zeroMemory(ptr, size);\n      return ptr;\n    };\n    var MEMFS = {\n      ops_table: null,\n      mount(mount) {\n        return MEMFS.createNode(null, '/', 16384 | 511 /* 0777 */, 0);\n      },\n      createNode(parent, name, mode, dev) {\n        if (FS.isBlkdev(mode) || FS.isFIFO(mode)) {\n          // no supported\n          throw new FS.ErrnoError(63);\n        }\n        MEMFS.ops_table ||= {\n          dir: {\n            node: {\n              getattr: MEMFS.node_ops.getattr,\n              setattr: MEMFS.node_ops.setattr,\n              lookup: MEMFS.node_ops.lookup,\n              mknod: MEMFS.node_ops.mknod,\n              rename: MEMFS.node_ops.rename,\n              unlink: MEMFS.node_ops.unlink,\n              rmdir: MEMFS.node_ops.rmdir,\n              readdir: MEMFS.node_ops.readdir,\n              symlink: MEMFS.node_ops.symlink,\n            },\n            stream: {\n              llseek: MEMFS.stream_ops.llseek,\n            },\n          },\n          file: {\n            node: {\n              getattr: MEMFS.node_ops.getattr,\n              setattr: MEMFS.node_ops.setattr,\n            },\n            stream: {\n              llseek: MEMFS.stream_ops.llseek,\n              read: MEMFS.stream_ops.read,\n              write: MEMFS.stream_ops.write,\n              allocate: MEMFS.stream_ops.allocate,\n              mmap: MEMFS.stream_ops.mmap,\n              msync: MEMFS.stream_ops.msync,\n            },\n          },\n          link: {\n            node: {\n              getattr: MEMFS.node_ops.getattr,\n              setattr: MEMFS.node_ops.setattr,\n              readlink: MEMFS.node_ops.readlink,\n            },\n            stream: {},\n          },\n          chrdev: {\n            node: {\n              getattr: MEMFS.node_ops.getattr,\n              setattr: MEMFS.node_ops.setattr,\n            },\n            stream: FS.chrdev_stream_ops,\n          },\n        };\n        var node = FS.createNode(parent, name, mode, dev);\n        if (FS.isDir(node.mode)) {\n          node.node_ops = MEMFS.ops_table.dir.node;\n          node.stream_ops = MEMFS.ops_table.dir.stream;\n          node.contents = {};\n        } else if (FS.isFile(node.mode)) {\n          node.node_ops = MEMFS.ops_table.file.node;\n          node.stream_ops = MEMFS.ops_table.file.stream;\n          node.usedBytes = 0; // The actual number of bytes used in the typed array, as opposed to contents.length which gives the whole capacity.\n          // When the byte data of the file is populated, this will point to either a typed array, or a normal JS array. Typed arrays are preferred\n          // for performance, and used by default. However, typed arrays are not resizable like normal JS arrays are, so there is a small disk size\n          // penalty involved for appending file writes that continuously grow a file similar to std::vector capacity vs used -scheme.\n          node.contents = null;\n        } else if (FS.isLink(node.mode)) {\n          node.node_ops = MEMFS.ops_table.link.node;\n          node.stream_ops = MEMFS.ops_table.link.stream;\n        } else if (FS.isChrdev(node.mode)) {\n          node.node_ops = MEMFS.ops_table.chrdev.node;\n          node.stream_ops = MEMFS.ops_table.chrdev.stream;\n        }\n        node.timestamp = Date.now();\n        // add the new node to the parent\n        if (parent) {\n          parent.contents[name] = node;\n          parent.timestamp = node.timestamp;\n        }\n        return node;\n      },\n      getFileDataAsTypedArray(node) {\n        if (!node.contents) return new Uint8Array(0);\n        if (node.contents.subarray) return node.contents.subarray(0, node.usedBytes); // Make sure to not return excess unused bytes.\n        return new Uint8Array(node.contents);\n      },\n      expandFileStorage(node, newCapacity) {\n        var prevCapacity = node.contents ? node.contents.length : 0;\n        if (prevCapacity >= newCapacity) return; // No need to expand, the storage was already large enough.\n        // Don't expand strictly to the given requested limit if it's only a very small increase, but instead geometrically grow capacity.\n        // For small filesizes (<1MB), perform size*2 geometric increase, but for large sizes, do a much more conservative size*1.125 increase to\n        // avoid overshooting the allocation cap by a very large margin.\n        var CAPACITY_DOUBLING_MAX = 1024 * 1024;\n        newCapacity = Math.max(\n          newCapacity,\n          (prevCapacity * (prevCapacity < CAPACITY_DOUBLING_MAX ? 2.0 : 1.125)) >>> 0,\n        );\n        if (prevCapacity != 0) newCapacity = Math.max(newCapacity, 256); // At minimum allocate 256b for each file when expanding.\n        var oldContents = node.contents;\n        node.contents = new Uint8Array(newCapacity); // Allocate new storage.\n        if (node.usedBytes > 0) node.contents.set(oldContents.subarray(0, node.usedBytes), 0); // Copy old data over to the new storage.\n      },\n      resizeFileStorage(node, newSize) {\n        if (node.usedBytes == newSize) return;\n        if (newSize == 0) {\n          node.contents = null; // Fully decommit when requesting a resize to zero.\n          node.usedBytes = 0;\n        } else {\n          var oldContents = node.contents;\n          node.contents = new Uint8Array(newSize); // Allocate new storage.\n          if (oldContents) {\n            node.contents.set(oldContents.subarray(0, Math.min(newSize, node.usedBytes))); // Copy old data over to the new storage.\n          }\n          node.usedBytes = newSize;\n        }\n      },\n      node_ops: {\n        getattr(node) {\n          var attr = {};\n          // device numbers reuse inode numbers.\n          attr.dev = FS.isChrdev(node.mode) ? node.id : 1;\n          attr.ino = node.id;\n          attr.mode = node.mode;\n          attr.nlink = 1;\n          attr.uid = 0;\n          attr.gid = 0;\n          attr.rdev = node.rdev;\n          if (FS.isDir(node.mode)) {\n            attr.size = 4096;\n          } else if (FS.isFile(node.mode)) {\n            attr.size = node.usedBytes;\n          } else if (FS.isLink(node.mode)) {\n            attr.size = node.link.length;\n          } else {\n            attr.size = 0;\n          }\n          attr.atime = new Date(node.timestamp);\n          attr.mtime = new Date(node.timestamp);\n          attr.ctime = new Date(node.timestamp);\n          // NOTE: In our implementation, st_blocks = Math.ceil(st_size/st_blksize),\n          //       but this is not required by the standard.\n          attr.blksize = 4096;\n          attr.blocks = Math.ceil(attr.size / attr.blksize);\n          return attr;\n        },\n        setattr(node, attr) {\n          if (attr.mode !== undefined) {\n            node.mode = attr.mode;\n          }\n          if (attr.timestamp !== undefined) {\n            node.timestamp = attr.timestamp;\n          }\n          if (attr.size !== undefined) {\n            MEMFS.resizeFileStorage(node, attr.size);\n          }\n        },\n        lookup(parent, name) {\n          throw FS.genericErrors[44];\n        },\n        mknod(parent, name, mode, dev) {\n          return MEMFS.createNode(parent, name, mode, dev);\n        },\n        rename(old_node, new_dir, new_name) {\n          // if we're overwriting a directory at new_name, make sure it's empty.\n          if (FS.isDir(old_node.mode)) {\n            var new_node;\n            try {\n              new_node = FS.lookupNode(new_dir, new_name);\n            } catch (e) {}\n            if (new_node) {\n              for (var i in new_node.contents) {\n                throw new FS.ErrnoError(55);\n              }\n            }\n          }\n          // do the internal rewiring\n          delete old_node.parent.contents[old_node.name];\n          old_node.parent.timestamp = Date.now();\n          old_node.name = new_name;\n          new_dir.contents[new_name] = old_node;\n          new_dir.timestamp = old_node.parent.timestamp;\n        },\n        unlink(parent, name) {\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n        rmdir(parent, name) {\n          var node = FS.lookupNode(parent, name);\n          for (var i in node.contents) {\n            throw new FS.ErrnoError(55);\n          }\n          delete parent.contents[name];\n          parent.timestamp = Date.now();\n        },\n        readdir(node) {\n          var entries = ['.', '..'];\n          for (var key of Object.keys(node.contents)) {\n            entries.push(key);\n          }\n          return entries;\n        },\n        symlink(parent, newname, oldpath) {\n          var node = MEMFS.createNode(parent, newname, 511 /* 0777 */ | 40960, 0);\n          node.link = oldpath;\n          return node;\n        },\n        readlink(node) {\n          if (!FS.isLink(node.mode)) {\n            throw new FS.ErrnoError(28);\n          }\n          return node.link;\n        },\n      },\n      stream_ops: {\n        read(stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= stream.node.usedBytes) return 0;\n          var size = Math.min(stream.node.usedBytes - position, length);\n          assert(size >= 0);\n          if (size > 8 && contents.subarray) {\n            // non-trivial, and typed array\n            buffer.set(contents.subarray(position, position + size), offset);\n          } else {\n            for (var i = 0; i < size; i++) buffer[offset + i] = contents[position + i];\n          }\n          return size;\n        },\n        write(stream, buffer, offset, length, position, canOwn) {\n          // The data buffer should be a typed array view\n          assert(!(buffer instanceof ArrayBuffer));\n          // If the buffer is located in main memory (HEAP), and if\n          // memory can grow, we can't hold on to references of the\n          // memory buffer, as they may get invalidated. That means we\n          // need to do copy its contents.\n          if (buffer.buffer === HEAP8.buffer) {\n            canOwn = false;\n          }\n\n          if (!length) return 0;\n          var node = stream.node;\n          node.timestamp = Date.now();\n\n          if (buffer.subarray && (!node.contents || node.contents.subarray)) {\n            // This write is from a typed array to a typed array?\n            if (canOwn) {\n              assert(position === 0, 'canOwn must imply no weird position inside the file');\n              node.contents = buffer.subarray(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (node.usedBytes === 0 && position === 0) {\n              // If this is a simple first write to an empty file, do a fast set since we don't need to care about old data.\n              node.contents = buffer.slice(offset, offset + length);\n              node.usedBytes = length;\n              return length;\n            } else if (position + length <= node.usedBytes) {\n              // Writing to an already allocated and used subrange of the file?\n              node.contents.set(buffer.subarray(offset, offset + length), position);\n              return length;\n            }\n          }\n\n          // Appending to an existing file and we need to reallocate, or source data did not come as a typed array.\n          MEMFS.expandFileStorage(node, position + length);\n          if (node.contents.subarray && buffer.subarray) {\n            // Use typed array write which is available.\n            node.contents.set(buffer.subarray(offset, offset + length), position);\n          } else {\n            for (var i = 0; i < length; i++) {\n              node.contents[position + i] = buffer[offset + i]; // Or fall back to manual write if not.\n            }\n          }\n          node.usedBytes = Math.max(node.usedBytes, position + length);\n          return length;\n        },\n        llseek(stream, offset, whence) {\n          var position = offset;\n          if (whence === 1) {\n            position += stream.position;\n          } else if (whence === 2) {\n            if (FS.isFile(stream.node.mode)) {\n              position += stream.node.usedBytes;\n            }\n          }\n          if (position < 0) {\n            throw new FS.ErrnoError(28);\n          }\n          return position;\n        },\n        allocate(stream, offset, length) {\n          MEMFS.expandFileStorage(stream.node, offset + length);\n          stream.node.usedBytes = Math.max(stream.node.usedBytes, offset + length);\n        },\n        mmap(stream, length, position, prot, flags) {\n          if (!FS.isFile(stream.node.mode)) {\n            throw new FS.ErrnoError(43);\n          }\n          var ptr;\n          var allocated;\n          var contents = stream.node.contents;\n          // Only make a new copy when MAP_PRIVATE is specified.\n          if (!(flags & 2) && contents && contents.buffer === HEAP8.buffer) {\n            // We can't emulate MAP_SHARED when the file is not backed by the\n            // buffer we're mapping to (e.g. the HEAP buffer).\n            allocated = false;\n            ptr = contents.byteOffset;\n          } else {\n            allocated = true;\n            ptr = mmapAlloc(length);\n            if (!ptr) {\n              throw new FS.ErrnoError(48);\n            }\n            if (contents) {\n              // Try to avoid unnecessary slices.\n              if (position > 0 || position + length < contents.length) {\n                if (contents.subarray) {\n                  contents = contents.subarray(position, position + length);\n                } else {\n                  contents = Array.prototype.slice.call(contents, position, position + length);\n                }\n              }\n              HEAP8.set(contents, ptr);\n            }\n          }\n          return { ptr, allocated };\n        },\n        msync(stream, buffer, offset, length, mmapFlags) {\n          MEMFS.stream_ops.write(stream, buffer, 0, length, offset, false);\n          // should we check if bytesWritten and length are the same?\n          return 0;\n        },\n      },\n    };\n\n    /** @param {boolean=} noRunDep */\n    var asyncLoad = (url, onload, onerror, noRunDep) => {\n      var dep = !noRunDep ? getUniqueRunDependency(`al ${url}`) : '';\n      readAsync(url).then(\n        (arrayBuffer) => {\n          assert(arrayBuffer, `Loading data file \"${url}\" failed (no arrayBuffer).`);\n          onload(new Uint8Array(arrayBuffer));\n          if (dep) removeRunDependency(dep);\n        },\n        (err) => {\n          if (onerror) {\n            onerror();\n          } else {\n            throw `Loading data file \"${url}\" failed.`;\n          }\n        },\n      );\n      if (dep) addRunDependency(dep);\n    };\n\n    var FS_createDataFile = (parent, name, fileData, canRead, canWrite, canOwn) => {\n      FS.createDataFile(parent, name, fileData, canRead, canWrite, canOwn);\n    };\n\n    var preloadPlugins = Module['preloadPlugins'] || [];\n    var FS_handledByPreloadPlugin = (byteArray, fullname, finish, onerror) => {\n      // Ensure plugins are ready.\n      if (typeof Browser != 'undefined') Browser.init();\n\n      var handled = false;\n      preloadPlugins.forEach((plugin) => {\n        if (handled) return;\n        if (plugin['canHandle'](fullname)) {\n          plugin['handle'](byteArray, fullname, finish, onerror);\n          handled = true;\n        }\n      });\n      return handled;\n    };\n    var FS_createPreloadedFile = (\n      parent,\n      name,\n      url,\n      canRead,\n      canWrite,\n      onload,\n      onerror,\n      dontCreateFile,\n      canOwn,\n      preFinish,\n    ) => {\n      // TODO we should allow people to just pass in a complete filename instead\n      // of parent and name being that we just join them anyways\n      var fullname = name ? PATH_FS.resolve(PATH.join2(parent, name)) : parent;\n      var dep = getUniqueRunDependency(`cp ${fullname}`); // might have several active requests for the same fullname\n      function processData(byteArray) {\n        function finish(byteArray) {\n          preFinish?.();\n          if (!dontCreateFile) {\n            FS_createDataFile(parent, name, byteArray, canRead, canWrite, canOwn);\n          }\n          onload?.();\n          removeRunDependency(dep);\n        }\n        if (\n          FS_handledByPreloadPlugin(byteArray, fullname, finish, () => {\n            onerror?.();\n            removeRunDependency(dep);\n          })\n        ) {\n          return;\n        }\n        finish(byteArray);\n      }\n      addRunDependency(dep);\n      if (typeof url == 'string') {\n        asyncLoad(url, processData, onerror);\n      } else {\n        processData(url);\n      }\n    };\n\n    var FS_modeStringToFlags = (str) => {\n      var flagModes = {\n        r: 0,\n        'r+': 2,\n        w: 512 | 64 | 1,\n        'w+': 512 | 64 | 2,\n        a: 1024 | 64 | 1,\n        'a+': 1024 | 64 | 2,\n      };\n      var flags = flagModes[str];\n      if (typeof flags == 'undefined') {\n        throw new Error(`Unknown file open mode: ${str}`);\n      }\n      return flags;\n    };\n\n    var FS_getMode = (canRead, canWrite) => {\n      var mode = 0;\n      if (canRead) mode |= 292 | 73;\n      if (canWrite) mode |= 146;\n      return mode;\n    };\n\n    var strError = (errno) => {\n      return UTF8ToString(_strerror(errno));\n    };\n\n    var ERRNO_CODES = {\n      EPERM: 63,\n      ENOENT: 44,\n      ESRCH: 71,\n      EINTR: 27,\n      EIO: 29,\n      ENXIO: 60,\n      E2BIG: 1,\n      ENOEXEC: 45,\n      EBADF: 8,\n      ECHILD: 12,\n      EAGAIN: 6,\n      EWOULDBLOCK: 6,\n      ENOMEM: 48,\n      EACCES: 2,\n      EFAULT: 21,\n      ENOTBLK: 105,\n      EBUSY: 10,\n      EEXIST: 20,\n      EXDEV: 75,\n      ENODEV: 43,\n      ENOTDIR: 54,\n      EISDIR: 31,\n      EINVAL: 28,\n      ENFILE: 41,\n      EMFILE: 33,\n      ENOTTY: 59,\n      ETXTBSY: 74,\n      EFBIG: 22,\n      ENOSPC: 51,\n      ESPIPE: 70,\n      EROFS: 69,\n      EMLINK: 34,\n      EPIPE: 64,\n      EDOM: 18,\n      ERANGE: 68,\n      ENOMSG: 49,\n      EIDRM: 24,\n      ECHRNG: 106,\n      EL2NSYNC: 156,\n      EL3HLT: 107,\n      EL3RST: 108,\n      ELNRNG: 109,\n      EUNATCH: 110,\n      ENOCSI: 111,\n      EL2HLT: 112,\n      EDEADLK: 16,\n      ENOLCK: 46,\n      EBADE: 113,\n      EBADR: 114,\n      EXFULL: 115,\n      ENOANO: 104,\n      EBADRQC: 103,\n      EBADSLT: 102,\n      EDEADLOCK: 16,\n      EBFONT: 101,\n      ENOSTR: 100,\n      ENODATA: 116,\n      ETIME: 117,\n      ENOSR: 118,\n      ENONET: 119,\n      ENOPKG: 120,\n      EREMOTE: 121,\n      ENOLINK: 47,\n      EADV: 122,\n      ESRMNT: 123,\n      ECOMM: 124,\n      EPROTO: 65,\n      EMULTIHOP: 36,\n      EDOTDOT: 125,\n      EBADMSG: 9,\n      ENOTUNIQ: 126,\n      EBADFD: 127,\n      EREMCHG: 128,\n      ELIBACC: 129,\n      ELIBBAD: 130,\n      ELIBSCN: 131,\n      ELIBMAX: 132,\n      ELIBEXEC: 133,\n      ENOSYS: 52,\n      ENOTEMPTY: 55,\n      ENAMETOOLONG: 37,\n      ELOOP: 32,\n      EOPNOTSUPP: 138,\n      EPFNOSUPPORT: 139,\n      ECONNRESET: 15,\n      ENOBUFS: 42,\n      EAFNOSUPPORT: 5,\n      EPROTOTYPE: 67,\n      ENOTSOCK: 57,\n      ENOPROTOOPT: 50,\n      ESHUTDOWN: 140,\n      ECONNREFUSED: 14,\n      EADDRINUSE: 3,\n      ECONNABORTED: 13,\n      ENETUNREACH: 40,\n      ENETDOWN: 38,\n      ETIMEDOUT: 73,\n      EHOSTDOWN: 142,\n      EHOSTUNREACH: 23,\n      EINPROGRESS: 26,\n      EALREADY: 7,\n      EDESTADDRREQ: 17,\n      EMSGSIZE: 35,\n      EPROTONOSUPPORT: 66,\n      ESOCKTNOSUPPORT: 137,\n      EADDRNOTAVAIL: 4,\n      ENETRESET: 39,\n      EISCONN: 30,\n      ENOTCONN: 53,\n      ETOOMANYREFS: 141,\n      EUSERS: 136,\n      EDQUOT: 19,\n      ESTALE: 72,\n      ENOTSUP: 138,\n      ENOMEDIUM: 148,\n      EILSEQ: 25,\n      EOVERFLOW: 61,\n      ECANCELED: 11,\n      ENOTRECOVERABLE: 56,\n      EOWNERDEAD: 62,\n      ESTRPIPE: 135,\n    };\n    var FS = {\n      root: null,\n      mounts: [],\n      devices: {},\n      streams: [],\n      nextInode: 1,\n      nameTable: null,\n      currentPath: '/',\n      initialized: false,\n      ignorePermissions: true,\n      ErrnoError: class extends Error {\n        // We set the `name` property to be able to identify `FS.ErrnoError`\n        // - the `name` is a standard ECMA-262 property of error objects. Kind of good to have it anyway.\n        // - when using PROXYFS, an error can come from an underlying FS\n        // as different FS objects have their own FS.ErrnoError each,\n        // the test `err instanceof FS.ErrnoError` won't detect an error coming from another filesystem, causing bugs.\n        // we'll use the reliable test `err.name == \"ErrnoError\"` instead\n        constructor(errno) {\n          super(runtimeInitialized ? strError(errno) : '');\n          // TODO(sbc): Use the inline member declaration syntax once we\n          // support it in acorn and closure.\n          this.name = 'ErrnoError';\n          this.errno = errno;\n          for (var key in ERRNO_CODES) {\n            if (ERRNO_CODES[key] === errno) {\n              this.code = key;\n              break;\n            }\n          }\n        }\n      },\n      genericErrors: {},\n      filesystems: null,\n      syncFSRequests: 0,\n      readFiles: {},\n      FSStream: class {\n        constructor() {\n          // TODO(https://github.com/emscripten-core/emscripten/issues/21414):\n          // Use inline field declarations.\n          this.shared = {};\n        }\n        get object() {\n          return this.node;\n        }\n        set object(val) {\n          this.node = val;\n        }\n        get isRead() {\n          return (this.flags & 2097155) !== 1;\n        }\n        get isWrite() {\n          return (this.flags & 2097155) !== 0;\n        }\n        get isAppend() {\n          return this.flags & 1024;\n        }\n        get flags() {\n          return this.shared.flags;\n        }\n        set flags(val) {\n          this.shared.flags = val;\n        }\n        get position() {\n          return this.shared.position;\n        }\n        set position(val) {\n          this.shared.position = val;\n        }\n      },\n      FSNode: class {\n        constructor(parent, name, mode, rdev) {\n          if (!parent) {\n            parent = this; // root node sets parent to itself\n          }\n          this.parent = parent;\n          this.mount = parent.mount;\n          this.mounted = null;\n          this.id = FS.nextInode++;\n          this.name = name;\n          this.mode = mode;\n          this.node_ops = {};\n          this.stream_ops = {};\n          this.rdev = rdev;\n          this.readMode = 292 | 73;\n          this.writeMode = 146;\n        }\n        get read() {\n          return (this.mode & this.readMode) === this.readMode;\n        }\n        set read(val) {\n          val ? (this.mode |= this.readMode) : (this.mode &= ~this.readMode);\n        }\n        get write() {\n          return (this.mode & this.writeMode) === this.writeMode;\n        }\n        set write(val) {\n          val ? (this.mode |= this.writeMode) : (this.mode &= ~this.writeMode);\n        }\n        get isFolder() {\n          return FS.isDir(this.mode);\n        }\n        get isDevice() {\n          return FS.isChrdev(this.mode);\n        }\n      },\n      lookupPath(path, opts = {}) {\n        path = PATH_FS.resolve(path);\n\n        if (!path) return { path: '', node: null };\n\n        var defaults = {\n          follow_mount: true,\n          recurse_count: 0,\n        };\n        opts = Object.assign(defaults, opts);\n\n        if (opts.recurse_count > 8) {\n          // max recursive lookup of 8\n          throw new FS.ErrnoError(32);\n        }\n\n        // split the absolute path\n        var parts = path.split('/').filter((p) => !!p);\n\n        // start at the root\n        var current = FS.root;\n        var current_path = '/';\n\n        for (var i = 0; i < parts.length; i++) {\n          var islast = i === parts.length - 1;\n          if (islast && opts.parent) {\n            // stop resolving\n            break;\n          }\n\n          current = FS.lookupNode(current, parts[i]);\n          current_path = PATH.join2(current_path, parts[i]);\n\n          // jump to the mount's root node if this is a mountpoint\n          if (FS.isMountpoint(current)) {\n            if (!islast || (islast && opts.follow_mount)) {\n              current = current.mounted.root;\n            }\n          }\n\n          // by default, lookupPath will not follow a symlink if it is the final path component.\n          // setting opts.follow = true will override this behavior.\n          if (!islast || opts.follow) {\n            var count = 0;\n            while (FS.isLink(current.mode)) {\n              var link = FS.readlink(current_path);\n              current_path = PATH_FS.resolve(PATH.dirname(current_path), link);\n\n              var lookup = FS.lookupPath(current_path, { recurse_count: opts.recurse_count + 1 });\n              current = lookup.node;\n\n              if (count++ > 40) {\n                // limit max consecutive symlinks to 40 (SYMLOOP_MAX).\n                throw new FS.ErrnoError(32);\n              }\n            }\n          }\n        }\n\n        return { path: current_path, node: current };\n      },\n      getPath(node) {\n        var path;\n        while (true) {\n          if (FS.isRoot(node)) {\n            var mount = node.mount.mountpoint;\n            if (!path) return mount;\n            return mount[mount.length - 1] !== '/' ? `${mount}/${path}` : mount + path;\n          }\n          path = path ? `${node.name}/${path}` : node.name;\n          node = node.parent;\n        }\n      },\n      hashName(parentid, name) {\n        var hash = 0;\n\n        for (var i = 0; i < name.length; i++) {\n          hash = ((hash << 5) - hash + name.charCodeAt(i)) | 0;\n        }\n        return ((parentid + hash) >>> 0) % FS.nameTable.length;\n      },\n      hashAddNode(node) {\n        var hash = FS.hashName(node.parent.id, node.name);\n        node.name_next = FS.nameTable[hash];\n        FS.nameTable[hash] = node;\n      },\n      hashRemoveNode(node) {\n        var hash = FS.hashName(node.parent.id, node.name);\n        if (FS.nameTable[hash] === node) {\n          FS.nameTable[hash] = node.name_next;\n        } else {\n          var current = FS.nameTable[hash];\n          while (current) {\n            if (current.name_next === node) {\n              current.name_next = node.name_next;\n              break;\n            }\n            current = current.name_next;\n          }\n        }\n      },\n      lookupNode(parent, name) {\n        var errCode = FS.mayLookup(parent);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        var hash = FS.hashName(parent.id, name);\n        for (var node = FS.nameTable[hash]; node; node = node.name_next) {\n          var nodeName = node.name;\n          if (node.parent.id === parent.id && nodeName === name) {\n            return node;\n          }\n        }\n        // if we failed to find it in the cache, call into the VFS\n        return FS.lookup(parent, name);\n      },\n      createNode(parent, name, mode, rdev) {\n        assert(typeof parent == 'object');\n        var node = new FS.FSNode(parent, name, mode, rdev);\n\n        FS.hashAddNode(node);\n\n        return node;\n      },\n      destroyNode(node) {\n        FS.hashRemoveNode(node);\n      },\n      isRoot(node) {\n        return node === node.parent;\n      },\n      isMountpoint(node) {\n        return !!node.mounted;\n      },\n      isFile(mode) {\n        return (mode & 61440) === 32768;\n      },\n      isDir(mode) {\n        return (mode & 61440) === 16384;\n      },\n      isLink(mode) {\n        return (mode & 61440) === 40960;\n      },\n      isChrdev(mode) {\n        return (mode & 61440) === 8192;\n      },\n      isBlkdev(mode) {\n        return (mode & 61440) === 24576;\n      },\n      isFIFO(mode) {\n        return (mode & 61440) === 4096;\n      },\n      isSocket(mode) {\n        return (mode & 49152) === 49152;\n      },\n      flagsToPermissionString(flag) {\n        var perms = ['r', 'w', 'rw'][flag & 3];\n        if (flag & 512) {\n          perms += 'w';\n        }\n        return perms;\n      },\n      nodePermissions(node, perms) {\n        if (FS.ignorePermissions) {\n          return 0;\n        }\n        // return 0 if any user, group or owner bits are set.\n        if (perms.includes('r') && !(node.mode & 292)) {\n          return 2;\n        } else if (perms.includes('w') && !(node.mode & 146)) {\n          return 2;\n        } else if (perms.includes('x') && !(node.mode & 73)) {\n          return 2;\n        }\n        return 0;\n      },\n      mayLookup(dir) {\n        if (!FS.isDir(dir.mode)) return 54;\n        var errCode = FS.nodePermissions(dir, 'x');\n        if (errCode) return errCode;\n        if (!dir.node_ops.lookup) return 2;\n        return 0;\n      },\n      mayCreate(dir, name) {\n        try {\n          var node = FS.lookupNode(dir, name);\n          return 20;\n        } catch (e) {}\n        return FS.nodePermissions(dir, 'wx');\n      },\n      mayDelete(dir, name, isdir) {\n        var node;\n        try {\n          node = FS.lookupNode(dir, name);\n        } catch (e) {\n          return e.errno;\n        }\n        var errCode = FS.nodePermissions(dir, 'wx');\n        if (errCode) {\n          return errCode;\n        }\n        if (isdir) {\n          if (!FS.isDir(node.mode)) {\n            return 54;\n          }\n          if (FS.isRoot(node) || FS.getPath(node) === FS.cwd()) {\n            return 10;\n          }\n        } else {\n          if (FS.isDir(node.mode)) {\n            return 31;\n          }\n        }\n        return 0;\n      },\n      mayOpen(node, flags) {\n        if (!node) {\n          return 44;\n        }\n        if (FS.isLink(node.mode)) {\n          return 32;\n        } else if (FS.isDir(node.mode)) {\n          if (\n            FS.flagsToPermissionString(flags) !== 'r' || // opening for write\n            flags & 512\n          ) {\n            // TODO: check for O_SEARCH? (== search for dir only)\n            return 31;\n          }\n        }\n        return FS.nodePermissions(node, FS.flagsToPermissionString(flags));\n      },\n      MAX_OPEN_FDS: 4096,\n      nextfd() {\n        for (var fd = 0; fd <= FS.MAX_OPEN_FDS; fd++) {\n          if (!FS.streams[fd]) {\n            return fd;\n          }\n        }\n        throw new FS.ErrnoError(33);\n      },\n      getStreamChecked(fd) {\n        var stream = FS.getStream(fd);\n        if (!stream) {\n          throw new FS.ErrnoError(8);\n        }\n        return stream;\n      },\n      getStream: (fd) => FS.streams[fd],\n      createStream(stream, fd = -1) {\n        assert(fd >= -1);\n\n        // clone it, so we can return an instance of FSStream\n        stream = Object.assign(new FS.FSStream(), stream);\n        if (fd == -1) {\n          fd = FS.nextfd();\n        }\n        stream.fd = fd;\n        FS.streams[fd] = stream;\n        return stream;\n      },\n      closeStream(fd) {\n        FS.streams[fd] = null;\n      },\n      dupStream(origStream, fd = -1) {\n        var stream = FS.createStream(origStream, fd);\n        stream.stream_ops?.dup?.(stream);\n        return stream;\n      },\n      chrdev_stream_ops: {\n        open(stream) {\n          var device = FS.getDevice(stream.node.rdev);\n          // override node's stream ops with the device's\n          stream.stream_ops = device.stream_ops;\n          // forward the open call\n          stream.stream_ops.open?.(stream);\n        },\n        llseek() {\n          throw new FS.ErrnoError(70);\n        },\n      },\n      major: (dev) => dev >> 8,\n      minor: (dev) => dev & 0xff,\n      makedev: (ma, mi) => (ma << 8) | mi,\n      registerDevice(dev, ops) {\n        FS.devices[dev] = { stream_ops: ops };\n      },\n      getDevice: (dev) => FS.devices[dev],\n      getMounts(mount) {\n        var mounts = [];\n        var check = [mount];\n\n        while (check.length) {\n          var m = check.pop();\n\n          mounts.push(m);\n\n          check.push(...m.mounts);\n        }\n\n        return mounts;\n      },\n      syncfs(populate, callback) {\n        if (typeof populate == 'function') {\n          callback = populate;\n          populate = false;\n        }\n\n        FS.syncFSRequests++;\n\n        if (FS.syncFSRequests > 1) {\n          err(\n            `warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`,\n          );\n        }\n\n        var mounts = FS.getMounts(FS.root.mount);\n        var completed = 0;\n\n        function doCallback(errCode) {\n          assert(FS.syncFSRequests > 0);\n          FS.syncFSRequests--;\n          return callback(errCode);\n        }\n\n        function done(errCode) {\n          if (errCode) {\n            if (!done.errored) {\n              done.errored = true;\n              return doCallback(errCode);\n            }\n            return;\n          }\n          if (++completed >= mounts.length) {\n            doCallback(null);\n          }\n        }\n\n        // sync all mounts\n        mounts.forEach((mount) => {\n          if (!mount.type.syncfs) {\n            return done(null);\n          }\n          mount.type.syncfs(mount, populate, done);\n        });\n      },\n      mount(type, opts, mountpoint) {\n        if (typeof type == 'string') {\n          // The filesystem was not included, and instead we have an error\n          // message stored in the variable.\n          throw type;\n        }\n        var root = mountpoint === '/';\n        var pseudo = !mountpoint;\n        var node;\n\n        if (root && FS.root) {\n          throw new FS.ErrnoError(10);\n        } else if (!root && !pseudo) {\n          var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n\n          mountpoint = lookup.path; // use the absolute path\n          node = lookup.node;\n\n          if (FS.isMountpoint(node)) {\n            throw new FS.ErrnoError(10);\n          }\n\n          if (!FS.isDir(node.mode)) {\n            throw new FS.ErrnoError(54);\n          }\n        }\n\n        var mount = {\n          type,\n          opts,\n          mountpoint,\n          mounts: [],\n        };\n\n        // create a root node for the fs\n        var mountRoot = type.mount(mount);\n        mountRoot.mount = mount;\n        mount.root = mountRoot;\n\n        if (root) {\n          FS.root = mountRoot;\n        } else if (node) {\n          // set as a mountpoint\n          node.mounted = mount;\n\n          // add the new mount to the current mount's children\n          if (node.mount) {\n            node.mount.mounts.push(mount);\n          }\n        }\n\n        return mountRoot;\n      },\n      unmount(mountpoint) {\n        var lookup = FS.lookupPath(mountpoint, { follow_mount: false });\n\n        if (!FS.isMountpoint(lookup.node)) {\n          throw new FS.ErrnoError(28);\n        }\n\n        // destroy the nodes for this mount, and all its child mounts\n        var node = lookup.node;\n        var mount = node.mounted;\n        var mounts = FS.getMounts(mount);\n\n        Object.keys(FS.nameTable).forEach((hash) => {\n          var current = FS.nameTable[hash];\n\n          while (current) {\n            var next = current.name_next;\n\n            if (mounts.includes(current.mount)) {\n              FS.destroyNode(current);\n            }\n\n            current = next;\n          }\n        });\n\n        // no longer a mountpoint\n        node.mounted = null;\n\n        // remove this mount from the child mounts\n        var idx = node.mount.mounts.indexOf(mount);\n        assert(idx !== -1);\n        node.mount.mounts.splice(idx, 1);\n      },\n      lookup(parent, name) {\n        return parent.node_ops.lookup(parent, name);\n      },\n      mknod(path, mode, dev) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        if (!name || name === '.' || name === '..') {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.mayCreate(parent, name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.mknod) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.mknod(parent, name, mode, dev);\n      },\n      create(path, mode) {\n        mode = mode !== undefined ? mode : 438 /* 0666 */;\n        mode &= 4095;\n        mode |= 32768;\n        return FS.mknod(path, mode, 0);\n      },\n      mkdir(path, mode) {\n        mode = mode !== undefined ? mode : 511 /* 0777 */;\n        mode &= 511 | 512;\n        mode |= 16384;\n        return FS.mknod(path, mode, 0);\n      },\n      mkdirTree(path, mode) {\n        var dirs = path.split('/');\n        var d = '';\n        for (var i = 0; i < dirs.length; ++i) {\n          if (!dirs[i]) continue;\n          d += '/' + dirs[i];\n          try {\n            FS.mkdir(d, mode);\n          } catch (e) {\n            if (e.errno != 20) throw e;\n          }\n        }\n      },\n      mkdev(path, mode, dev) {\n        if (typeof dev == 'undefined') {\n          dev = mode;\n          mode = 438 /* 0666 */;\n        }\n        mode |= 8192;\n        return FS.mknod(path, mode, dev);\n      },\n      symlink(oldpath, newpath) {\n        if (!PATH_FS.resolve(oldpath)) {\n          throw new FS.ErrnoError(44);\n        }\n        var lookup = FS.lookupPath(newpath, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var newname = PATH.basename(newpath);\n        var errCode = FS.mayCreate(parent, newname);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.symlink) {\n          throw new FS.ErrnoError(63);\n        }\n        return parent.node_ops.symlink(parent, newname, oldpath);\n      },\n      rename(old_path, new_path) {\n        var old_dirname = PATH.dirname(old_path);\n        var new_dirname = PATH.dirname(new_path);\n        var old_name = PATH.basename(old_path);\n        var new_name = PATH.basename(new_path);\n        // parents must exist\n        var lookup, old_dir, new_dir;\n\n        // let the errors from non existent directories percolate up\n        lookup = FS.lookupPath(old_path, { parent: true });\n        old_dir = lookup.node;\n        lookup = FS.lookupPath(new_path, { parent: true });\n        new_dir = lookup.node;\n\n        if (!old_dir || !new_dir) throw new FS.ErrnoError(44);\n        // need to be part of the same mount\n        if (old_dir.mount !== new_dir.mount) {\n          throw new FS.ErrnoError(75);\n        }\n        // source must exist\n        var old_node = FS.lookupNode(old_dir, old_name);\n        // old path should not be an ancestor of the new path\n        var relative = PATH_FS.relative(old_path, new_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(28);\n        }\n        // new path should not be an ancestor of the old path\n        relative = PATH_FS.relative(new_path, old_dirname);\n        if (relative.charAt(0) !== '.') {\n          throw new FS.ErrnoError(55);\n        }\n        // see if the new path already exists\n        var new_node;\n        try {\n          new_node = FS.lookupNode(new_dir, new_name);\n        } catch (e) {\n          // not fatal\n        }\n        // early out if nothing needs to change\n        if (old_node === new_node) {\n          return;\n        }\n        // we'll need to delete the old entry\n        var isdir = FS.isDir(old_node.mode);\n        var errCode = FS.mayDelete(old_dir, old_name, isdir);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        // need delete permissions if we'll be overwriting.\n        // need create permissions if new doesn't already exist.\n        errCode = new_node\n          ? FS.mayDelete(new_dir, new_name, isdir)\n          : FS.mayCreate(new_dir, new_name);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!old_dir.node_ops.rename) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(old_node) || (new_node && FS.isMountpoint(new_node))) {\n          throw new FS.ErrnoError(10);\n        }\n        // if we are going to change the parent, check write permissions\n        if (new_dir !== old_dir) {\n          errCode = FS.nodePermissions(old_dir, 'w');\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n        // remove the node from the lookup hash\n        FS.hashRemoveNode(old_node);\n        // do the underlying fs rename\n        try {\n          old_dir.node_ops.rename(old_node, new_dir, new_name);\n          // update old node (we do this here to avoid each backend\n          // needing to)\n          old_node.parent = new_dir;\n        } catch (e) {\n          throw e;\n        } finally {\n          // add the node back to the hash (in case node_ops.rename\n          // changed its name)\n          FS.hashAddNode(old_node);\n        }\n      },\n      rmdir(path) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, true);\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.rmdir) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.rmdir(parent, name);\n        FS.destroyNode(node);\n      },\n      readdir(path) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        if (!node.node_ops.readdir) {\n          throw new FS.ErrnoError(54);\n        }\n        return node.node_ops.readdir(node);\n      },\n      unlink(path) {\n        var lookup = FS.lookupPath(path, { parent: true });\n        var parent = lookup.node;\n        if (!parent) {\n          throw new FS.ErrnoError(44);\n        }\n        var name = PATH.basename(path);\n        var node = FS.lookupNode(parent, name);\n        var errCode = FS.mayDelete(parent, name, false);\n        if (errCode) {\n          // According to POSIX, we should map EISDIR to EPERM, but\n          // we instead do what Linux does (and we must, as we use\n          // the musl linux libc).\n          throw new FS.ErrnoError(errCode);\n        }\n        if (!parent.node_ops.unlink) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isMountpoint(node)) {\n          throw new FS.ErrnoError(10);\n        }\n        parent.node_ops.unlink(parent, name);\n        FS.destroyNode(node);\n      },\n      readlink(path) {\n        var lookup = FS.lookupPath(path);\n        var link = lookup.node;\n        if (!link) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!link.node_ops.readlink) {\n          throw new FS.ErrnoError(28);\n        }\n        return PATH_FS.resolve(FS.getPath(link.parent), link.node_ops.readlink(link));\n      },\n      stat(path, dontFollow) {\n        var lookup = FS.lookupPath(path, { follow: !dontFollow });\n        var node = lookup.node;\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!node.node_ops.getattr) {\n          throw new FS.ErrnoError(63);\n        }\n        return node.node_ops.getattr(node);\n      },\n      lstat(path) {\n        return FS.stat(path, true);\n      },\n      chmod(path, mode, dontFollow) {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          mode: (mode & 4095) | (node.mode & ~4095),\n          timestamp: Date.now(),\n        });\n      },\n      lchmod(path, mode) {\n        FS.chmod(path, mode, true);\n      },\n      fchmod(fd, mode) {\n        var stream = FS.getStreamChecked(fd);\n        FS.chmod(stream.node, mode);\n      },\n      chown(path, uid, gid, dontFollow) {\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: !dontFollow });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        node.node_ops.setattr(node, {\n          timestamp: Date.now(),\n          // we ignore the uid / gid for now\n        });\n      },\n      lchown(path, uid, gid) {\n        FS.chown(path, uid, gid, true);\n      },\n      fchown(fd, uid, gid) {\n        var stream = FS.getStreamChecked(fd);\n        FS.chown(stream.node, uid, gid);\n      },\n      truncate(path, len) {\n        if (len < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        var node;\n        if (typeof path == 'string') {\n          var lookup = FS.lookupPath(path, { follow: true });\n          node = lookup.node;\n        } else {\n          node = path;\n        }\n        if (!node.node_ops.setattr) {\n          throw new FS.ErrnoError(63);\n        }\n        if (FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!FS.isFile(node.mode)) {\n          throw new FS.ErrnoError(28);\n        }\n        var errCode = FS.nodePermissions(node, 'w');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        node.node_ops.setattr(node, {\n          size: len,\n          timestamp: Date.now(),\n        });\n      },\n      ftruncate(fd, len) {\n        var stream = FS.getStreamChecked(fd);\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(28);\n        }\n        FS.truncate(stream.node, len);\n      },\n      utime(path, atime, mtime) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        var node = lookup.node;\n        node.node_ops.setattr(node, {\n          timestamp: Math.max(atime, mtime),\n        });\n      },\n      open(path, flags, mode) {\n        if (path === '') {\n          throw new FS.ErrnoError(44);\n        }\n        flags = typeof flags == 'string' ? FS_modeStringToFlags(flags) : flags;\n        if (flags & 64) {\n          mode = typeof mode == 'undefined' ? 438 /* 0666 */ : mode;\n          mode = (mode & 4095) | 32768;\n        } else {\n          mode = 0;\n        }\n        var node;\n        if (typeof path == 'object') {\n          node = path;\n        } else {\n          path = PATH.normalize(path);\n          try {\n            var lookup = FS.lookupPath(path, {\n              follow: !(flags & 131072),\n            });\n            node = lookup.node;\n          } catch (e) {\n            // ignore\n          }\n        }\n        // perhaps we need to create the node\n        var created = false;\n        if (flags & 64) {\n          if (node) {\n            // if O_CREAT and O_EXCL are set, error out if the node already exists\n            if (flags & 128) {\n              throw new FS.ErrnoError(20);\n            }\n          } else {\n            // node doesn't exist, try to create it\n            node = FS.mknod(path, mode, 0);\n            created = true;\n          }\n        }\n        if (!node) {\n          throw new FS.ErrnoError(44);\n        }\n        // can't truncate a device\n        if (FS.isChrdev(node.mode)) {\n          flags &= ~512;\n        }\n        // if asked only for a directory, then this must be one\n        if (flags & 65536 && !FS.isDir(node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n        // check permissions, if this is not a file we just created now (it is ok to\n        // create and write to a file with read-only permissions; it is read-only\n        // for later use)\n        if (!created) {\n          var errCode = FS.mayOpen(node, flags);\n          if (errCode) {\n            throw new FS.ErrnoError(errCode);\n          }\n        }\n        // do truncation if necessary\n        if (flags & 512 && !created) {\n          FS.truncate(node, 0);\n        }\n        // we've already handled these, don't pass down to the underlying vfs\n        flags &= ~(128 | 512 | 131072);\n\n        // register the stream with the filesystem\n        var stream = FS.createStream({\n          node,\n          path: FS.getPath(node), // we want the absolute path to the node\n          flags,\n          seekable: true,\n          position: 0,\n          stream_ops: node.stream_ops,\n          // used by the file family libc calls (fopen, fwrite, ferror, etc.)\n          ungotten: [],\n          error: false,\n        });\n        // call the new stream's open function\n        if (stream.stream_ops.open) {\n          stream.stream_ops.open(stream);\n        }\n        if (Module['logReadFiles'] && !(flags & 1)) {\n          if (!(path in FS.readFiles)) {\n            FS.readFiles[path] = 1;\n          }\n        }\n        return stream;\n      },\n      close(stream) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (stream.getdents) stream.getdents = null; // free readdir state\n        try {\n          if (stream.stream_ops.close) {\n            stream.stream_ops.close(stream);\n          }\n        } catch (e) {\n          throw e;\n        } finally {\n          FS.closeStream(stream.fd);\n        }\n        stream.fd = null;\n      },\n      isClosed(stream) {\n        return stream.fd === null;\n      },\n      llseek(stream, offset, whence) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!stream.seekable || !stream.stream_ops.llseek) {\n          throw new FS.ErrnoError(70);\n        }\n        if (whence != 0 && whence != 1 && whence != 2) {\n          throw new FS.ErrnoError(28);\n        }\n        stream.position = stream.stream_ops.llseek(stream, offset, whence);\n        stream.ungotten = [];\n        return stream.position;\n      },\n      read(stream, buffer, offset, length, position) {\n        assert(offset >= 0);\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.read) {\n          throw new FS.ErrnoError(28);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesRead = stream.stream_ops.read(stream, buffer, offset, length, position);\n        if (!seeking) stream.position += bytesRead;\n        return bytesRead;\n      },\n      write(stream, buffer, offset, length, position, canOwn) {\n        assert(offset >= 0);\n        if (length < 0 || position < 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(31);\n        }\n        if (!stream.stream_ops.write) {\n          throw new FS.ErrnoError(28);\n        }\n        if (stream.seekable && stream.flags & 1024) {\n          // seek to the end before writing in append mode\n          FS.llseek(stream, 0, 2);\n        }\n        var seeking = typeof position != 'undefined';\n        if (!seeking) {\n          position = stream.position;\n        } else if (!stream.seekable) {\n          throw new FS.ErrnoError(70);\n        }\n        var bytesWritten = stream.stream_ops.write(\n          stream,\n          buffer,\n          offset,\n          length,\n          position,\n          canOwn,\n        );\n        if (!seeking) stream.position += bytesWritten;\n        return bytesWritten;\n      },\n      allocate(stream, offset, length) {\n        if (FS.isClosed(stream)) {\n          throw new FS.ErrnoError(8);\n        }\n        if (offset < 0 || length <= 0) {\n          throw new FS.ErrnoError(28);\n        }\n        if ((stream.flags & 2097155) === 0) {\n          throw new FS.ErrnoError(8);\n        }\n        if (!FS.isFile(stream.node.mode) && !FS.isDir(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (!stream.stream_ops.allocate) {\n          throw new FS.ErrnoError(138);\n        }\n        stream.stream_ops.allocate(stream, offset, length);\n      },\n      mmap(stream, length, position, prot, flags) {\n        // User requests writing to file (prot & PROT_WRITE != 0).\n        // Checking if we have permissions to write to the file unless\n        // MAP_PRIVATE flag is set. According to POSIX spec it is possible\n        // to write to file opened in read-only mode with MAP_PRIVATE flag,\n        // as all modifications will be visible only in the memory of\n        // the current process.\n        if ((prot & 2) !== 0 && (flags & 2) === 0 && (stream.flags & 2097155) !== 2) {\n          throw new FS.ErrnoError(2);\n        }\n        if ((stream.flags & 2097155) === 1) {\n          throw new FS.ErrnoError(2);\n        }\n        if (!stream.stream_ops.mmap) {\n          throw new FS.ErrnoError(43);\n        }\n        if (!length) {\n          throw new FS.ErrnoError(28);\n        }\n        return stream.stream_ops.mmap(stream, length, position, prot, flags);\n      },\n      msync(stream, buffer, offset, length, mmapFlags) {\n        assert(offset >= 0);\n        if (!stream.stream_ops.msync) {\n          return 0;\n        }\n        return stream.stream_ops.msync(stream, buffer, offset, length, mmapFlags);\n      },\n      ioctl(stream, cmd, arg) {\n        if (!stream.stream_ops.ioctl) {\n          throw new FS.ErrnoError(59);\n        }\n        return stream.stream_ops.ioctl(stream, cmd, arg);\n      },\n      readFile(path, opts = {}) {\n        opts.flags = opts.flags || 0;\n        opts.encoding = opts.encoding || 'binary';\n        if (opts.encoding !== 'utf8' && opts.encoding !== 'binary') {\n          throw new Error(`Invalid encoding type \"${opts.encoding}\"`);\n        }\n        var ret;\n        var stream = FS.open(path, opts.flags);\n        var stat = FS.stat(path);\n        var length = stat.size;\n        var buf = new Uint8Array(length);\n        FS.read(stream, buf, 0, length, 0);\n        if (opts.encoding === 'utf8') {\n          ret = UTF8ArrayToString(buf);\n        } else if (opts.encoding === 'binary') {\n          ret = buf;\n        }\n        FS.close(stream);\n        return ret;\n      },\n      writeFile(path, data, opts = {}) {\n        opts.flags = opts.flags || 577;\n        var stream = FS.open(path, opts.flags, opts.mode);\n        if (typeof data == 'string') {\n          var buf = new Uint8Array(lengthBytesUTF8(data) + 1);\n          var actualNumBytes = stringToUTF8Array(data, buf, 0, buf.length);\n          FS.write(stream, buf, 0, actualNumBytes, undefined, opts.canOwn);\n        } else if (ArrayBuffer.isView(data)) {\n          FS.write(stream, data, 0, data.byteLength, undefined, opts.canOwn);\n        } else {\n          throw new Error('Unsupported data type');\n        }\n        FS.close(stream);\n      },\n      cwd: () => FS.currentPath,\n      chdir(path) {\n        var lookup = FS.lookupPath(path, { follow: true });\n        if (lookup.node === null) {\n          throw new FS.ErrnoError(44);\n        }\n        if (!FS.isDir(lookup.node.mode)) {\n          throw new FS.ErrnoError(54);\n        }\n        var errCode = FS.nodePermissions(lookup.node, 'x');\n        if (errCode) {\n          throw new FS.ErrnoError(errCode);\n        }\n        FS.currentPath = lookup.path;\n      },\n      createDefaultDirectories() {\n        FS.mkdir('/tmp');\n        FS.mkdir('/home');\n        FS.mkdir('/home/web_user');\n      },\n      createDefaultDevices() {\n        // create /dev\n        FS.mkdir('/dev');\n        // setup /dev/null\n        FS.registerDevice(FS.makedev(1, 3), {\n          read: () => 0,\n          write: (stream, buffer, offset, length, pos) => length,\n        });\n        FS.mkdev('/dev/null', FS.makedev(1, 3));\n        // setup /dev/tty and /dev/tty1\n        // stderr needs to print output using err() rather than out()\n        // so we register a second tty just for it.\n        TTY.register(FS.makedev(5, 0), TTY.default_tty_ops);\n        TTY.register(FS.makedev(6, 0), TTY.default_tty1_ops);\n        FS.mkdev('/dev/tty', FS.makedev(5, 0));\n        FS.mkdev('/dev/tty1', FS.makedev(6, 0));\n        // setup /dev/[u]random\n        // use a buffer to avoid overhead of individual crypto calls per byte\n        var randomBuffer = new Uint8Array(1024),\n          randomLeft = 0;\n        var randomByte = () => {\n          if (randomLeft === 0) {\n            randomLeft = randomFill(randomBuffer).byteLength;\n          }\n          return randomBuffer[--randomLeft];\n        };\n        FS.createDevice('/dev', 'random', randomByte);\n        FS.createDevice('/dev', 'urandom', randomByte);\n        // we're not going to emulate the actual shm device,\n        // just create the tmp dirs that reside in it commonly\n        FS.mkdir('/dev/shm');\n        FS.mkdir('/dev/shm/tmp');\n      },\n      createSpecialDirectories() {\n        // create /proc/self/fd which allows /proc/self/fd/6 => readlink gives the\n        // name of the stream for fd 6 (see test_unistd_ttyname)\n        FS.mkdir('/proc');\n        var proc_self = FS.mkdir('/proc/self');\n        FS.mkdir('/proc/self/fd');\n        FS.mount(\n          {\n            mount() {\n              var node = FS.createNode(proc_self, 'fd', 16384 | 511 /* 0777 */, 73);\n              node.node_ops = {\n                lookup(parent, name) {\n                  var fd = +name;\n                  var stream = FS.getStreamChecked(fd);\n                  var ret = {\n                    parent: null,\n                    mount: { mountpoint: 'fake' },\n                    node_ops: { readlink: () => stream.path },\n                  };\n                  ret.parent = ret; // make it look like a simple root node\n                  return ret;\n                },\n              };\n              return node;\n            },\n          },\n          {},\n          '/proc/self/fd',\n        );\n      },\n      createStandardStreams(input, output, error) {\n        // TODO deprecate the old functionality of a single\n        // input / output callback and that utilizes FS.createDevice\n        // and instead require a unique set of stream ops\n\n        // by default, we symlink the standard streams to the\n        // default tty devices. however, if the standard streams\n        // have been overwritten we create a unique device for\n        // them instead.\n        if (input) {\n          FS.createDevice('/dev', 'stdin', input);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdin');\n        }\n        if (output) {\n          FS.createDevice('/dev', 'stdout', null, output);\n        } else {\n          FS.symlink('/dev/tty', '/dev/stdout');\n        }\n        if (error) {\n          FS.createDevice('/dev', 'stderr', null, error);\n        } else {\n          FS.symlink('/dev/tty1', '/dev/stderr');\n        }\n\n        // open default streams for the stdin, stdout and stderr devices\n        var stdin = FS.open('/dev/stdin', 0);\n        var stdout = FS.open('/dev/stdout', 1);\n        var stderr = FS.open('/dev/stderr', 1);\n        assert(stdin.fd === 0, `invalid handle for stdin (${stdin.fd})`);\n        assert(stdout.fd === 1, `invalid handle for stdout (${stdout.fd})`);\n        assert(stderr.fd === 2, `invalid handle for stderr (${stderr.fd})`);\n      },\n      staticInit() {\n        // Some errors may happen quite a bit, to avoid overhead we reuse them (and suffer a lack of stack info)\n        [44].forEach((code) => {\n          FS.genericErrors[code] = new FS.ErrnoError(code);\n          FS.genericErrors[code].stack = '<generic error, no stack>';\n        });\n\n        FS.nameTable = new Array(4096);\n\n        FS.mount(MEMFS, {}, '/');\n\n        FS.createDefaultDirectories();\n        FS.createDefaultDevices();\n        FS.createSpecialDirectories();\n\n        FS.filesystems = {\n          MEMFS: MEMFS,\n        };\n      },\n      init(input, output, error) {\n        assert(\n          !FS.initialized,\n          'FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)',\n        );\n        FS.initialized = true;\n\n        // Allow Module.stdin etc. to provide defaults, if none explicitly passed to us here\n        input ??= Module['stdin'];\n        output ??= Module['stdout'];\n        error ??= Module['stderr'];\n\n        FS.createStandardStreams(input, output, error);\n      },\n      quit() {\n        FS.initialized = false;\n        // force-flush all streams, so we get musl std streams printed out\n        _fflush(0);\n        // close all of our streams\n        for (var i = 0; i < FS.streams.length; i++) {\n          var stream = FS.streams[i];\n          if (!stream) {\n            continue;\n          }\n          FS.close(stream);\n        }\n      },\n      findObject(path, dontResolveLastLink) {\n        var ret = FS.analyzePath(path, dontResolveLastLink);\n        if (!ret.exists) {\n          return null;\n        }\n        return ret.object;\n      },\n      analyzePath(path, dontResolveLastLink) {\n        // operate from within the context of the symlink's target\n        try {\n          var lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          path = lookup.path;\n        } catch (e) {}\n        var ret = {\n          isRoot: false,\n          exists: false,\n          error: 0,\n          name: null,\n          path: null,\n          object: null,\n          parentExists: false,\n          parentPath: null,\n          parentObject: null,\n        };\n        try {\n          var lookup = FS.lookupPath(path, { parent: true });\n          ret.parentExists = true;\n          ret.parentPath = lookup.path;\n          ret.parentObject = lookup.node;\n          ret.name = PATH.basename(path);\n          lookup = FS.lookupPath(path, { follow: !dontResolveLastLink });\n          ret.exists = true;\n          ret.path = lookup.path;\n          ret.object = lookup.node;\n          ret.name = lookup.node.name;\n          ret.isRoot = lookup.path === '/';\n        } catch (e) {\n          ret.error = e.errno;\n        }\n        return ret;\n      },\n      createPath(parent, path, canRead, canWrite) {\n        parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n        var parts = path.split('/').reverse();\n        while (parts.length) {\n          var part = parts.pop();\n          if (!part) continue;\n          var current = PATH.join2(parent, part);\n          try {\n            FS.mkdir(current);\n          } catch (e) {\n            // ignore EEXIST\n          }\n          parent = current;\n        }\n        return current;\n      },\n      createFile(parent, name, properties, canRead, canWrite) {\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\n        var mode = FS_getMode(canRead, canWrite);\n        return FS.create(path, mode);\n      },\n      createDataFile(parent, name, data, canRead, canWrite, canOwn) {\n        var path = name;\n        if (parent) {\n          parent = typeof parent == 'string' ? parent : FS.getPath(parent);\n          path = name ? PATH.join2(parent, name) : parent;\n        }\n        var mode = FS_getMode(canRead, canWrite);\n        var node = FS.create(path, mode);\n        if (data) {\n          if (typeof data == 'string') {\n            var arr = new Array(data.length);\n            for (var i = 0, len = data.length; i < len; ++i) arr[i] = data.charCodeAt(i);\n            data = arr;\n          }\n          // make sure we can write to the file\n          FS.chmod(node, mode | 146);\n          var stream = FS.open(node, 577);\n          FS.write(stream, data, 0, data.length, 0, canOwn);\n          FS.close(stream);\n          FS.chmod(node, mode);\n        }\n      },\n      createDevice(parent, name, input, output) {\n        var path = PATH.join2(typeof parent == 'string' ? parent : FS.getPath(parent), name);\n        var mode = FS_getMode(!!input, !!output);\n        FS.createDevice.major ??= 64;\n        var dev = FS.makedev(FS.createDevice.major++, 0);\n        // Create a fake device that a set of stream ops to emulate\n        // the old behavior.\n        FS.registerDevice(dev, {\n          open(stream) {\n            stream.seekable = false;\n          },\n          close(stream) {\n            // flush any pending line data\n            if (output?.buffer?.length) {\n              output(10);\n            }\n          },\n          read(stream, buffer, offset, length, pos /* ignored */) {\n            var bytesRead = 0;\n            for (var i = 0; i < length; i++) {\n              var result;\n              try {\n                result = input();\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n              if (result === undefined && bytesRead === 0) {\n                throw new FS.ErrnoError(6);\n              }\n              if (result === null || result === undefined) break;\n              bytesRead++;\n              buffer[offset + i] = result;\n            }\n            if (bytesRead) {\n              stream.node.timestamp = Date.now();\n            }\n            return bytesRead;\n          },\n          write(stream, buffer, offset, length, pos) {\n            for (var i = 0; i < length; i++) {\n              try {\n                output(buffer[offset + i]);\n              } catch (e) {\n                throw new FS.ErrnoError(29);\n              }\n            }\n            if (length) {\n              stream.node.timestamp = Date.now();\n            }\n            return i;\n          },\n        });\n        return FS.mkdev(path, mode, dev);\n      },\n      forceLoadFile(obj) {\n        if (obj.isDevice || obj.isFolder || obj.link || obj.contents) return true;\n        if (typeof XMLHttpRequest != 'undefined') {\n          throw new Error(\n            'Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.',\n          );\n        } else {\n          // Command-line.\n          try {\n            obj.contents = readBinary(obj.url);\n            obj.usedBytes = obj.contents.length;\n          } catch (e) {\n            throw new FS.ErrnoError(29);\n          }\n        }\n      },\n      createLazyFile(parent, name, url, canRead, canWrite) {\n        // Lazy chunked Uint8Array (implements get and length from Uint8Array).\n        // Actual getting is abstracted away for eventual reuse.\n        class LazyUint8Array {\n          constructor() {\n            this.lengthKnown = false;\n            this.chunks = []; // Loaded chunks. Index is the chunk number\n          }\n          get(idx) {\n            if (idx > this.length - 1 || idx < 0) {\n              return undefined;\n            }\n            var chunkOffset = idx % this.chunkSize;\n            var chunkNum = (idx / this.chunkSize) | 0;\n            return this.getter(chunkNum)[chunkOffset];\n          }\n          setDataGetter(getter) {\n            this.getter = getter;\n          }\n          cacheLength() {\n            // Find length\n            var xhr = new XMLHttpRequest();\n            xhr.open('HEAD', url, false);\n            xhr.send(null);\n            if (!((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304))\n              throw new Error(\"Couldn't load \" + url + '. Status: ' + xhr.status);\n            var datalength = Number(xhr.getResponseHeader('Content-length'));\n            var header;\n            var hasByteServing =\n              (header = xhr.getResponseHeader('Accept-Ranges')) && header === 'bytes';\n            var usesGzip =\n              (header = xhr.getResponseHeader('Content-Encoding')) && header === 'gzip';\n\n            var chunkSize = 1024 * 1024; // Chunk size in bytes\n\n            if (!hasByteServing) chunkSize = datalength;\n\n            // Function to get a range from the remote URL.\n            var doXHR = (from, to) => {\n              if (from > to)\n                throw new Error('invalid range (' + from + ', ' + to + ') or no bytes requested!');\n              if (to > datalength - 1)\n                throw new Error('only ' + datalength + ' bytes available! programmer error!');\n\n              // TODO: Use mozResponseArrayBuffer, responseStream, etc. if available.\n              var xhr = new XMLHttpRequest();\n              xhr.open('GET', url, false);\n              if (datalength !== chunkSize)\n                xhr.setRequestHeader('Range', 'bytes=' + from + '-' + to);\n\n              // Some hints to the browser that we want binary data.\n              xhr.responseType = 'arraybuffer';\n              if (xhr.overrideMimeType) {\n                xhr.overrideMimeType('text/plain; charset=x-user-defined');\n              }\n\n              xhr.send(null);\n              if (!((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304))\n                throw new Error(\"Couldn't load \" + url + '. Status: ' + xhr.status);\n              if (xhr.response !== undefined) {\n                return new Uint8Array(/** @type{Array<number>} */ (xhr.response || []));\n              }\n              return intArrayFromString(xhr.responseText || '', true);\n            };\n            var lazyArray = this;\n            lazyArray.setDataGetter((chunkNum) => {\n              var start = chunkNum * chunkSize;\n              var end = (chunkNum + 1) * chunkSize - 1; // including this byte\n              end = Math.min(end, datalength - 1); // if datalength-1 is selected, this is the last block\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined') {\n                lazyArray.chunks[chunkNum] = doXHR(start, end);\n              }\n              if (typeof lazyArray.chunks[chunkNum] == 'undefined')\n                throw new Error('doXHR failed!');\n              return lazyArray.chunks[chunkNum];\n            });\n\n            if (usesGzip || !datalength) {\n              // if the server uses gzip or doesn't supply the length, we have to download the whole file to get the (uncompressed) length\n              chunkSize = datalength = 1; // this will force getter(0)/doXHR do download the whole file\n              datalength = this.getter(0).length;\n              chunkSize = datalength;\n              out('LazyFiles on gzip forces download of the whole file when length is accessed');\n            }\n\n            this._length = datalength;\n            this._chunkSize = chunkSize;\n            this.lengthKnown = true;\n          }\n          get length() {\n            if (!this.lengthKnown) {\n              this.cacheLength();\n            }\n            return this._length;\n          }\n          get chunkSize() {\n            if (!this.lengthKnown) {\n              this.cacheLength();\n            }\n            return this._chunkSize;\n          }\n        }\n\n        if (typeof XMLHttpRequest != 'undefined') {\n          if (!ENVIRONMENT_IS_WORKER)\n            throw 'Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc';\n          var lazyArray = new LazyUint8Array();\n          var properties = { isDevice: false, contents: lazyArray };\n        } else {\n          var properties = { isDevice: false, url: url };\n        }\n\n        var node = FS.createFile(parent, name, properties, canRead, canWrite);\n        // This is a total hack, but I want to get this lazy file code out of the\n        // core of MEMFS. If we want to keep this lazy file concept I feel it should\n        // be its own thin LAZYFS proxying calls to MEMFS.\n        if (properties.contents) {\n          node.contents = properties.contents;\n        } else if (properties.url) {\n          node.contents = null;\n          node.url = properties.url;\n        }\n        // Add a function that defers querying the file size until it is asked the first time.\n        Object.defineProperties(node, {\n          usedBytes: {\n            get: function () {\n              return this.contents.length;\n            },\n          },\n        });\n        // override each stream op with one that tries to force load the lazy file first\n        var stream_ops = {};\n        var keys = Object.keys(node.stream_ops);\n        keys.forEach((key) => {\n          var fn = node.stream_ops[key];\n          stream_ops[key] = (...args) => {\n            FS.forceLoadFile(node);\n            return fn(...args);\n          };\n        });\n        function writeChunks(stream, buffer, offset, length, position) {\n          var contents = stream.node.contents;\n          if (position >= contents.length) return 0;\n          var size = Math.min(contents.length - position, length);\n          assert(size >= 0);\n          if (contents.slice) {\n            // normal array\n            for (var i = 0; i < size; i++) {\n              buffer[offset + i] = contents[position + i];\n            }\n          } else {\n            for (var i = 0; i < size; i++) {\n              // LazyUint8Array from sync binary XHR\n              buffer[offset + i] = contents.get(position + i);\n            }\n          }\n          return size;\n        }\n        // use a custom read function\n        stream_ops.read = (stream, buffer, offset, length, position) => {\n          FS.forceLoadFile(node);\n          return writeChunks(stream, buffer, offset, length, position);\n        };\n        // use a custom mmap function\n        stream_ops.mmap = (stream, length, position, prot, flags) => {\n          FS.forceLoadFile(node);\n          var ptr = mmapAlloc(length);\n          if (!ptr) {\n            throw new FS.ErrnoError(48);\n          }\n          writeChunks(stream, HEAP8, ptr, length, position);\n          return { ptr, allocated: true };\n        };\n        node.stream_ops = stream_ops;\n        return node;\n      },\n      absolutePath() {\n        abort('FS.absolutePath has been removed; use PATH_FS.resolve instead');\n      },\n      createFolder() {\n        abort('FS.createFolder has been removed; use FS.mkdir instead');\n      },\n      createLink() {\n        abort('FS.createLink has been removed; use FS.symlink instead');\n      },\n      joinPath() {\n        abort('FS.joinPath has been removed; use PATH.join instead');\n      },\n      mmapAlloc() {\n        abort('FS.mmapAlloc has been replaced by the top level function mmapAlloc');\n      },\n      standardizePath() {\n        abort('FS.standardizePath has been removed; use PATH.normalize instead');\n      },\n    };\n\n    var SYSCALLS = {\n      DEFAULT_POLLMASK: 5,\n      calculateAt(dirfd, path, allowEmpty) {\n        if (PATH.isAbs(path)) {\n          return path;\n        }\n        // relative path\n        var dir;\n        if (dirfd === -100) {\n          dir = FS.cwd();\n        } else {\n          var dirstream = SYSCALLS.getStreamFromFD(dirfd);\n          dir = dirstream.path;\n        }\n        if (path.length == 0) {\n          if (!allowEmpty) {\n            throw new FS.ErrnoError(44);\n          }\n          return dir;\n        }\n        return PATH.join2(dir, path);\n      },\n      doStat(func, path, buf) {\n        var stat = func(path);\n        HEAP32[buf >> 2] = stat.dev;\n        HEAP32[(buf + 4) >> 2] = stat.mode;\n        HEAPU32[(buf + 8) >> 2] = stat.nlink;\n        HEAP32[(buf + 12) >> 2] = stat.uid;\n        HEAP32[(buf + 16) >> 2] = stat.gid;\n        HEAP32[(buf + 20) >> 2] = stat.rdev;\n        ((tempI64 = [\n          stat.size >>> 0,\n          ((tempDouble = stat.size),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 24) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 28) >> 2] = tempI64[1]));\n        HEAP32[(buf + 32) >> 2] = 4096;\n        HEAP32[(buf + 36) >> 2] = stat.blocks;\n        var atime = stat.atime.getTime();\n        var mtime = stat.mtime.getTime();\n        var ctime = stat.ctime.getTime();\n        ((tempI64 = [\n          Math.floor(atime / 1000) >>> 0,\n          ((tempDouble = Math.floor(atime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 40) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 44) >> 2] = tempI64[1]));\n        HEAPU32[(buf + 48) >> 2] = (atime % 1000) * 1000 * 1000;\n        ((tempI64 = [\n          Math.floor(mtime / 1000) >>> 0,\n          ((tempDouble = Math.floor(mtime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 56) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 60) >> 2] = tempI64[1]));\n        HEAPU32[(buf + 64) >> 2] = (mtime % 1000) * 1000 * 1000;\n        ((tempI64 = [\n          Math.floor(ctime / 1000) >>> 0,\n          ((tempDouble = Math.floor(ctime / 1000)),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 72) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 76) >> 2] = tempI64[1]));\n        HEAPU32[(buf + 80) >> 2] = (ctime % 1000) * 1000 * 1000;\n        ((tempI64 = [\n          stat.ino >>> 0,\n          ((tempDouble = stat.ino),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[(buf + 88) >> 2] = tempI64[0]),\n          (HEAP32[(buf + 92) >> 2] = tempI64[1]));\n        return 0;\n      },\n      doMsync(addr, stream, len, flags, offset) {\n        if (!FS.isFile(stream.node.mode)) {\n          throw new FS.ErrnoError(43);\n        }\n        if (flags & 2) {\n          // MAP_PRIVATE calls need not to be synced back to underlying fs\n          return 0;\n        }\n        var buffer = HEAPU8.slice(addr, addr + len);\n        FS.msync(stream, buffer, offset, len, flags);\n      },\n      getStreamFromFD(fd) {\n        var stream = FS.getStreamChecked(fd);\n        return stream;\n      },\n      varargs: undefined,\n      getStr(ptr) {\n        var ret = UTF8ToString(ptr);\n        return ret;\n      },\n    };\n    function ___syscall_fcntl64(fd, cmd, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        switch (cmd) {\n          case 0: {\n            var arg = syscallGetVarargI();\n            if (arg < 0) {\n              return -28;\n            }\n            while (FS.streams[arg]) {\n              arg++;\n            }\n            var newStream;\n            newStream = FS.dupStream(stream, arg);\n            return newStream.fd;\n          }\n          case 1:\n          case 2:\n            return 0; // FD_CLOEXEC makes no sense for a single process.\n          case 3:\n            return stream.flags;\n          case 4: {\n            var arg = syscallGetVarargI();\n            stream.flags |= arg;\n            return 0;\n          }\n          case 12: {\n            var arg = syscallGetVarargP();\n            var offset = 0;\n            // We're always unlocked.\n            HEAP16[(arg + offset) >> 1] = 2;\n            return 0;\n          }\n          case 13:\n          case 14:\n            return 0; // Pretend that the locking is successful.\n        }\n        return -28;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_fstat64(fd, buf) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        return SYSCALLS.doStat(FS.stat, stream.path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    var convertI32PairToI53Checked = (lo, hi) => {\n      assert(lo == lo >>> 0 || lo == (lo | 0)); // lo should either be a i32 or a u32\n      assert(hi === (hi | 0)); // hi should be a i32\n      return (hi + 0x200000) >>> 0 < 0x400001 - !!lo ? (lo >>> 0) + hi * 4294967296 : NaN;\n    };\n    function ___syscall_ftruncate64(fd, length_low, length_high) {\n      var length = convertI32PairToI53Checked(length_low, length_high);\n\n      try {\n        if (isNaN(length)) return 61;\n        FS.ftruncate(fd, length);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    var stringToUTF8 = (str, outPtr, maxBytesToWrite) => {\n      assert(\n        typeof maxBytesToWrite == 'number',\n        'stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!',\n      );\n      return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n    };\n\n    function ___syscall_getdents64(fd, dirp, count) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        stream.getdents ||= FS.readdir(stream.path);\n\n        var struct_size = 280;\n        var pos = 0;\n        var off = FS.llseek(stream, 0, 1);\n\n        var idx = Math.floor(off / struct_size);\n\n        while (idx < stream.getdents.length && pos + struct_size <= count) {\n          var id;\n          var type;\n          var name = stream.getdents[idx];\n          if (name === '.') {\n            id = stream.node.id;\n            type = 4; // DT_DIR\n          } else if (name === '..') {\n            var lookup = FS.lookupPath(stream.path, { parent: true });\n            id = lookup.node.id;\n            type = 4; // DT_DIR\n          } else {\n            var child = FS.lookupNode(stream.node, name);\n            id = child.id;\n            type = FS.isChrdev(child.mode)\n              ? 2 // DT_CHR, character device.\n              : FS.isDir(child.mode)\n                ? 4 // DT_DIR, directory.\n                : FS.isLink(child.mode)\n                  ? 10 // DT_LNK, symbolic link.\n                  : 8; // DT_REG, regular file.\n          }\n          assert(id);\n          ((tempI64 = [\n            id >>> 0,\n            ((tempDouble = id),\n            +Math.abs(tempDouble) >= 1.0\n              ? tempDouble > 0.0\n                ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n                : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n              : 0),\n          ]),\n            (HEAP32[(dirp + pos) >> 2] = tempI64[0]),\n            (HEAP32[(dirp + pos + 4) >> 2] = tempI64[1]));\n          ((tempI64 = [\n            ((idx + 1) * struct_size) >>> 0,\n            ((tempDouble = (idx + 1) * struct_size),\n            +Math.abs(tempDouble) >= 1.0\n              ? tempDouble > 0.0\n                ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n                : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n              : 0),\n          ]),\n            (HEAP32[(dirp + pos + 8) >> 2] = tempI64[0]),\n            (HEAP32[(dirp + pos + 12) >> 2] = tempI64[1]));\n          HEAP16[(dirp + pos + 16) >> 1] = 280;\n          HEAP8[dirp + pos + 18] = type;\n          stringToUTF8(name, dirp + pos + 19, 256);\n          pos += struct_size;\n          idx += 1;\n        }\n        FS.llseek(stream, idx * struct_size, 0);\n        return pos;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_ioctl(fd, op, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        switch (op) {\n          case 21509: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          case 21505: {\n            if (!stream.tty) return -59;\n            if (stream.tty.ops.ioctl_tcgets) {\n              var termios = stream.tty.ops.ioctl_tcgets(stream);\n              var argp = syscallGetVarargP();\n              HEAP32[argp >> 2] = termios.c_iflag || 0;\n              HEAP32[(argp + 4) >> 2] = termios.c_oflag || 0;\n              HEAP32[(argp + 8) >> 2] = termios.c_cflag || 0;\n              HEAP32[(argp + 12) >> 2] = termios.c_lflag || 0;\n              for (var i = 0; i < 32; i++) {\n                HEAP8[argp + i + 17] = termios.c_cc[i] || 0;\n              }\n              return 0;\n            }\n            return 0;\n          }\n          case 21510:\n          case 21511:\n          case 21512: {\n            if (!stream.tty) return -59;\n            return 0; // no-op, not actually adjusting terminal settings\n          }\n          case 21506:\n          case 21507:\n          case 21508: {\n            if (!stream.tty) return -59;\n            if (stream.tty.ops.ioctl_tcsets) {\n              var argp = syscallGetVarargP();\n              var c_iflag = HEAP32[argp >> 2];\n              var c_oflag = HEAP32[(argp + 4) >> 2];\n              var c_cflag = HEAP32[(argp + 8) >> 2];\n              var c_lflag = HEAP32[(argp + 12) >> 2];\n              var c_cc = [];\n              for (var i = 0; i < 32; i++) {\n                c_cc.push(HEAP8[argp + i + 17]);\n              }\n              return stream.tty.ops.ioctl_tcsets(stream.tty, op, {\n                c_iflag,\n                c_oflag,\n                c_cflag,\n                c_lflag,\n                c_cc,\n              });\n            }\n            return 0; // no-op, not actually adjusting terminal settings\n          }\n          case 21519: {\n            if (!stream.tty) return -59;\n            var argp = syscallGetVarargP();\n            HEAP32[argp >> 2] = 0;\n            return 0;\n          }\n          case 21520: {\n            if (!stream.tty) return -59;\n            return -28; // not supported\n          }\n          case 21531: {\n            var argp = syscallGetVarargP();\n            return FS.ioctl(stream, op, argp);\n          }\n          case 21523: {\n            // TODO: in theory we should write to the winsize struct that gets\n            // passed in, but for now musl doesn't read anything on it\n            if (!stream.tty) return -59;\n            if (stream.tty.ops.ioctl_tiocgwinsz) {\n              var winsize = stream.tty.ops.ioctl_tiocgwinsz(stream.tty);\n              var argp = syscallGetVarargP();\n              HEAP16[argp >> 1] = winsize[0];\n              HEAP16[(argp + 2) >> 1] = winsize[1];\n            }\n            return 0;\n          }\n          case 21524: {\n            // TODO: technically, this ioctl call should change the window size.\n            // but, since emscripten doesn't have any concept of a terminal window\n            // yet, we'll just silently throw it away as we do TIOCGWINSZ\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          case 21515: {\n            if (!stream.tty) return -59;\n            return 0;\n          }\n          default:\n            return -28; // not supported\n        }\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_lstat64(path, buf) {\n      try {\n        path = SYSCALLS.getStr(path);\n        return SYSCALLS.doStat(FS.lstat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_newfstatat(dirfd, path, buf, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        var nofollow = flags & 256;\n        var allowEmpty = flags & 4096;\n        flags = flags & ~6400;\n        assert(!flags, `unknown flags in __syscall_newfstatat: ${flags}`);\n        path = SYSCALLS.calculateAt(dirfd, path, allowEmpty);\n        return SYSCALLS.doStat(nofollow ? FS.lstat : FS.stat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_openat(dirfd, path, flags, varargs) {\n      SYSCALLS.varargs = varargs;\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        var mode = varargs ? syscallGetVarargI() : 0;\n        return FS.open(path, flags, mode).fd;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_rmdir(path) {\n      try {\n        path = SYSCALLS.getStr(path);\n        FS.rmdir(path);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_stat64(path, buf) {\n      try {\n        path = SYSCALLS.getStr(path);\n        return SYSCALLS.doStat(FS.stat, path, buf);\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    function ___syscall_unlinkat(dirfd, path, flags) {\n      try {\n        path = SYSCALLS.getStr(path);\n        path = SYSCALLS.calculateAt(dirfd, path);\n        if (flags === 0) {\n          FS.unlink(path);\n        } else if (flags === 512) {\n          FS.rmdir(path);\n        } else {\n          abort('Invalid flags passed to unlinkat');\n        }\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return -e.errno;\n      }\n    }\n\n    var __abort_js = () => {\n      abort('native code called abort()');\n    };\n\n    var __emscripten_memcpy_js = (dest, src, num) => HEAPU8.copyWithin(dest, src, src + num);\n\n    var __emscripten_throw_longjmp = () => {\n      throw Infinity;\n    };\n\n    function __gmtime_js(time_low, time_high, tmPtr) {\n      var time = convertI32PairToI53Checked(time_low, time_high);\n\n      var date = new Date(time * 1000);\n      HEAP32[tmPtr >> 2] = date.getUTCSeconds();\n      HEAP32[(tmPtr + 4) >> 2] = date.getUTCMinutes();\n      HEAP32[(tmPtr + 8) >> 2] = date.getUTCHours();\n      HEAP32[(tmPtr + 12) >> 2] = date.getUTCDate();\n      HEAP32[(tmPtr + 16) >> 2] = date.getUTCMonth();\n      HEAP32[(tmPtr + 20) >> 2] = date.getUTCFullYear() - 1900;\n      HEAP32[(tmPtr + 24) >> 2] = date.getUTCDay();\n      var start = Date.UTC(date.getUTCFullYear(), 0, 1, 0, 0, 0, 0);\n      var yday = ((date.getTime() - start) / (1000 * 60 * 60 * 24)) | 0;\n      HEAP32[(tmPtr + 28) >> 2] = yday;\n    }\n\n    var isLeapYear = (year) => year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n\n    var MONTH_DAYS_LEAP_CUMULATIVE = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\n    var MONTH_DAYS_REGULAR_CUMULATIVE = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n    var ydayFromDate = (date) => {\n      var leap = isLeapYear(date.getFullYear());\n      var monthDaysCumulative = leap ? MONTH_DAYS_LEAP_CUMULATIVE : MONTH_DAYS_REGULAR_CUMULATIVE;\n      var yday = monthDaysCumulative[date.getMonth()] + date.getDate() - 1; // -1 since it's days since Jan 1\n\n      return yday;\n    };\n\n    function __localtime_js(time_low, time_high, tmPtr) {\n      var time = convertI32PairToI53Checked(time_low, time_high);\n\n      var date = new Date(time * 1000);\n      HEAP32[tmPtr >> 2] = date.getSeconds();\n      HEAP32[(tmPtr + 4) >> 2] = date.getMinutes();\n      HEAP32[(tmPtr + 8) >> 2] = date.getHours();\n      HEAP32[(tmPtr + 12) >> 2] = date.getDate();\n      HEAP32[(tmPtr + 16) >> 2] = date.getMonth();\n      HEAP32[(tmPtr + 20) >> 2] = date.getFullYear() - 1900;\n      HEAP32[(tmPtr + 24) >> 2] = date.getDay();\n\n      var yday = ydayFromDate(date) | 0;\n      HEAP32[(tmPtr + 28) >> 2] = yday;\n      HEAP32[(tmPtr + 36) >> 2] = -(date.getTimezoneOffset() * 60);\n\n      // Attention: DST is in December in South, and some regions don't have DST at all.\n      var start = new Date(date.getFullYear(), 0, 1);\n      var summerOffset = new Date(date.getFullYear(), 6, 1).getTimezoneOffset();\n      var winterOffset = start.getTimezoneOffset();\n      var dst =\n        (summerOffset != winterOffset &&\n          date.getTimezoneOffset() == Math.min(winterOffset, summerOffset)) | 0;\n      HEAP32[(tmPtr + 32) >> 2] = dst;\n    }\n\n    var __tzset_js = (timezone, daylight, std_name, dst_name) => {\n      // TODO: Use (malleable) environment variables instead of system settings.\n      var currentYear = new Date().getFullYear();\n      var winter = new Date(currentYear, 0, 1);\n      var summer = new Date(currentYear, 6, 1);\n      var winterOffset = winter.getTimezoneOffset();\n      var summerOffset = summer.getTimezoneOffset();\n\n      // Local standard timezone offset. Local standard time is not adjusted for\n      // daylight savings.  This code uses the fact that getTimezoneOffset returns\n      // a greater value during Standard Time versus Daylight Saving Time (DST).\n      // Thus it determines the expected output during Standard Time, and it\n      // compares whether the output of the given date the same (Standard) or less\n      // (DST).\n      var stdTimezoneOffset = Math.max(winterOffset, summerOffset);\n\n      // timezone is specified as seconds west of UTC (\"The external variable\n      // `timezone` shall be set to the difference, in seconds, between\n      // Coordinated Universal Time (UTC) and local standard time.\"), the same\n      // as returned by stdTimezoneOffset.\n      // See http://pubs.opengroup.org/onlinepubs/009695399/functions/tzset.html\n      HEAPU32[timezone >> 2] = stdTimezoneOffset * 60;\n\n      HEAP32[daylight >> 2] = Number(winterOffset != summerOffset);\n\n      var extractZone = (timezoneOffset) => {\n        // Why inverse sign?\n        // Read here https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\n        var sign = timezoneOffset >= 0 ? '-' : '+';\n\n        var absOffset = Math.abs(timezoneOffset);\n        var hours = String(Math.floor(absOffset / 60)).padStart(2, '0');\n        var minutes = String(absOffset % 60).padStart(2, '0');\n\n        return `UTC${sign}${hours}${minutes}`;\n      };\n\n      var winterName = extractZone(winterOffset);\n      var summerName = extractZone(summerOffset);\n      assert(winterName);\n      assert(summerName);\n      assert(\n        lengthBytesUTF8(winterName) <= 16,\n        `timezone name truncated to fit in TZNAME_MAX (${winterName})`,\n      );\n      assert(\n        lengthBytesUTF8(summerName) <= 16,\n        `timezone name truncated to fit in TZNAME_MAX (${summerName})`,\n      );\n      if (summerOffset < winterOffset) {\n        // Northern hemisphere\n        stringToUTF8(winterName, std_name, 17);\n        stringToUTF8(summerName, dst_name, 17);\n      } else {\n        stringToUTF8(winterName, dst_name, 17);\n        stringToUTF8(summerName, std_name, 17);\n      }\n    };\n\n    var _emscripten_date_now = () => Date.now();\n\n    var getHeapMax = () =>\n      // Stay one Wasm page short of 4GB: while e.g. Chrome is able to allocate\n      // full 4GB Wasm memories, the size will wrap back to 0 bytes in Wasm side\n      // for any code that deals with heap sizes, which would require special\n      // casing all heap size related code to treat 0 specially.\n      2147483648;\n\n    var growMemory = (size) => {\n      var b = wasmMemory.buffer;\n      var pages = ((size - b.byteLength + 65535) / 65536) | 0;\n      try {\n        // round size grow request up to wasm page size (fixed 64KB per spec)\n        wasmMemory.grow(pages); // .grow() takes a delta compared to the previous size\n        updateMemoryViews();\n        return 1 /*success*/;\n      } catch (e) {\n        err(\n          `growMemory: Attempted to grow heap from ${b.byteLength} bytes to ${size} bytes, but got error: ${e}`,\n        );\n      }\n      // implicit 0 return to save code size (caller will cast \"undefined\" into 0\n      // anyhow)\n    };\n    var _emscripten_resize_heap = (requestedSize) => {\n      var oldSize = HEAPU8.length;\n      // With CAN_ADDRESS_2GB or MEMORY64, pointers are already unsigned.\n      requestedSize >>>= 0;\n      // With multithreaded builds, races can happen (another thread might increase the size\n      // in between), so return a failure, and let the caller retry.\n      assert(requestedSize > oldSize);\n\n      // Memory resize rules:\n      // 1.  Always increase heap size to at least the requested size, rounded up\n      //     to next page multiple.\n      // 2a. If MEMORY_GROWTH_LINEAR_STEP == -1, excessively resize the heap\n      //     geometrically: increase the heap size according to\n      //     MEMORY_GROWTH_GEOMETRIC_STEP factor (default +20%), At most\n      //     overreserve by MEMORY_GROWTH_GEOMETRIC_CAP bytes (default 96MB).\n      // 2b. If MEMORY_GROWTH_LINEAR_STEP != -1, excessively resize the heap\n      //     linearly: increase the heap size by at least\n      //     MEMORY_GROWTH_LINEAR_STEP bytes.\n      // 3.  Max size for the heap is capped at 2048MB-WASM_PAGE_SIZE, or by\n      //     MAXIMUM_MEMORY, or by ASAN limit, depending on which is smallest\n      // 4.  If we were unable to allocate as much memory, it may be due to\n      //     over-eager decision to excessively reserve due to (3) above.\n      //     Hence if an allocation fails, cut down on the amount of excess\n      //     growth, in an attempt to succeed to perform a smaller allocation.\n\n      // A limit is set for how much we can grow. We should not exceed that\n      // (the wasm binary specifies it, so if we tried, we'd fail anyhow).\n      var maxHeapSize = getHeapMax();\n      if (requestedSize > maxHeapSize) {\n        err(\n          `Cannot enlarge memory, requested ${requestedSize} bytes, but the limit is ${maxHeapSize} bytes!`,\n        );\n        return false;\n      }\n\n      // Loop through potential heap size increases. If we attempt a too eager\n      // reservation that fails, cut down on the attempted size and reserve a\n      // smaller bump instead. (max 3 times, chosen somewhat arbitrarily)\n      for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n        var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown); // ensure geometric growth\n        // but limit overreserving (default to capping at +96MB overgrowth at most)\n        overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);\n\n        var newSize = Math.min(\n          maxHeapSize,\n          alignMemory(Math.max(requestedSize, overGrownHeapSize), 65536),\n        );\n\n        var replacement = growMemory(newSize);\n        if (replacement) {\n          return true;\n        }\n      }\n      err(`Failed to grow the heap from ${oldSize} bytes to ${newSize} bytes, not enough memory!`);\n      return false;\n    };\n\n    var ENV = {};\n\n    var getExecutableName = () => {\n      return thisProgram || './this.program';\n    };\n    var getEnvStrings = () => {\n      if (!getEnvStrings.strings) {\n        // Default values.\n        // Browser language detection #8751\n        var lang =\n          (\n            (typeof navigator == 'object' && navigator.languages && navigator.languages[0]) ||\n            'C'\n          ).replace('-', '_') + '.UTF-8';\n        var env = {\n          USER: 'web_user',\n          LOGNAME: 'web_user',\n          PATH: '/',\n          PWD: '/',\n          HOME: '/home/web_user',\n          LANG: lang,\n          _: getExecutableName(),\n        };\n        // Apply the user-provided values, if any.\n        for (var x in ENV) {\n          // x is a key in ENV; if ENV[x] is undefined, that means it was\n          // explicitly set to be so. We allow user code to do that to\n          // force variables with default values to remain unset.\n          if (ENV[x] === undefined) delete env[x];\n          else env[x] = ENV[x];\n        }\n        var strings = [];\n        for (var x in env) {\n          strings.push(`${x}=${env[x]}`);\n        }\n        getEnvStrings.strings = strings;\n      }\n      return getEnvStrings.strings;\n    };\n\n    var stringToAscii = (str, buffer) => {\n      for (var i = 0; i < str.length; ++i) {\n        assert(str.charCodeAt(i) === (str.charCodeAt(i) & 0xff));\n        HEAP8[buffer++] = str.charCodeAt(i);\n      }\n      // Null-terminate the string\n      HEAP8[buffer] = 0;\n    };\n    var _environ_get = (__environ, environ_buf) => {\n      var bufSize = 0;\n      getEnvStrings().forEach((string, i) => {\n        var ptr = environ_buf + bufSize;\n        HEAPU32[(__environ + i * 4) >> 2] = ptr;\n        stringToAscii(string, ptr);\n        bufSize += string.length + 1;\n      });\n      return 0;\n    };\n\n    var _environ_sizes_get = (penviron_count, penviron_buf_size) => {\n      var strings = getEnvStrings();\n      HEAPU32[penviron_count >> 2] = strings.length;\n      var bufSize = 0;\n      strings.forEach((string) => (bufSize += string.length + 1));\n      HEAPU32[penviron_buf_size >> 2] = bufSize;\n      return 0;\n    };\n\n    function _fd_close(fd) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        FS.close(stream);\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return e.errno;\n      }\n    }\n\n    /** @param {number=} offset */\n    var doReadv = (stream, iov, iovcnt, offset) => {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[(iov + 4) >> 2];\n        iov += 8;\n        var curr = FS.read(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (curr < len) break; // nothing more to read\n        if (typeof offset != 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    };\n\n    function _fd_read(fd, iov, iovcnt, pnum) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        var num = doReadv(stream, iov, iovcnt);\n        HEAPU32[pnum >> 2] = num;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return e.errno;\n      }\n    }\n\n    function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n      var offset = convertI32PairToI53Checked(offset_low, offset_high);\n\n      try {\n        if (isNaN(offset)) return 61;\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        FS.llseek(stream, offset, whence);\n        ((tempI64 = [\n          stream.position >>> 0,\n          ((tempDouble = stream.position),\n          +Math.abs(tempDouble) >= 1.0\n            ? tempDouble > 0.0\n              ? +Math.floor(tempDouble / 4294967296.0) >>> 0\n              : ~~+Math.ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296.0) >>> 0\n            : 0),\n        ]),\n          (HEAP32[newOffset >> 2] = tempI64[0]),\n          (HEAP32[(newOffset + 4) >> 2] = tempI64[1]));\n        if (stream.getdents && offset === 0 && whence === 0) stream.getdents = null; // reset readdir state\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return e.errno;\n      }\n    }\n\n    function _fd_sync(fd) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        if (stream.stream_ops?.fsync) {\n          return stream.stream_ops.fsync(stream);\n        }\n        return 0; // we can't do anything synchronously; the in-memory FS is already synced to\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return e.errno;\n      }\n    }\n\n    /** @param {number=} offset */\n    var doWritev = (stream, iov, iovcnt, offset) => {\n      var ret = 0;\n      for (var i = 0; i < iovcnt; i++) {\n        var ptr = HEAPU32[iov >> 2];\n        var len = HEAPU32[(iov + 4) >> 2];\n        iov += 8;\n        var curr = FS.write(stream, HEAP8, ptr, len, offset);\n        if (curr < 0) return -1;\n        ret += curr;\n        if (curr < len) {\n          // No more space to write.\n          break;\n        }\n        if (typeof offset != 'undefined') {\n          offset += curr;\n        }\n      }\n      return ret;\n    };\n\n    function _fd_write(fd, iov, iovcnt, pnum) {\n      try {\n        var stream = SYSCALLS.getStreamFromFD(fd);\n        var num = doWritev(stream, iov, iovcnt);\n        HEAPU32[pnum >> 2] = num;\n        return 0;\n      } catch (e) {\n        if (typeof FS == 'undefined' || !(e.name === 'ErrnoError')) throw e;\n        return e.errno;\n      }\n    }\n\n    var wasmTableMirror = [];\n\n    /** @type {WebAssembly.Table} */\n    var wasmTable;\n    var getWasmTableEntry = (funcPtr) => {\n      var func = wasmTableMirror[funcPtr];\n      if (!func) {\n        if (funcPtr >= wasmTableMirror.length) wasmTableMirror.length = funcPtr + 1;\n        wasmTableMirror[funcPtr] = func = wasmTable.get(funcPtr);\n      }\n      assert(\n        wasmTable.get(funcPtr) == func,\n        'JavaScript-side Wasm function table mirror is out of date!',\n      );\n      return func;\n    };\n\n    var UTF16Decoder = typeof TextDecoder != 'undefined' ? new TextDecoder('utf-16le') : undefined;\n    var UTF16ToString = (ptr, maxBytesToRead) => {\n      assert(ptr % 2 == 0, 'Pointer passed to UTF16ToString must be aligned to two bytes!');\n      var endPtr = ptr;\n      // TextDecoder needs to know the byte length in advance, it doesn't stop on\n      // null terminator by itself.\n      // Also, use the length info to avoid running tiny strings through\n      // TextDecoder, since .subarray() allocates garbage.\n      var idx = endPtr >> 1;\n      var maxIdx = idx + maxBytesToRead / 2;\n      // If maxBytesToRead is not passed explicitly, it will be undefined, and this\n      // will always evaluate to true. This saves on code size.\n      while (!(idx >= maxIdx) && HEAPU16[idx]) ++idx;\n      endPtr = idx << 1;\n\n      if (endPtr - ptr > 32 && UTF16Decoder)\n        return UTF16Decoder.decode(HEAPU8.subarray(ptr, endPtr));\n\n      // Fallback: decode without UTF16Decoder\n      var str = '';\n\n      // If maxBytesToRead is not passed explicitly, it will be undefined, and the\n      // for-loop's condition will always evaluate to true. The loop is then\n      // terminated on the first null char.\n      for (var i = 0; !(i >= maxBytesToRead / 2); ++i) {\n        var codeUnit = HEAP16[(ptr + i * 2) >> 1];\n        if (codeUnit == 0) break;\n        // fromCharCode constructs a character from a UTF-16 code unit, so we can\n        // pass the UTF16 string right through.\n        str += String.fromCharCode(codeUnit);\n      }\n\n      return str;\n    };\n\n    var uleb128Encode = (n, target) => {\n      assert(n < 16384);\n      if (n < 128) {\n        target.push(n);\n      } else {\n        target.push((n % 128) | 128, n >> 7);\n      }\n    };\n\n    var sigToWasmTypes = (sig) => {\n      assert(\n        !sig.includes('j'),\n        'i64 not permitted in function signatures when WASM_BIGINT is disabled',\n      );\n      var typeNames = {\n        i: 'i32',\n        j: 'i64',\n        f: 'f32',\n        d: 'f64',\n        e: 'externref',\n        p: 'i32',\n      };\n      var type = {\n        parameters: [],\n        results: sig[0] == 'v' ? [] : [typeNames[sig[0]]],\n      };\n      for (var i = 1; i < sig.length; ++i) {\n        assert(sig[i] in typeNames, 'invalid signature char: ' + sig[i]);\n        type.parameters.push(typeNames[sig[i]]);\n      }\n      return type;\n    };\n\n    var generateFuncType = (sig, target) => {\n      var sigRet = sig.slice(0, 1);\n      var sigParam = sig.slice(1);\n      var typeCodes = {\n        i: 0x7f, // i32\n        p: 0x7f, // i32\n        j: 0x7e, // i64\n        f: 0x7d, // f32\n        d: 0x7c, // f64\n        e: 0x6f, // externref\n      };\n\n      // Parameters, length + signatures\n      target.push(0x60 /* form: func */);\n      uleb128Encode(sigParam.length, target);\n      for (var i = 0; i < sigParam.length; ++i) {\n        assert(sigParam[i] in typeCodes, 'invalid signature char: ' + sigParam[i]);\n        target.push(typeCodes[sigParam[i]]);\n      }\n\n      // Return values, length + signatures\n      // With no multi-return in MVP, either 0 (void) or 1 (anything else)\n      if (sigRet == 'v') {\n        target.push(0x00);\n      } else {\n        target.push(0x01, typeCodes[sigRet]);\n      }\n    };\n    var convertJsFunctionToWasm = (func, sig) => {\n      assert(\n        !sig.includes('j'),\n        'i64 not permitted in function signatures when WASM_BIGINT is disabled',\n      );\n\n      // If the type reflection proposal is available, use the new\n      // \"WebAssembly.Function\" constructor.\n      // Otherwise, construct a minimal wasm module importing the JS function and\n      // re-exporting it.\n      if (typeof WebAssembly.Function == 'function') {\n        return new WebAssembly.Function(sigToWasmTypes(sig), func);\n      }\n\n      // The module is static, with the exception of the type section, which is\n      // generated based on the signature passed in.\n      var typeSectionBody = [\n        0x01, // count: 1\n      ];\n      generateFuncType(sig, typeSectionBody);\n\n      // Rest of the module is static\n      var bytes = [\n        0x00,\n        0x61,\n        0x73,\n        0x6d, // magic (\"\\0asm\")\n        0x01,\n        0x00,\n        0x00,\n        0x00, // version: 1\n        0x01, // Type section code\n      ];\n      // Write the overall length of the type section followed by the body\n      uleb128Encode(typeSectionBody.length, bytes);\n      bytes.push(...typeSectionBody);\n\n      // The rest of the module is static\n      bytes.push(\n        0x02,\n        0x07, // import section\n        // (import \"e\" \"f\" (func 0 (type 0)))\n        0x01,\n        0x01,\n        0x65,\n        0x01,\n        0x66,\n        0x00,\n        0x00,\n        0x07,\n        0x05, // export section\n        // (export \"f\" (func 0 (type 0)))\n        0x01,\n        0x01,\n        0x66,\n        0x00,\n        0x00,\n      );\n\n      // We can compile this wasm module synchronously because it is very small.\n      // This accepts an import (at \"e.f\"), that it reroutes to an export (at \"f\")\n      var module = new WebAssembly.Module(new Uint8Array(bytes));\n      var instance = new WebAssembly.Instance(module, { e: { f: func } });\n      var wrappedFunc = instance.exports['f'];\n      return wrappedFunc;\n    };\n\n    var updateTableMap = (offset, count) => {\n      if (functionsInTableMap) {\n        for (var i = offset; i < offset + count; i++) {\n          var item = getWasmTableEntry(i);\n          // Ignore null values.\n          if (item) {\n            functionsInTableMap.set(item, i);\n          }\n        }\n      }\n    };\n\n    var functionsInTableMap;\n\n    var getFunctionAddress = (func) => {\n      // First, create the map if this is the first use.\n      if (!functionsInTableMap) {\n        functionsInTableMap = new WeakMap();\n        updateTableMap(0, wasmTable.length);\n      }\n      return functionsInTableMap.get(func) || 0;\n    };\n\n    var freeTableIndexes = [];\n\n    var getEmptyTableSlot = () => {\n      // Reuse a free index if there is one, otherwise grow.\n      if (freeTableIndexes.length) {\n        return freeTableIndexes.pop();\n      }\n      // Grow the table\n      try {\n        wasmTable.grow(1);\n      } catch (err) {\n        if (!(err instanceof RangeError)) {\n          throw err;\n        }\n        throw 'Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.';\n      }\n      return wasmTable.length - 1;\n    };\n\n    var setWasmTableEntry = (idx, func) => {\n      wasmTable.set(idx, func);\n      // With ABORT_ON_WASM_EXCEPTIONS wasmTable.get is overridden to return wrapped\n      // functions so we need to call it here to retrieve the potential wrapper correctly\n      // instead of just storing 'func' directly into wasmTableMirror\n      wasmTableMirror[idx] = wasmTable.get(idx);\n    };\n\n    /** @param {string=} sig */\n    var addFunction = (func, sig) => {\n      assert(typeof func != 'undefined');\n      // Check if the function is already in the table, to ensure each function\n      // gets a unique index.\n      var rtn = getFunctionAddress(func);\n      if (rtn) {\n        return rtn;\n      }\n\n      // It's not in the table, add it now.\n\n      var ret = getEmptyTableSlot();\n\n      // Set the new value.\n      try {\n        // Attempting to call this with JS function will cause of table.set() to fail\n        setWasmTableEntry(ret, func);\n      } catch (err) {\n        if (!(err instanceof TypeError)) {\n          throw err;\n        }\n        assert(typeof sig != 'undefined', 'Missing signature argument to addFunction: ' + func);\n        var wrapped = convertJsFunctionToWasm(func, sig);\n        setWasmTableEntry(ret, wrapped);\n      }\n\n      functionsInTableMap.set(func, ret);\n\n      return ret;\n    };\n\n    var getCFunc = (ident) => {\n      var func = Module['_' + ident]; // closure exported function\n      assert(func, 'Cannot call unknown function ' + ident + ', make sure it is exported');\n      return func;\n    };\n\n    var writeArrayToMemory = (array, buffer) => {\n      assert(\n        array.length >= 0,\n        'writeArrayToMemory array must have a length (should be an array or typed array)',\n      );\n      HEAP8.set(array, buffer);\n    };\n\n    var stackAlloc = (sz) => __emscripten_stack_alloc(sz);\n    var stringToUTF8OnStack = (str) => {\n      var size = lengthBytesUTF8(str) + 1;\n      var ret = stackAlloc(size);\n      stringToUTF8(str, ret, size);\n      return ret;\n    };\n\n    /**\n     * @param {string|null=} returnType\n     * @param {Array=} argTypes\n     * @param {Arguments|Array=} args\n     * @param {Object=} opts\n     */\n    var ccall = (ident, returnType, argTypes, args, opts) => {\n      // For fast lookup of conversion functions\n      var toC = {\n        string: (str) => {\n          var ret = 0;\n          if (str !== null && str !== undefined && str !== 0) {\n            // null string\n            ret = stringToUTF8OnStack(str);\n          }\n          return ret;\n        },\n        array: (arr) => {\n          var ret = stackAlloc(arr.length);\n          writeArrayToMemory(arr, ret);\n          return ret;\n        },\n      };\n\n      function convertReturnValue(ret) {\n        if (returnType === 'string') {\n          return UTF8ToString(ret);\n        }\n        if (returnType === 'boolean') return Boolean(ret);\n        return ret;\n      }\n\n      var func = getCFunc(ident);\n      var cArgs = [];\n      var stack = 0;\n      assert(returnType !== 'array', 'Return type should not be \"array\".');\n      if (args) {\n        for (var i = 0; i < args.length; i++) {\n          var converter = toC[argTypes[i]];\n          if (converter) {\n            if (stack === 0) stack = stackSave();\n            cArgs[i] = converter(args[i]);\n          } else {\n            cArgs[i] = args[i];\n          }\n        }\n      }\n      var ret = func(...cArgs);\n      function onDone(ret) {\n        if (stack !== 0) stackRestore(stack);\n        return convertReturnValue(ret);\n      }\n\n      ret = onDone(ret);\n      return ret;\n    };\n\n    /**\n     * @param {string=} returnType\n     * @param {Array=} argTypes\n     * @param {Object=} opts\n     */\n    var cwrap = (ident, returnType, argTypes, opts) => {\n      return (...args) => ccall(ident, returnType, argTypes, args, opts);\n    };\n\n    var removeFunction = (index) => {\n      functionsInTableMap.delete(getWasmTableEntry(index));\n      setWasmTableEntry(index, null);\n      freeTableIndexes.push(index);\n    };\n\n    var stringToUTF16 = (str, outPtr, maxBytesToWrite) => {\n      assert(outPtr % 2 == 0, 'Pointer passed to stringToUTF16 must be aligned to two bytes!');\n      assert(\n        typeof maxBytesToWrite == 'number',\n        'stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!',\n      );\n      // Backwards compatibility: if max bytes is not specified, assume unsafe unbounded write is allowed.\n      maxBytesToWrite ??= 0x7fffffff;\n      if (maxBytesToWrite < 2) return 0;\n      maxBytesToWrite -= 2; // Null terminator.\n      var startPtr = outPtr;\n      var numCharsToWrite = maxBytesToWrite < str.length * 2 ? maxBytesToWrite / 2 : str.length;\n      for (var i = 0; i < numCharsToWrite; ++i) {\n        // charCodeAt returns a UTF-16 encoded code unit, so it can be directly written to the HEAP.\n        var codeUnit = str.charCodeAt(i); // possibly a lead surrogate\n        HEAP16[outPtr >> 1] = codeUnit;\n        outPtr += 2;\n      }\n      // Null-terminate the pointer to the HEAP.\n      HEAP16[outPtr >> 1] = 0;\n      return outPtr - startPtr;\n    };\n\n    FS.createPreloadedFile = FS_createPreloadedFile;\n    FS.staticInit();\n    // Set module methods based on EXPORTED_RUNTIME_METHODS\n    function checkIncomingModuleAPI() {\n      ignoredModuleProp('fetchSettings');\n    }\n    var wasmImports = {\n      /** @export */\n      __assert_fail: ___assert_fail,\n      /** @export */\n      __syscall_fcntl64: ___syscall_fcntl64,\n      /** @export */\n      __syscall_fstat64: ___syscall_fstat64,\n      /** @export */\n      __syscall_ftruncate64: ___syscall_ftruncate64,\n      /** @export */\n      __syscall_getdents64: ___syscall_getdents64,\n      /** @export */\n      __syscall_ioctl: ___syscall_ioctl,\n      /** @export */\n      __syscall_lstat64: ___syscall_lstat64,\n      /** @export */\n      __syscall_newfstatat: ___syscall_newfstatat,\n      /** @export */\n      __syscall_openat: ___syscall_openat,\n      /** @export */\n      __syscall_rmdir: ___syscall_rmdir,\n      /** @export */\n      __syscall_stat64: ___syscall_stat64,\n      /** @export */\n      __syscall_unlinkat: ___syscall_unlinkat,\n      /** @export */\n      _abort_js: __abort_js,\n      /** @export */\n      _emscripten_memcpy_js: __emscripten_memcpy_js,\n      /** @export */\n      _emscripten_throw_longjmp: __emscripten_throw_longjmp,\n      /** @export */\n      _gmtime_js: __gmtime_js,\n      /** @export */\n      _localtime_js: __localtime_js,\n      /** @export */\n      _tzset_js: __tzset_js,\n      /** @export */\n      emscripten_date_now: _emscripten_date_now,\n      /** @export */\n      emscripten_resize_heap: _emscripten_resize_heap,\n      /** @export */\n      environ_get: _environ_get,\n      /** @export */\n      environ_sizes_get: _environ_sizes_get,\n      /** @export */\n      fd_close: _fd_close,\n      /** @export */\n      fd_read: _fd_read,\n      /** @export */\n      fd_seek: _fd_seek,\n      /** @export */\n      fd_sync: _fd_sync,\n      /** @export */\n      fd_write: _fd_write,\n      /** @export */\n      invoke_ii,\n      /** @export */\n      invoke_iii,\n      /** @export */\n      invoke_iiii,\n      /** @export */\n      invoke_iiiii,\n      /** @export */\n      invoke_v,\n      /** @export */\n      invoke_vii,\n      /** @export */\n      invoke_viii,\n      /** @export */\n      invoke_viiii,\n      /** @export */\n      invoke_viiiiiiiii,\n    };\n    var wasmExports = createWasm();\n    var ___wasm_call_ctors = createExportWrapper('__wasm_call_ctors', 0);\n    var _PDFiumExt_Init = (Module['_PDFiumExt_Init'] = createExportWrapper('PDFiumExt_Init', 0));\n    var _FPDF_InitLibraryWithConfig = (Module['_FPDF_InitLibraryWithConfig'] = createExportWrapper(\n      'FPDF_InitLibraryWithConfig',\n      1,\n    ));\n    var _PDFiumExt_OpenFileWriter = (Module['_PDFiumExt_OpenFileWriter'] = createExportWrapper(\n      'PDFiumExt_OpenFileWriter',\n      0,\n    ));\n    var _PDFiumExt_GetFileWriterSize = (Module['_PDFiumExt_GetFileWriterSize'] =\n      createExportWrapper('PDFiumExt_GetFileWriterSize', 1));\n    var _PDFiumExt_GetFileWriterData = (Module['_PDFiumExt_GetFileWriterData'] =\n      createExportWrapper('PDFiumExt_GetFileWriterData', 3));\n    var _PDFiumExt_CloseFileWriter = (Module['_PDFiumExt_CloseFileWriter'] = createExportWrapper(\n      'PDFiumExt_CloseFileWriter',\n      1,\n    ));\n    var _PDFiumExt_SaveAsCopy = (Module['_PDFiumExt_SaveAsCopy'] = createExportWrapper(\n      'PDFiumExt_SaveAsCopy',\n      2,\n    ));\n    var _FPDF_SaveAsCopy = (Module['_FPDF_SaveAsCopy'] = createExportWrapper('FPDF_SaveAsCopy', 3));\n    var _PDFiumExt_OpenFormFillInfo = (Module['_PDFiumExt_OpenFormFillInfo'] = createExportWrapper(\n      'PDFiumExt_OpenFormFillInfo',\n      0,\n    ));\n    var _PDFiumExt_CloseFormFillInfo = (Module['_PDFiumExt_CloseFormFillInfo'] =\n      createExportWrapper('PDFiumExt_CloseFormFillInfo', 1));\n    var _PDFiumExt_InitFormFillEnvironment = (Module['_PDFiumExt_InitFormFillEnvironment'] =\n      createExportWrapper('PDFiumExt_InitFormFillEnvironment', 2));\n    var _FPDFDOC_InitFormFillEnvironment = (Module['_FPDFDOC_InitFormFillEnvironment'] =\n      createExportWrapper('FPDFDOC_InitFormFillEnvironment', 2));\n    var _PDFiumExt_ExitFormFillEnvironment = (Module['_PDFiumExt_ExitFormFillEnvironment'] =\n      createExportWrapper('PDFiumExt_ExitFormFillEnvironment', 1));\n    var _FPDFDOC_ExitFormFillEnvironment = (Module['_FPDFDOC_ExitFormFillEnvironment'] =\n      createExportWrapper('FPDFDOC_ExitFormFillEnvironment', 1));\n    var _EPDFNamedDest_SetDest = (Module['_EPDFNamedDest_SetDest'] = createExportWrapper(\n      'EPDFNamedDest_SetDest',\n      3,\n    ));\n    var _EPDFNamedDest_Remove = (Module['_EPDFNamedDest_Remove'] = createExportWrapper(\n      'EPDFNamedDest_Remove',\n      2,\n    ));\n    var _EPDFDest_CreateView = (Module['_EPDFDest_CreateView'] = createExportWrapper(\n      'EPDFDest_CreateView',\n      4,\n    ));\n    var _EPDFDest_CreateXYZ = (Module['_EPDFDest_CreateXYZ'] = createExportWrapper(\n      'EPDFDest_CreateXYZ',\n      7,\n    ));\n    var _EPDFDest_CreateRemoteView = (Module['_EPDFDest_CreateRemoteView'] = createExportWrapper(\n      'EPDFDest_CreateRemoteView',\n      5,\n    ));\n    var _EPDFDest_CreateRemoteXYZ = (Module['_EPDFDest_CreateRemoteXYZ'] = createExportWrapper(\n      'EPDFDest_CreateRemoteXYZ',\n      8,\n    ));\n    var _EPDFAction_CreateGoTo = (Module['_EPDFAction_CreateGoTo'] = createExportWrapper(\n      'EPDFAction_CreateGoTo',\n      2,\n    ));\n    var _EPDFAction_CreateGoToNamed = (Module['_EPDFAction_CreateGoToNamed'] = createExportWrapper(\n      'EPDFAction_CreateGoToNamed',\n      2,\n    ));\n    var _EPDFAction_CreateLaunch = (Module['_EPDFAction_CreateLaunch'] = createExportWrapper(\n      'EPDFAction_CreateLaunch',\n      2,\n    ));\n    var _EPDFAction_CreateRemoteGoToByName = (Module['_EPDFAction_CreateRemoteGoToByName'] =\n      createExportWrapper('EPDFAction_CreateRemoteGoToByName', 3));\n    var _EPDFAction_CreateRemoteGoToDest = (Module['_EPDFAction_CreateRemoteGoToDest'] =\n      createExportWrapper('EPDFAction_CreateRemoteGoToDest', 3));\n    var _EPDFAction_CreateURI = (Module['_EPDFAction_CreateURI'] = createExportWrapper(\n      'EPDFAction_CreateURI',\n      2,\n    ));\n    var _EPDFBookmark_Create = (Module['_EPDFBookmark_Create'] = createExportWrapper(\n      'EPDFBookmark_Create',\n      2,\n    ));\n    var _EPDFBookmark_Delete = (Module['_EPDFBookmark_Delete'] = createExportWrapper(\n      'EPDFBookmark_Delete',\n      2,\n    ));\n    var _EPDFBookmark_AppendChild = (Module['_EPDFBookmark_AppendChild'] = createExportWrapper(\n      'EPDFBookmark_AppendChild',\n      3,\n    ));\n    var _EPDFBookmark_InsertAfter = (Module['_EPDFBookmark_InsertAfter'] = createExportWrapper(\n      'EPDFBookmark_InsertAfter',\n      4,\n    ));\n    var _EPDFBookmark_Clear = (Module['_EPDFBookmark_Clear'] = createExportWrapper(\n      'EPDFBookmark_Clear',\n      1,\n    ));\n    var _EPDFBookmark_SetTitle = (Module['_EPDFBookmark_SetTitle'] = createExportWrapper(\n      'EPDFBookmark_SetTitle',\n      2,\n    ));\n    var _EPDFBookmark_SetDest = (Module['_EPDFBookmark_SetDest'] = createExportWrapper(\n      'EPDFBookmark_SetDest',\n      3,\n    ));\n    var _EPDFBookmark_SetAction = (Module['_EPDFBookmark_SetAction'] = createExportWrapper(\n      'EPDFBookmark_SetAction',\n      3,\n    ));\n    var _EPDFBookmark_ClearTarget = (Module['_EPDFBookmark_ClearTarget'] = createExportWrapper(\n      'EPDFBookmark_ClearTarget',\n      1,\n    ));\n    var _EPDF_PNG_EncodeRGBA = (Module['_EPDF_PNG_EncodeRGBA'] = createExportWrapper(\n      'EPDF_PNG_EncodeRGBA',\n      6,\n    ));\n    var _FPDFAnnot_IsSupportedSubtype = (Module['_FPDFAnnot_IsSupportedSubtype'] =\n      createExportWrapper('FPDFAnnot_IsSupportedSubtype', 1));\n    var _FPDFPage_CreateAnnot = (Module['_FPDFPage_CreateAnnot'] = createExportWrapper(\n      'FPDFPage_CreateAnnot',\n      2,\n    ));\n    var _FPDFPage_GetAnnotCount = (Module['_FPDFPage_GetAnnotCount'] = createExportWrapper(\n      'FPDFPage_GetAnnotCount',\n      1,\n    ));\n    var _FPDFPage_GetAnnot = (Module['_FPDFPage_GetAnnot'] = createExportWrapper(\n      'FPDFPage_GetAnnot',\n      2,\n    ));\n    var _FPDFPage_GetAnnotIndex = (Module['_FPDFPage_GetAnnotIndex'] = createExportWrapper(\n      'FPDFPage_GetAnnotIndex',\n      2,\n    ));\n    var _FPDFPage_CloseAnnot = (Module['_FPDFPage_CloseAnnot'] = createExportWrapper(\n      'FPDFPage_CloseAnnot',\n      1,\n    ));\n    var _FPDFPage_RemoveAnnot = (Module['_FPDFPage_RemoveAnnot'] = createExportWrapper(\n      'FPDFPage_RemoveAnnot',\n      2,\n    ));\n    var _FPDFAnnot_GetSubtype = (Module['_FPDFAnnot_GetSubtype'] = createExportWrapper(\n      'FPDFAnnot_GetSubtype',\n      1,\n    ));\n    var _FPDFAnnot_IsObjectSupportedSubtype = (Module['_FPDFAnnot_IsObjectSupportedSubtype'] =\n      createExportWrapper('FPDFAnnot_IsObjectSupportedSubtype', 1));\n    var _FPDFAnnot_UpdateObject = (Module['_FPDFAnnot_UpdateObject'] = createExportWrapper(\n      'FPDFAnnot_UpdateObject',\n      2,\n    ));\n    var _FPDFAnnot_AddInkStroke = (Module['_FPDFAnnot_AddInkStroke'] = createExportWrapper(\n      'FPDFAnnot_AddInkStroke',\n      3,\n    ));\n    var _FPDFAnnot_RemoveInkList = (Module['_FPDFAnnot_RemoveInkList'] = createExportWrapper(\n      'FPDFAnnot_RemoveInkList',\n      1,\n    ));\n    var _FPDFAnnot_AppendObject = (Module['_FPDFAnnot_AppendObject'] = createExportWrapper(\n      'FPDFAnnot_AppendObject',\n      2,\n    ));\n    var _FPDFAnnot_GetObjectCount = (Module['_FPDFAnnot_GetObjectCount'] = createExportWrapper(\n      'FPDFAnnot_GetObjectCount',\n      1,\n    ));\n    var _FPDFAnnot_GetObject = (Module['_FPDFAnnot_GetObject'] = createExportWrapper(\n      'FPDFAnnot_GetObject',\n      2,\n    ));\n    var _FPDFAnnot_RemoveObject = (Module['_FPDFAnnot_RemoveObject'] = createExportWrapper(\n      'FPDFAnnot_RemoveObject',\n      2,\n    ));\n    var _FPDFAnnot_SetColor = (Module['_FPDFAnnot_SetColor'] = createExportWrapper(\n      'FPDFAnnot_SetColor',\n      6,\n    ));\n    var _FPDFAnnot_GetColor = (Module['_FPDFAnnot_GetColor'] = createExportWrapper(\n      'FPDFAnnot_GetColor',\n      6,\n    ));\n    var _FPDFAnnot_HasAttachmentPoints = (Module['_FPDFAnnot_HasAttachmentPoints'] =\n      createExportWrapper('FPDFAnnot_HasAttachmentPoints', 1));\n    var _FPDFAnnot_SetAttachmentPoints = (Module['_FPDFAnnot_SetAttachmentPoints'] =\n      createExportWrapper('FPDFAnnot_SetAttachmentPoints', 3));\n    var _FPDFAnnot_AppendAttachmentPoints = (Module['_FPDFAnnot_AppendAttachmentPoints'] =\n      createExportWrapper('FPDFAnnot_AppendAttachmentPoints', 2));\n    var _FPDFAnnot_CountAttachmentPoints = (Module['_FPDFAnnot_CountAttachmentPoints'] =\n      createExportWrapper('FPDFAnnot_CountAttachmentPoints', 1));\n    var _FPDFAnnot_GetAttachmentPoints = (Module['_FPDFAnnot_GetAttachmentPoints'] =\n      createExportWrapper('FPDFAnnot_GetAttachmentPoints', 3));\n    var _FPDFAnnot_SetRect = (Module['_FPDFAnnot_SetRect'] = createExportWrapper(\n      'FPDFAnnot_SetRect',\n      2,\n    ));\n    var _FPDFAnnot_GetRect = (Module['_FPDFAnnot_GetRect'] = createExportWrapper(\n      'FPDFAnnot_GetRect',\n      2,\n    ));\n    var _FPDFAnnot_GetVertices = (Module['_FPDFAnnot_GetVertices'] = createExportWrapper(\n      'FPDFAnnot_GetVertices',\n      3,\n    ));\n    var _FPDFAnnot_GetInkListCount = (Module['_FPDFAnnot_GetInkListCount'] = createExportWrapper(\n      'FPDFAnnot_GetInkListCount',\n      1,\n    ));\n    var _FPDFAnnot_GetInkListPath = (Module['_FPDFAnnot_GetInkListPath'] = createExportWrapper(\n      'FPDFAnnot_GetInkListPath',\n      4,\n    ));\n    var _FPDFAnnot_GetLine = (Module['_FPDFAnnot_GetLine'] = createExportWrapper(\n      'FPDFAnnot_GetLine',\n      3,\n    ));\n    var _FPDFAnnot_SetBorder = (Module['_FPDFAnnot_SetBorder'] = createExportWrapper(\n      'FPDFAnnot_SetBorder',\n      4,\n    ));\n    var _FPDFAnnot_GetBorder = (Module['_FPDFAnnot_GetBorder'] = createExportWrapper(\n      'FPDFAnnot_GetBorder',\n      4,\n    ));\n    var _FPDFAnnot_HasKey = (Module['_FPDFAnnot_HasKey'] = createExportWrapper(\n      'FPDFAnnot_HasKey',\n      2,\n    ));\n    var _FPDFAnnot_GetValueType = (Module['_FPDFAnnot_GetValueType'] = createExportWrapper(\n      'FPDFAnnot_GetValueType',\n      2,\n    ));\n    var _FPDFAnnot_SetStringValue = (Module['_FPDFAnnot_SetStringValue'] = createExportWrapper(\n      'FPDFAnnot_SetStringValue',\n      3,\n    ));\n    var _FPDFAnnot_GetStringValue = (Module['_FPDFAnnot_GetStringValue'] = createExportWrapper(\n      'FPDFAnnot_GetStringValue',\n      4,\n    ));\n    var _FPDFAnnot_GetNumberValue = (Module['_FPDFAnnot_GetNumberValue'] = createExportWrapper(\n      'FPDFAnnot_GetNumberValue',\n      3,\n    ));\n    var _FPDFAnnot_SetAP = (Module['_FPDFAnnot_SetAP'] = createExportWrapper('FPDFAnnot_SetAP', 3));\n    var _FPDFAnnot_GetAP = (Module['_FPDFAnnot_GetAP'] = createExportWrapper('FPDFAnnot_GetAP', 4));\n    var _FPDFAnnot_GetLinkedAnnot = (Module['_FPDFAnnot_GetLinkedAnnot'] = createExportWrapper(\n      'FPDFAnnot_GetLinkedAnnot',\n      2,\n    ));\n    var _FPDFAnnot_GetFlags = (Module['_FPDFAnnot_GetFlags'] = createExportWrapper(\n      'FPDFAnnot_GetFlags',\n      1,\n    ));\n    var _FPDFAnnot_SetFlags = (Module['_FPDFAnnot_SetFlags'] = createExportWrapper(\n      'FPDFAnnot_SetFlags',\n      2,\n    ));\n    var _FPDFAnnot_GetFormFieldFlags = (Module['_FPDFAnnot_GetFormFieldFlags'] =\n      createExportWrapper('FPDFAnnot_GetFormFieldFlags', 2));\n    var _FPDFAnnot_SetFormFieldFlags = (Module['_FPDFAnnot_SetFormFieldFlags'] =\n      createExportWrapper('FPDFAnnot_SetFormFieldFlags', 3));\n    var _FPDFAnnot_GetFormFieldAtPoint = (Module['_FPDFAnnot_GetFormFieldAtPoint'] =\n      createExportWrapper('FPDFAnnot_GetFormFieldAtPoint', 3));\n    var _FPDFAnnot_GetFormFieldName = (Module['_FPDFAnnot_GetFormFieldName'] = createExportWrapper(\n      'FPDFAnnot_GetFormFieldName',\n      4,\n    ));\n    var _FPDFAnnot_GetFormFieldType = (Module['_FPDFAnnot_GetFormFieldType'] = createExportWrapper(\n      'FPDFAnnot_GetFormFieldType',\n      2,\n    ));\n    var _FPDFAnnot_GetFormAdditionalActionJavaScript = (Module[\n      '_FPDFAnnot_GetFormAdditionalActionJavaScript'\n    ] = createExportWrapper('FPDFAnnot_GetFormAdditionalActionJavaScript', 5));\n    var _FPDFAnnot_GetFormFieldAlternateName = (Module['_FPDFAnnot_GetFormFieldAlternateName'] =\n      createExportWrapper('FPDFAnnot_GetFormFieldAlternateName', 4));\n    var _FPDFAnnot_GetFormFieldValue = (Module['_FPDFAnnot_GetFormFieldValue'] =\n      createExportWrapper('FPDFAnnot_GetFormFieldValue', 4));\n    var _FPDFAnnot_GetOptionCount = (Module['_FPDFAnnot_GetOptionCount'] = createExportWrapper(\n      'FPDFAnnot_GetOptionCount',\n      2,\n    ));\n    var _FPDFAnnot_GetOptionLabel = (Module['_FPDFAnnot_GetOptionLabel'] = createExportWrapper(\n      'FPDFAnnot_GetOptionLabel',\n      5,\n    ));\n    var _FPDFAnnot_IsOptionSelected = (Module['_FPDFAnnot_IsOptionSelected'] = createExportWrapper(\n      'FPDFAnnot_IsOptionSelected',\n      3,\n    ));\n    var _FPDFAnnot_GetFontSize = (Module['_FPDFAnnot_GetFontSize'] = createExportWrapper(\n      'FPDFAnnot_GetFontSize',\n      3,\n    ));\n    var _FPDFAnnot_SetFontColor = (Module['_FPDFAnnot_SetFontColor'] = createExportWrapper(\n      'FPDFAnnot_SetFontColor',\n      5,\n    ));\n    var _FPDFAnnot_GetFontColor = (Module['_FPDFAnnot_GetFontColor'] = createExportWrapper(\n      'FPDFAnnot_GetFontColor',\n      5,\n    ));\n    var _FPDFAnnot_IsChecked = (Module['_FPDFAnnot_IsChecked'] = createExportWrapper(\n      'FPDFAnnot_IsChecked',\n      2,\n    ));\n    var _FPDFAnnot_SetFocusableSubtypes = (Module['_FPDFAnnot_SetFocusableSubtypes'] =\n      createExportWrapper('FPDFAnnot_SetFocusableSubtypes', 3));\n    var _FPDFAnnot_GetFocusableSubtypesCount = (Module['_FPDFAnnot_GetFocusableSubtypesCount'] =\n      createExportWrapper('FPDFAnnot_GetFocusableSubtypesCount', 1));\n    var _FPDFAnnot_GetFocusableSubtypes = (Module['_FPDFAnnot_GetFocusableSubtypes'] =\n      createExportWrapper('FPDFAnnot_GetFocusableSubtypes', 3));\n    var _FPDFAnnot_GetLink = (Module['_FPDFAnnot_GetLink'] = createExportWrapper(\n      'FPDFAnnot_GetLink',\n      1,\n    ));\n    var _FPDFAnnot_GetFormControlCount = (Module['_FPDFAnnot_GetFormControlCount'] =\n      createExportWrapper('FPDFAnnot_GetFormControlCount', 2));\n    var _FPDFAnnot_GetFormControlIndex = (Module['_FPDFAnnot_GetFormControlIndex'] =\n      createExportWrapper('FPDFAnnot_GetFormControlIndex', 2));\n    var _FPDFAnnot_GetFormFieldExportValue = (Module['_FPDFAnnot_GetFormFieldExportValue'] =\n      createExportWrapper('FPDFAnnot_GetFormFieldExportValue', 4));\n    var _FPDFAnnot_SetURI = (Module['_FPDFAnnot_SetURI'] = createExportWrapper(\n      'FPDFAnnot_SetURI',\n      2,\n    ));\n    var _FPDFAnnot_GetFileAttachment = (Module['_FPDFAnnot_GetFileAttachment'] =\n      createExportWrapper('FPDFAnnot_GetFileAttachment', 1));\n    var _FPDFAnnot_AddFileAttachment = (Module['_FPDFAnnot_AddFileAttachment'] =\n      createExportWrapper('FPDFAnnot_AddFileAttachment', 2));\n    var _EPDFAnnot_SetColor = (Module['_EPDFAnnot_SetColor'] = createExportWrapper(\n      'EPDFAnnot_SetColor',\n      5,\n    ));\n    var _EPDFAnnot_GetColor = (Module['_EPDFAnnot_GetColor'] = createExportWrapper(\n      'EPDFAnnot_GetColor',\n      5,\n    ));\n    var _EPDFAnnot_ClearColor = (Module['_EPDFAnnot_ClearColor'] = createExportWrapper(\n      'EPDFAnnot_ClearColor',\n      2,\n    ));\n    var _EPDFAnnot_SetOpacity = (Module['_EPDFAnnot_SetOpacity'] = createExportWrapper(\n      'EPDFAnnot_SetOpacity',\n      2,\n    ));\n    var _EPDFAnnot_GetOpacity = (Module['_EPDFAnnot_GetOpacity'] = createExportWrapper(\n      'EPDFAnnot_GetOpacity',\n      2,\n    ));\n    var _EPDFAnnot_GetBorderEffect = (Module['_EPDFAnnot_GetBorderEffect'] = createExportWrapper(\n      'EPDFAnnot_GetBorderEffect',\n      2,\n    ));\n    var _EPDFAnnot_GetRectangleDifferences = (Module['_EPDFAnnot_GetRectangleDifferences'] =\n      createExportWrapper('EPDFAnnot_GetRectangleDifferences', 5));\n    var _EPDFAnnot_GetBorderDashPatternCount = (Module['_EPDFAnnot_GetBorderDashPatternCount'] =\n      createExportWrapper('EPDFAnnot_GetBorderDashPatternCount', 1));\n    var _EPDFAnnot_GetBorderDashPattern = (Module['_EPDFAnnot_GetBorderDashPattern'] =\n      createExportWrapper('EPDFAnnot_GetBorderDashPattern', 3));\n    var _EPDFAnnot_SetBorderDashPattern = (Module['_EPDFAnnot_SetBorderDashPattern'] =\n      createExportWrapper('EPDFAnnot_SetBorderDashPattern', 3));\n    var _EPDFAnnot_GetBorderStyle = (Module['_EPDFAnnot_GetBorderStyle'] = createExportWrapper(\n      'EPDFAnnot_GetBorderStyle',\n      2,\n    ));\n    var _EPDFAnnot_SetBorderStyle = (Module['_EPDFAnnot_SetBorderStyle'] = createExportWrapper(\n      'EPDFAnnot_SetBorderStyle',\n      3,\n    ));\n    var _EPDFAnnot_GenerateAppearance = (Module['_EPDFAnnot_GenerateAppearance'] =\n      createExportWrapper('EPDFAnnot_GenerateAppearance', 1));\n    var _EPDFAnnot_GenerateAppearanceWithBlend = (Module['_EPDFAnnot_GenerateAppearanceWithBlend'] =\n      createExportWrapper('EPDFAnnot_GenerateAppearanceWithBlend', 2));\n    var _EPDFAnnot_GetBlendMode = (Module['_EPDFAnnot_GetBlendMode'] = createExportWrapper(\n      'EPDFAnnot_GetBlendMode',\n      1,\n    ));\n    var _EPDFAnnot_SetIntent = (Module['_EPDFAnnot_SetIntent'] = createExportWrapper(\n      'EPDFAnnot_SetIntent',\n      2,\n    ));\n    var _EPDFAnnot_GetIntent = (Module['_EPDFAnnot_GetIntent'] = createExportWrapper(\n      'EPDFAnnot_GetIntent',\n      3,\n    ));\n    var _EPDFAnnot_GetRichContent = (Module['_EPDFAnnot_GetRichContent'] = createExportWrapper(\n      'EPDFAnnot_GetRichContent',\n      3,\n    ));\n    var _EPDFAnnot_SetLineEndings = (Module['_EPDFAnnot_SetLineEndings'] = createExportWrapper(\n      'EPDFAnnot_SetLineEndings',\n      3,\n    ));\n    var _EPDFAnnot_GetLineEndings = (Module['_EPDFAnnot_GetLineEndings'] = createExportWrapper(\n      'EPDFAnnot_GetLineEndings',\n      3,\n    ));\n    var _EPDFAnnot_SetVertices = (Module['_EPDFAnnot_SetVertices'] = createExportWrapper(\n      'EPDFAnnot_SetVertices',\n      3,\n    ));\n    var _EPDFAnnot_SetLine = (Module['_EPDFAnnot_SetLine'] = createExportWrapper(\n      'EPDFAnnot_SetLine',\n      3,\n    ));\n    var _EPDFAnnot_SetDefaultAppearance = (Module['_EPDFAnnot_SetDefaultAppearance'] =\n      createExportWrapper('EPDFAnnot_SetDefaultAppearance', 6));\n    var _EPDFAnnot_GetDefaultAppearance = (Module['_EPDFAnnot_GetDefaultAppearance'] =\n      createExportWrapper('EPDFAnnot_GetDefaultAppearance', 6));\n    var _EPDFAnnot_SetTextAlignment = (Module['_EPDFAnnot_SetTextAlignment'] = createExportWrapper(\n      'EPDFAnnot_SetTextAlignment',\n      2,\n    ));\n    var _EPDFAnnot_GetTextAlignment = (Module['_EPDFAnnot_GetTextAlignment'] = createExportWrapper(\n      'EPDFAnnot_GetTextAlignment',\n      1,\n    ));\n    var _EPDFAnnot_SetVerticalAlignment = (Module['_EPDFAnnot_SetVerticalAlignment'] =\n      createExportWrapper('EPDFAnnot_SetVerticalAlignment', 2));\n    var _EPDFAnnot_GetVerticalAlignment = (Module['_EPDFAnnot_GetVerticalAlignment'] =\n      createExportWrapper('EPDFAnnot_GetVerticalAlignment', 1));\n    var _EPDFPage_GetAnnotByName = (Module['_EPDFPage_GetAnnotByName'] = createExportWrapper(\n      'EPDFPage_GetAnnotByName',\n      2,\n    ));\n    var _EPDFPage_RemoveAnnotByName = (Module['_EPDFPage_RemoveAnnotByName'] = createExportWrapper(\n      'EPDFPage_RemoveAnnotByName',\n      2,\n    ));\n    var _EPDFAnnot_SetLinkedAnnot = (Module['_EPDFAnnot_SetLinkedAnnot'] = createExportWrapper(\n      'EPDFAnnot_SetLinkedAnnot',\n      3,\n    ));\n    var _EPDFPage_GetAnnotCountRaw = (Module['_EPDFPage_GetAnnotCountRaw'] = createExportWrapper(\n      'EPDFPage_GetAnnotCountRaw',\n      2,\n    ));\n    var _EPDFPage_GetAnnotRaw = (Module['_EPDFPage_GetAnnotRaw'] = createExportWrapper(\n      'EPDFPage_GetAnnotRaw',\n      3,\n    ));\n    var _EPDFPage_RemoveAnnotRaw = (Module['_EPDFPage_RemoveAnnotRaw'] = createExportWrapper(\n      'EPDFPage_RemoveAnnotRaw',\n      3,\n    ));\n    var _EPDFAnnot_SetIcon = (Module['_EPDFAnnot_SetIcon'] = createExportWrapper(\n      'EPDFAnnot_SetIcon',\n      2,\n    ));\n    var _EPDFAnnot_GetIcon = (Module['_EPDFAnnot_GetIcon'] = createExportWrapper(\n      'EPDFAnnot_GetIcon',\n      1,\n    ));\n    var _EPDFAnnot_UpdateAppearanceToRect = (Module['_EPDFAnnot_UpdateAppearanceToRect'] =\n      createExportWrapper('EPDFAnnot_UpdateAppearanceToRect', 2));\n    var _EPDFPage_CreateAnnot = (Module['_EPDFPage_CreateAnnot'] = createExportWrapper(\n      'EPDFPage_CreateAnnot',\n      2,\n    ));\n    var _FPDFDoc_GetAttachmentCount = (Module['_FPDFDoc_GetAttachmentCount'] = createExportWrapper(\n      'FPDFDoc_GetAttachmentCount',\n      1,\n    ));\n    var _FPDFDoc_AddAttachment = (Module['_FPDFDoc_AddAttachment'] = createExportWrapper(\n      'FPDFDoc_AddAttachment',\n      2,\n    ));\n    var _FPDFDoc_GetAttachment = (Module['_FPDFDoc_GetAttachment'] = createExportWrapper(\n      'FPDFDoc_GetAttachment',\n      2,\n    ));\n    var _FPDFDoc_DeleteAttachment = (Module['_FPDFDoc_DeleteAttachment'] = createExportWrapper(\n      'FPDFDoc_DeleteAttachment',\n      2,\n    ));\n    var _FPDFAttachment_GetName = (Module['_FPDFAttachment_GetName'] = createExportWrapper(\n      'FPDFAttachment_GetName',\n      3,\n    ));\n    var _FPDFAttachment_HasKey = (Module['_FPDFAttachment_HasKey'] = createExportWrapper(\n      'FPDFAttachment_HasKey',\n      2,\n    ));\n    var _FPDFAttachment_GetValueType = (Module['_FPDFAttachment_GetValueType'] =\n      createExportWrapper('FPDFAttachment_GetValueType', 2));\n    var _FPDFAttachment_SetStringValue = (Module['_FPDFAttachment_SetStringValue'] =\n      createExportWrapper('FPDFAttachment_SetStringValue', 3));\n    var _FPDFAttachment_GetStringValue = (Module['_FPDFAttachment_GetStringValue'] =\n      createExportWrapper('FPDFAttachment_GetStringValue', 4));\n    var _FPDFAttachment_SetFile = (Module['_FPDFAttachment_SetFile'] = createExportWrapper(\n      'FPDFAttachment_SetFile',\n      4,\n    ));\n    var _FPDFAttachment_GetFile = (Module['_FPDFAttachment_GetFile'] = createExportWrapper(\n      'FPDFAttachment_GetFile',\n      4,\n    ));\n    var _FPDFAttachment_GetSubtype = (Module['_FPDFAttachment_GetSubtype'] = createExportWrapper(\n      'FPDFAttachment_GetSubtype',\n      3,\n    ));\n    var _EPDFAttachment_SetSubtype = (Module['_EPDFAttachment_SetSubtype'] = createExportWrapper(\n      'EPDFAttachment_SetSubtype',\n      2,\n    ));\n    var _EPDFAttachment_SetDescription = (Module['_EPDFAttachment_SetDescription'] =\n      createExportWrapper('EPDFAttachment_SetDescription', 2));\n    var _EPDFAttachment_GetDescription = (Module['_EPDFAttachment_GetDescription'] =\n      createExportWrapper('EPDFAttachment_GetDescription', 3));\n    var _EPDFAttachment_GetIntegerValue = (Module['_EPDFAttachment_GetIntegerValue'] =\n      createExportWrapper('EPDFAttachment_GetIntegerValue', 3));\n    var _FPDFCatalog_IsTagged = (Module['_FPDFCatalog_IsTagged'] = createExportWrapper(\n      'FPDFCatalog_IsTagged',\n      1,\n    ));\n    var _FPDFCatalog_SetLanguage = (Module['_FPDFCatalog_SetLanguage'] = createExportWrapper(\n      'FPDFCatalog_SetLanguage',\n      2,\n    ));\n    var _EPDFCatalog_GetLanguage = (Module['_EPDFCatalog_GetLanguage'] = createExportWrapper(\n      'EPDFCatalog_GetLanguage',\n      3,\n    ));\n    var _FPDFAvail_Create = (Module['_FPDFAvail_Create'] = createExportWrapper(\n      'FPDFAvail_Create',\n      2,\n    ));\n    var _FPDFAvail_Destroy = (Module['_FPDFAvail_Destroy'] = createExportWrapper(\n      'FPDFAvail_Destroy',\n      1,\n    ));\n    var _FPDFAvail_IsDocAvail = (Module['_FPDFAvail_IsDocAvail'] = createExportWrapper(\n      'FPDFAvail_IsDocAvail',\n      2,\n    ));\n    var _FPDFAvail_GetDocument = (Module['_FPDFAvail_GetDocument'] = createExportWrapper(\n      'FPDFAvail_GetDocument',\n      2,\n    ));\n    var _FPDFAvail_GetFirstPageNum = (Module['_FPDFAvail_GetFirstPageNum'] = createExportWrapper(\n      'FPDFAvail_GetFirstPageNum',\n      1,\n    ));\n    var _FPDFAvail_IsPageAvail = (Module['_FPDFAvail_IsPageAvail'] = createExportWrapper(\n      'FPDFAvail_IsPageAvail',\n      3,\n    ));\n    var _FPDFAvail_IsFormAvail = (Module['_FPDFAvail_IsFormAvail'] = createExportWrapper(\n      'FPDFAvail_IsFormAvail',\n      2,\n    ));\n    var _FPDFAvail_IsLinearized = (Module['_FPDFAvail_IsLinearized'] = createExportWrapper(\n      'FPDFAvail_IsLinearized',\n      1,\n    ));\n    var _FPDFBookmark_GetFirstChild = (Module['_FPDFBookmark_GetFirstChild'] = createExportWrapper(\n      'FPDFBookmark_GetFirstChild',\n      2,\n    ));\n    var _FPDFBookmark_GetNextSibling = (Module['_FPDFBookmark_GetNextSibling'] =\n      createExportWrapper('FPDFBookmark_GetNextSibling', 2));\n    var _FPDFBookmark_GetTitle = (Module['_FPDFBookmark_GetTitle'] = createExportWrapper(\n      'FPDFBookmark_GetTitle',\n      3,\n    ));\n    var _FPDFBookmark_GetCount = (Module['_FPDFBookmark_GetCount'] = createExportWrapper(\n      'FPDFBookmark_GetCount',\n      1,\n    ));\n    var _FPDFBookmark_Find = (Module['_FPDFBookmark_Find'] = createExportWrapper(\n      'FPDFBookmark_Find',\n      2,\n    ));\n    var _FPDFBookmark_GetDest = (Module['_FPDFBookmark_GetDest'] = createExportWrapper(\n      'FPDFBookmark_GetDest',\n      2,\n    ));\n    var _FPDFBookmark_GetAction = (Module['_FPDFBookmark_GetAction'] = createExportWrapper(\n      'FPDFBookmark_GetAction',\n      1,\n    ));\n    var _FPDFAction_GetType = (Module['_FPDFAction_GetType'] = createExportWrapper(\n      'FPDFAction_GetType',\n      1,\n    ));\n    var _FPDFAction_GetDest = (Module['_FPDFAction_GetDest'] = createExportWrapper(\n      'FPDFAction_GetDest',\n      2,\n    ));\n    var _FPDFAction_GetFilePath = (Module['_FPDFAction_GetFilePath'] = createExportWrapper(\n      'FPDFAction_GetFilePath',\n      3,\n    ));\n    var _FPDFAction_GetURIPath = (Module['_FPDFAction_GetURIPath'] = createExportWrapper(\n      'FPDFAction_GetURIPath',\n      4,\n    ));\n    var _FPDFDest_GetDestPageIndex = (Module['_FPDFDest_GetDestPageIndex'] = createExportWrapper(\n      'FPDFDest_GetDestPageIndex',\n      2,\n    ));\n    var _FPDFDest_GetView = (Module['_FPDFDest_GetView'] = createExportWrapper(\n      'FPDFDest_GetView',\n      3,\n    ));\n    var _FPDFDest_GetLocationInPage = (Module['_FPDFDest_GetLocationInPage'] = createExportWrapper(\n      'FPDFDest_GetLocationInPage',\n      7,\n    ));\n    var _FPDFLink_GetLinkAtPoint = (Module['_FPDFLink_GetLinkAtPoint'] = createExportWrapper(\n      'FPDFLink_GetLinkAtPoint',\n      3,\n    ));\n    var _FPDFLink_GetLinkZOrderAtPoint = (Module['_FPDFLink_GetLinkZOrderAtPoint'] =\n      createExportWrapper('FPDFLink_GetLinkZOrderAtPoint', 3));\n    var _FPDFLink_GetDest = (Module['_FPDFLink_GetDest'] = createExportWrapper(\n      'FPDFLink_GetDest',\n      2,\n    ));\n    var _FPDFLink_GetAction = (Module['_FPDFLink_GetAction'] = createExportWrapper(\n      'FPDFLink_GetAction',\n      1,\n    ));\n    var _FPDFLink_Enumerate = (Module['_FPDFLink_Enumerate'] = createExportWrapper(\n      'FPDFLink_Enumerate',\n      3,\n    ));\n    var _FPDFLink_GetAnnot = (Module['_FPDFLink_GetAnnot'] = createExportWrapper(\n      'FPDFLink_GetAnnot',\n      2,\n    ));\n    var _FPDFLink_GetAnnotRect = (Module['_FPDFLink_GetAnnotRect'] = createExportWrapper(\n      'FPDFLink_GetAnnotRect',\n      2,\n    ));\n    var _FPDFLink_CountQuadPoints = (Module['_FPDFLink_CountQuadPoints'] = createExportWrapper(\n      'FPDFLink_CountQuadPoints',\n      1,\n    ));\n    var _FPDFLink_GetQuadPoints = (Module['_FPDFLink_GetQuadPoints'] = createExportWrapper(\n      'FPDFLink_GetQuadPoints',\n      3,\n    ));\n    var _FPDF_GetPageAAction = (Module['_FPDF_GetPageAAction'] = createExportWrapper(\n      'FPDF_GetPageAAction',\n      2,\n    ));\n    var _FPDF_GetFileIdentifier = (Module['_FPDF_GetFileIdentifier'] = createExportWrapper(\n      'FPDF_GetFileIdentifier',\n      4,\n    ));\n    var _FPDF_GetMetaText = (Module['_FPDF_GetMetaText'] = createExportWrapper(\n      'FPDF_GetMetaText',\n      4,\n    ));\n    var _FPDF_GetPageLabel = (Module['_FPDF_GetPageLabel'] = createExportWrapper(\n      'FPDF_GetPageLabel',\n      4,\n    ));\n    var _EPDF_SetMetaText = (Module['_EPDF_SetMetaText'] = createExportWrapper(\n      'EPDF_SetMetaText',\n      3,\n    ));\n    var _EPDF_HasMetaText = (Module['_EPDF_HasMetaText'] = createExportWrapper(\n      'EPDF_HasMetaText',\n      2,\n    ));\n    var _EPDF_GetMetaTrapped = (Module['_EPDF_GetMetaTrapped'] = createExportWrapper(\n      'EPDF_GetMetaTrapped',\n      1,\n    ));\n    var _EPDF_SetMetaTrapped = (Module['_EPDF_SetMetaTrapped'] = createExportWrapper(\n      'EPDF_SetMetaTrapped',\n      2,\n    ));\n    var _EPDF_GetMetaKeyCount = (Module['_EPDF_GetMetaKeyCount'] = createExportWrapper(\n      'EPDF_GetMetaKeyCount',\n      2,\n    ));\n    var _EPDF_GetMetaKeyName = (Module['_EPDF_GetMetaKeyName'] = createExportWrapper(\n      'EPDF_GetMetaKeyName',\n      5,\n    ));\n    var _FPDFPageObj_NewImageObj = (Module['_FPDFPageObj_NewImageObj'] = createExportWrapper(\n      'FPDFPageObj_NewImageObj',\n      1,\n    ));\n    var _FPDFImageObj_LoadJpegFile = (Module['_FPDFImageObj_LoadJpegFile'] = createExportWrapper(\n      'FPDFImageObj_LoadJpegFile',\n      4,\n    ));\n    var _FPDFImageObj_LoadJpegFileInline = (Module['_FPDFImageObj_LoadJpegFileInline'] =\n      createExportWrapper('FPDFImageObj_LoadJpegFileInline', 4));\n    var _FPDFImageObj_SetMatrix = (Module['_FPDFImageObj_SetMatrix'] = createExportWrapper(\n      'FPDFImageObj_SetMatrix',\n      7,\n    ));\n    var _FPDFImageObj_SetBitmap = (Module['_FPDFImageObj_SetBitmap'] = createExportWrapper(\n      'FPDFImageObj_SetBitmap',\n      4,\n    ));\n    var _FPDFImageObj_GetBitmap = (Module['_FPDFImageObj_GetBitmap'] = createExportWrapper(\n      'FPDFImageObj_GetBitmap',\n      1,\n    ));\n    var _FPDFImageObj_GetRenderedBitmap = (Module['_FPDFImageObj_GetRenderedBitmap'] =\n      createExportWrapper('FPDFImageObj_GetRenderedBitmap', 3));\n    var _FPDFImageObj_GetImageDataDecoded = (Module['_FPDFImageObj_GetImageDataDecoded'] =\n      createExportWrapper('FPDFImageObj_GetImageDataDecoded', 3));\n    var _FPDFImageObj_GetImageDataRaw = (Module['_FPDFImageObj_GetImageDataRaw'] =\n      createExportWrapper('FPDFImageObj_GetImageDataRaw', 3));\n    var _FPDFImageObj_GetImageFilterCount = (Module['_FPDFImageObj_GetImageFilterCount'] =\n      createExportWrapper('FPDFImageObj_GetImageFilterCount', 1));\n    var _FPDFImageObj_GetImageFilter = (Module['_FPDFImageObj_GetImageFilter'] =\n      createExportWrapper('FPDFImageObj_GetImageFilter', 4));\n    var _FPDFImageObj_GetImageMetadata = (Module['_FPDFImageObj_GetImageMetadata'] =\n      createExportWrapper('FPDFImageObj_GetImageMetadata', 3));\n    var _FPDFImageObj_GetImagePixelSize = (Module['_FPDFImageObj_GetImagePixelSize'] =\n      createExportWrapper('FPDFImageObj_GetImagePixelSize', 3));\n    var _FPDFImageObj_GetIccProfileDataDecoded = (Module['_FPDFImageObj_GetIccProfileDataDecoded'] =\n      createExportWrapper('FPDFImageObj_GetIccProfileDataDecoded', 5));\n    var _FPDF_CreateNewDocument = (Module['_FPDF_CreateNewDocument'] = createExportWrapper(\n      'FPDF_CreateNewDocument',\n      0,\n    ));\n    var _FPDFPage_Delete = (Module['_FPDFPage_Delete'] = createExportWrapper('FPDFPage_Delete', 2));\n    var _FPDF_MovePages = (Module['_FPDF_MovePages'] = createExportWrapper('FPDF_MovePages', 4));\n    var _FPDFPage_New = (Module['_FPDFPage_New'] = createExportWrapper('FPDFPage_New', 4));\n    var _FPDFPage_GetRotation = (Module['_FPDFPage_GetRotation'] = createExportWrapper(\n      'FPDFPage_GetRotation',\n      1,\n    ));\n    var _FPDFPage_InsertObject = (Module['_FPDFPage_InsertObject'] = createExportWrapper(\n      'FPDFPage_InsertObject',\n      2,\n    ));\n    var _FPDFPage_InsertObjectAtIndex = (Module['_FPDFPage_InsertObjectAtIndex'] =\n      createExportWrapper('FPDFPage_InsertObjectAtIndex', 3));\n    var _FPDFPage_RemoveObject = (Module['_FPDFPage_RemoveObject'] = createExportWrapper(\n      'FPDFPage_RemoveObject',\n      2,\n    ));\n    var _FPDFPage_CountObjects = (Module['_FPDFPage_CountObjects'] = createExportWrapper(\n      'FPDFPage_CountObjects',\n      1,\n    ));\n    var _FPDFPage_GetObject = (Module['_FPDFPage_GetObject'] = createExportWrapper(\n      'FPDFPage_GetObject',\n      2,\n    ));\n    var _FPDFPage_HasTransparency = (Module['_FPDFPage_HasTransparency'] = createExportWrapper(\n      'FPDFPage_HasTransparency',\n      1,\n    ));\n    var _FPDFPageObj_Destroy = (Module['_FPDFPageObj_Destroy'] = createExportWrapper(\n      'FPDFPageObj_Destroy',\n      1,\n    ));\n    var _FPDFPageObj_GetMarkedContentID = (Module['_FPDFPageObj_GetMarkedContentID'] =\n      createExportWrapper('FPDFPageObj_GetMarkedContentID', 1));\n    var _FPDFPageObj_CountMarks = (Module['_FPDFPageObj_CountMarks'] = createExportWrapper(\n      'FPDFPageObj_CountMarks',\n      1,\n    ));\n    var _FPDFPageObj_GetMark = (Module['_FPDFPageObj_GetMark'] = createExportWrapper(\n      'FPDFPageObj_GetMark',\n      2,\n    ));\n    var _FPDFPageObj_AddMark = (Module['_FPDFPageObj_AddMark'] = createExportWrapper(\n      'FPDFPageObj_AddMark',\n      2,\n    ));\n    var _FPDFPageObj_RemoveMark = (Module['_FPDFPageObj_RemoveMark'] = createExportWrapper(\n      'FPDFPageObj_RemoveMark',\n      2,\n    ));\n    var _FPDFPageObjMark_GetName = (Module['_FPDFPageObjMark_GetName'] = createExportWrapper(\n      'FPDFPageObjMark_GetName',\n      4,\n    ));\n    var _FPDFPageObjMark_CountParams = (Module['_FPDFPageObjMark_CountParams'] =\n      createExportWrapper('FPDFPageObjMark_CountParams', 1));\n    var _FPDFPageObjMark_GetParamKey = (Module['_FPDFPageObjMark_GetParamKey'] =\n      createExportWrapper('FPDFPageObjMark_GetParamKey', 5));\n    var _FPDFPageObjMark_GetParamValueType = (Module['_FPDFPageObjMark_GetParamValueType'] =\n      createExportWrapper('FPDFPageObjMark_GetParamValueType', 2));\n    var _FPDFPageObjMark_GetParamIntValue = (Module['_FPDFPageObjMark_GetParamIntValue'] =\n      createExportWrapper('FPDFPageObjMark_GetParamIntValue', 3));\n    var _FPDFPageObjMark_GetParamStringValue = (Module['_FPDFPageObjMark_GetParamStringValue'] =\n      createExportWrapper('FPDFPageObjMark_GetParamStringValue', 5));\n    var _FPDFPageObjMark_GetParamBlobValue = (Module['_FPDFPageObjMark_GetParamBlobValue'] =\n      createExportWrapper('FPDFPageObjMark_GetParamBlobValue', 5));\n    var _FPDFPageObj_HasTransparency = (Module['_FPDFPageObj_HasTransparency'] =\n      createExportWrapper('FPDFPageObj_HasTransparency', 1));\n    var _FPDFPageObjMark_SetIntParam = (Module['_FPDFPageObjMark_SetIntParam'] =\n      createExportWrapper('FPDFPageObjMark_SetIntParam', 5));\n    var _FPDFPageObjMark_SetStringParam = (Module['_FPDFPageObjMark_SetStringParam'] =\n      createExportWrapper('FPDFPageObjMark_SetStringParam', 5));\n    var _FPDFPageObjMark_SetBlobParam = (Module['_FPDFPageObjMark_SetBlobParam'] =\n      createExportWrapper('FPDFPageObjMark_SetBlobParam', 6));\n    var _FPDFPageObjMark_RemoveParam = (Module['_FPDFPageObjMark_RemoveParam'] =\n      createExportWrapper('FPDFPageObjMark_RemoveParam', 3));\n    var _FPDFPageObj_GetType = (Module['_FPDFPageObj_GetType'] = createExportWrapper(\n      'FPDFPageObj_GetType',\n      1,\n    ));\n    var _FPDFPageObj_GetIsActive = (Module['_FPDFPageObj_GetIsActive'] = createExportWrapper(\n      'FPDFPageObj_GetIsActive',\n      2,\n    ));\n    var _FPDFPageObj_SetIsActive = (Module['_FPDFPageObj_SetIsActive'] = createExportWrapper(\n      'FPDFPageObj_SetIsActive',\n      2,\n    ));\n    var _FPDFPage_GenerateContent = (Module['_FPDFPage_GenerateContent'] = createExportWrapper(\n      'FPDFPage_GenerateContent',\n      1,\n    ));\n    var _FPDFPageObj_Transform = (Module['_FPDFPageObj_Transform'] = createExportWrapper(\n      'FPDFPageObj_Transform',\n      7,\n    ));\n    var _FPDFPageObj_TransformF = (Module['_FPDFPageObj_TransformF'] = createExportWrapper(\n      'FPDFPageObj_TransformF',\n      2,\n    ));\n    var _FPDFPageObj_GetMatrix = (Module['_FPDFPageObj_GetMatrix'] = createExportWrapper(\n      'FPDFPageObj_GetMatrix',\n      2,\n    ));\n    var _FPDFPageObj_SetMatrix = (Module['_FPDFPageObj_SetMatrix'] = createExportWrapper(\n      'FPDFPageObj_SetMatrix',\n      2,\n    ));\n    var _FPDFPageObj_SetBlendMode = (Module['_FPDFPageObj_SetBlendMode'] = createExportWrapper(\n      'FPDFPageObj_SetBlendMode',\n      2,\n    ));\n    var _FPDFPage_TransformAnnots = (Module['_FPDFPage_TransformAnnots'] = createExportWrapper(\n      'FPDFPage_TransformAnnots',\n      7,\n    ));\n    var _FPDFPage_SetRotation = (Module['_FPDFPage_SetRotation'] = createExportWrapper(\n      'FPDFPage_SetRotation',\n      2,\n    ));\n    var _FPDFPageObj_SetFillColor = (Module['_FPDFPageObj_SetFillColor'] = createExportWrapper(\n      'FPDFPageObj_SetFillColor',\n      5,\n    ));\n    var _FPDFPageObj_GetFillColor = (Module['_FPDFPageObj_GetFillColor'] = createExportWrapper(\n      'FPDFPageObj_GetFillColor',\n      5,\n    ));\n    var _FPDFPageObj_GetBounds = (Module['_FPDFPageObj_GetBounds'] = createExportWrapper(\n      'FPDFPageObj_GetBounds',\n      5,\n    ));\n    var _FPDFPageObj_GetRotatedBounds = (Module['_FPDFPageObj_GetRotatedBounds'] =\n      createExportWrapper('FPDFPageObj_GetRotatedBounds', 2));\n    var _FPDFPageObj_SetStrokeColor = (Module['_FPDFPageObj_SetStrokeColor'] = createExportWrapper(\n      'FPDFPageObj_SetStrokeColor',\n      5,\n    ));\n    var _FPDFPageObj_GetStrokeColor = (Module['_FPDFPageObj_GetStrokeColor'] = createExportWrapper(\n      'FPDFPageObj_GetStrokeColor',\n      5,\n    ));\n    var _FPDFPageObj_SetStrokeWidth = (Module['_FPDFPageObj_SetStrokeWidth'] = createExportWrapper(\n      'FPDFPageObj_SetStrokeWidth',\n      2,\n    ));\n    var _FPDFPageObj_GetStrokeWidth = (Module['_FPDFPageObj_GetStrokeWidth'] = createExportWrapper(\n      'FPDFPageObj_GetStrokeWidth',\n      2,\n    ));\n    var _FPDFPageObj_GetLineJoin = (Module['_FPDFPageObj_GetLineJoin'] = createExportWrapper(\n      'FPDFPageObj_GetLineJoin',\n      1,\n    ));\n    var _FPDFPageObj_SetLineJoin = (Module['_FPDFPageObj_SetLineJoin'] = createExportWrapper(\n      'FPDFPageObj_SetLineJoin',\n      2,\n    ));\n    var _FPDFPageObj_GetLineCap = (Module['_FPDFPageObj_GetLineCap'] = createExportWrapper(\n      'FPDFPageObj_GetLineCap',\n      1,\n    ));\n    var _FPDFPageObj_SetLineCap = (Module['_FPDFPageObj_SetLineCap'] = createExportWrapper(\n      'FPDFPageObj_SetLineCap',\n      2,\n    ));\n    var _FPDFPageObj_GetDashPhase = (Module['_FPDFPageObj_GetDashPhase'] = createExportWrapper(\n      'FPDFPageObj_GetDashPhase',\n      2,\n    ));\n    var _FPDFPageObj_SetDashPhase = (Module['_FPDFPageObj_SetDashPhase'] = createExportWrapper(\n      'FPDFPageObj_SetDashPhase',\n      2,\n    ));\n    var _FPDFPageObj_GetDashCount = (Module['_FPDFPageObj_GetDashCount'] = createExportWrapper(\n      'FPDFPageObj_GetDashCount',\n      1,\n    ));\n    var _FPDFPageObj_GetDashArray = (Module['_FPDFPageObj_GetDashArray'] = createExportWrapper(\n      'FPDFPageObj_GetDashArray',\n      3,\n    ));\n    var _FPDFPageObj_SetDashArray = (Module['_FPDFPageObj_SetDashArray'] = createExportWrapper(\n      'FPDFPageObj_SetDashArray',\n      4,\n    ));\n    var _FPDFFormObj_CountObjects = (Module['_FPDFFormObj_CountObjects'] = createExportWrapper(\n      'FPDFFormObj_CountObjects',\n      1,\n    ));\n    var _FPDFFormObj_GetObject = (Module['_FPDFFormObj_GetObject'] = createExportWrapper(\n      'FPDFFormObj_GetObject',\n      2,\n    ));\n    var _FPDFFormObj_RemoveObject = (Module['_FPDFFormObj_RemoveObject'] = createExportWrapper(\n      'FPDFFormObj_RemoveObject',\n      2,\n    ));\n    var _FPDFPageObj_CreateNewPath = (Module['_FPDFPageObj_CreateNewPath'] = createExportWrapper(\n      'FPDFPageObj_CreateNewPath',\n      2,\n    ));\n    var _FPDFPageObj_CreateNewRect = (Module['_FPDFPageObj_CreateNewRect'] = createExportWrapper(\n      'FPDFPageObj_CreateNewRect',\n      4,\n    ));\n    var _FPDFPath_CountSegments = (Module['_FPDFPath_CountSegments'] = createExportWrapper(\n      'FPDFPath_CountSegments',\n      1,\n    ));\n    var _FPDFPath_GetPathSegment = (Module['_FPDFPath_GetPathSegment'] = createExportWrapper(\n      'FPDFPath_GetPathSegment',\n      2,\n    ));\n    var _FPDFPath_MoveTo = (Module['_FPDFPath_MoveTo'] = createExportWrapper('FPDFPath_MoveTo', 3));\n    var _FPDFPath_LineTo = (Module['_FPDFPath_LineTo'] = createExportWrapper('FPDFPath_LineTo', 3));\n    var _FPDFPath_BezierTo = (Module['_FPDFPath_BezierTo'] = createExportWrapper(\n      'FPDFPath_BezierTo',\n      7,\n    ));\n    var _FPDFPath_Close = (Module['_FPDFPath_Close'] = createExportWrapper('FPDFPath_Close', 1));\n    var _FPDFPath_SetDrawMode = (Module['_FPDFPath_SetDrawMode'] = createExportWrapper(\n      'FPDFPath_SetDrawMode',\n      3,\n    ));\n    var _FPDFPath_GetDrawMode = (Module['_FPDFPath_GetDrawMode'] = createExportWrapper(\n      'FPDFPath_GetDrawMode',\n      3,\n    ));\n    var _FPDFPathSegment_GetPoint = (Module['_FPDFPathSegment_GetPoint'] = createExportWrapper(\n      'FPDFPathSegment_GetPoint',\n      3,\n    ));\n    var _FPDFPathSegment_GetType = (Module['_FPDFPathSegment_GetType'] = createExportWrapper(\n      'FPDFPathSegment_GetType',\n      1,\n    ));\n    var _FPDFPathSegment_GetClose = (Module['_FPDFPathSegment_GetClose'] = createExportWrapper(\n      'FPDFPathSegment_GetClose',\n      1,\n    ));\n    var _FPDFPageObj_NewTextObj = (Module['_FPDFPageObj_NewTextObj'] = createExportWrapper(\n      'FPDFPageObj_NewTextObj',\n      3,\n    ));\n    var _FPDFText_SetText = (Module['_FPDFText_SetText'] = createExportWrapper(\n      'FPDFText_SetText',\n      2,\n    ));\n    var _FPDFText_SetCharcodes = (Module['_FPDFText_SetCharcodes'] = createExportWrapper(\n      'FPDFText_SetCharcodes',\n      3,\n    ));\n    var _FPDFText_LoadFont = (Module['_FPDFText_LoadFont'] = createExportWrapper(\n      'FPDFText_LoadFont',\n      5,\n    ));\n    var _FPDFText_LoadStandardFont = (Module['_FPDFText_LoadStandardFont'] = createExportWrapper(\n      'FPDFText_LoadStandardFont',\n      2,\n    ));\n    var _FPDFText_LoadCidType2Font = (Module['_FPDFText_LoadCidType2Font'] = createExportWrapper(\n      'FPDFText_LoadCidType2Font',\n      6,\n    ));\n    var _FPDFTextObj_GetFontSize = (Module['_FPDFTextObj_GetFontSize'] = createExportWrapper(\n      'FPDFTextObj_GetFontSize',\n      2,\n    ));\n    var _FPDFTextObj_GetText = (Module['_FPDFTextObj_GetText'] = createExportWrapper(\n      'FPDFTextObj_GetText',\n      4,\n    ));\n    var _FPDFTextObj_GetRenderedBitmap = (Module['_FPDFTextObj_GetRenderedBitmap'] =\n      createExportWrapper('FPDFTextObj_GetRenderedBitmap', 4));\n    var _FPDFFont_Close = (Module['_FPDFFont_Close'] = createExportWrapper('FPDFFont_Close', 1));\n    var _FPDFPageObj_CreateTextObj = (Module['_FPDFPageObj_CreateTextObj'] = createExportWrapper(\n      'FPDFPageObj_CreateTextObj',\n      3,\n    ));\n    var _FPDFTextObj_GetTextRenderMode = (Module['_FPDFTextObj_GetTextRenderMode'] =\n      createExportWrapper('FPDFTextObj_GetTextRenderMode', 1));\n    var _FPDFTextObj_SetTextRenderMode = (Module['_FPDFTextObj_SetTextRenderMode'] =\n      createExportWrapper('FPDFTextObj_SetTextRenderMode', 2));\n    var _FPDFTextObj_GetFont = (Module['_FPDFTextObj_GetFont'] = createExportWrapper(\n      'FPDFTextObj_GetFont',\n      1,\n    ));\n    var _FPDFFont_GetBaseFontName = (Module['_FPDFFont_GetBaseFontName'] = createExportWrapper(\n      'FPDFFont_GetBaseFontName',\n      3,\n    ));\n    var _FPDFFont_GetFamilyName = (Module['_FPDFFont_GetFamilyName'] = createExportWrapper(\n      'FPDFFont_GetFamilyName',\n      3,\n    ));\n    var _FPDFFont_GetFontData = (Module['_FPDFFont_GetFontData'] = createExportWrapper(\n      'FPDFFont_GetFontData',\n      4,\n    ));\n    var _FPDFFont_GetIsEmbedded = (Module['_FPDFFont_GetIsEmbedded'] = createExportWrapper(\n      'FPDFFont_GetIsEmbedded',\n      1,\n    ));\n    var _FPDFFont_GetFlags = (Module['_FPDFFont_GetFlags'] = createExportWrapper(\n      'FPDFFont_GetFlags',\n      1,\n    ));\n    var _FPDFFont_GetWeight = (Module['_FPDFFont_GetWeight'] = createExportWrapper(\n      'FPDFFont_GetWeight',\n      1,\n    ));\n    var _FPDFFont_GetItalicAngle = (Module['_FPDFFont_GetItalicAngle'] = createExportWrapper(\n      'FPDFFont_GetItalicAngle',\n      2,\n    ));\n    var _FPDFFont_GetAscent = (Module['_FPDFFont_GetAscent'] = createExportWrapper(\n      'FPDFFont_GetAscent',\n      3,\n    ));\n    var _FPDFFont_GetDescent = (Module['_FPDFFont_GetDescent'] = createExportWrapper(\n      'FPDFFont_GetDescent',\n      3,\n    ));\n    var _FPDFFont_GetGlyphWidth = (Module['_FPDFFont_GetGlyphWidth'] = createExportWrapper(\n      'FPDFFont_GetGlyphWidth',\n      4,\n    ));\n    var _FPDFFont_GetGlyphPath = (Module['_FPDFFont_GetGlyphPath'] = createExportWrapper(\n      'FPDFFont_GetGlyphPath',\n      3,\n    ));\n    var _FPDFGlyphPath_CountGlyphSegments = (Module['_FPDFGlyphPath_CountGlyphSegments'] =\n      createExportWrapper('FPDFGlyphPath_CountGlyphSegments', 1));\n    var _FPDFGlyphPath_GetGlyphPathSegment = (Module['_FPDFGlyphPath_GetGlyphPathSegment'] =\n      createExportWrapper('FPDFGlyphPath_GetGlyphPathSegment', 2));\n    var _EPDFText_RedactInRect = (Module['_EPDFText_RedactInRect'] = createExportWrapper(\n      'EPDFText_RedactInRect',\n      4,\n    ));\n    var _EPDFText_RedactInQuads = (Module['_EPDFText_RedactInQuads'] = createExportWrapper(\n      'EPDFText_RedactInQuads',\n      5,\n    ));\n    var _FPDFDoc_GetPageMode = (Module['_FPDFDoc_GetPageMode'] = createExportWrapper(\n      'FPDFDoc_GetPageMode',\n      1,\n    ));\n    var _FPDFPage_Flatten = (Module['_FPDFPage_Flatten'] = createExportWrapper(\n      'FPDFPage_Flatten',\n      2,\n    ));\n    var _FPDFPage_HasFormFieldAtPoint = (Module['_FPDFPage_HasFormFieldAtPoint'] =\n      createExportWrapper('FPDFPage_HasFormFieldAtPoint', 4));\n    var _FPDFPage_FormFieldZOrderAtPoint = (Module['_FPDFPage_FormFieldZOrderAtPoint'] =\n      createExportWrapper('FPDFPage_FormFieldZOrderAtPoint', 4));\n    var _malloc = (Module['_malloc'] = createExportWrapper('malloc', 1));\n    var _free = (Module['_free'] = createExportWrapper('free', 1));\n    var _FORM_OnMouseMove = (Module['_FORM_OnMouseMove'] = createExportWrapper(\n      'FORM_OnMouseMove',\n      5,\n    ));\n    var _FORM_OnMouseWheel = (Module['_FORM_OnMouseWheel'] = createExportWrapper(\n      'FORM_OnMouseWheel',\n      6,\n    ));\n    var _FORM_OnFocus = (Module['_FORM_OnFocus'] = createExportWrapper('FORM_OnFocus', 5));\n    var _FORM_OnLButtonDown = (Module['_FORM_OnLButtonDown'] = createExportWrapper(\n      'FORM_OnLButtonDown',\n      5,\n    ));\n    var _FORM_OnLButtonUp = (Module['_FORM_OnLButtonUp'] = createExportWrapper(\n      'FORM_OnLButtonUp',\n      5,\n    ));\n    var _FORM_OnLButtonDoubleClick = (Module['_FORM_OnLButtonDoubleClick'] = createExportWrapper(\n      'FORM_OnLButtonDoubleClick',\n      5,\n    ));\n    var _FORM_OnRButtonDown = (Module['_FORM_OnRButtonDown'] = createExportWrapper(\n      'FORM_OnRButtonDown',\n      5,\n    ));\n    var _FORM_OnRButtonUp = (Module['_FORM_OnRButtonUp'] = createExportWrapper(\n      'FORM_OnRButtonUp',\n      5,\n    ));\n    var _FORM_OnKeyDown = (Module['_FORM_OnKeyDown'] = createExportWrapper('FORM_OnKeyDown', 4));\n    var _FORM_OnKeyUp = (Module['_FORM_OnKeyUp'] = createExportWrapper('FORM_OnKeyUp', 4));\n    var _FORM_OnChar = (Module['_FORM_OnChar'] = createExportWrapper('FORM_OnChar', 4));\n    var _FORM_GetFocusedText = (Module['_FORM_GetFocusedText'] = createExportWrapper(\n      'FORM_GetFocusedText',\n      4,\n    ));\n    var _FORM_GetSelectedText = (Module['_FORM_GetSelectedText'] = createExportWrapper(\n      'FORM_GetSelectedText',\n      4,\n    ));\n    var _FORM_ReplaceAndKeepSelection = (Module['_FORM_ReplaceAndKeepSelection'] =\n      createExportWrapper('FORM_ReplaceAndKeepSelection', 3));\n    var _FORM_ReplaceSelection = (Module['_FORM_ReplaceSelection'] = createExportWrapper(\n      'FORM_ReplaceSelection',\n      3,\n    ));\n    var _FORM_SelectAllText = (Module['_FORM_SelectAllText'] = createExportWrapper(\n      'FORM_SelectAllText',\n      2,\n    ));\n    var _FORM_CanUndo = (Module['_FORM_CanUndo'] = createExportWrapper('FORM_CanUndo', 2));\n    var _FORM_CanRedo = (Module['_FORM_CanRedo'] = createExportWrapper('FORM_CanRedo', 2));\n    var _FORM_Undo = (Module['_FORM_Undo'] = createExportWrapper('FORM_Undo', 2));\n    var _FORM_Redo = (Module['_FORM_Redo'] = createExportWrapper('FORM_Redo', 2));\n    var _FORM_ForceToKillFocus = (Module['_FORM_ForceToKillFocus'] = createExportWrapper(\n      'FORM_ForceToKillFocus',\n      1,\n    ));\n    var _FORM_GetFocusedAnnot = (Module['_FORM_GetFocusedAnnot'] = createExportWrapper(\n      'FORM_GetFocusedAnnot',\n      3,\n    ));\n    var _FORM_SetFocusedAnnot = (Module['_FORM_SetFocusedAnnot'] = createExportWrapper(\n      'FORM_SetFocusedAnnot',\n      2,\n    ));\n    var _FPDF_FFLDraw = (Module['_FPDF_FFLDraw'] = createExportWrapper('FPDF_FFLDraw', 9));\n    var _FPDF_SetFormFieldHighlightColor = (Module['_FPDF_SetFormFieldHighlightColor'] =\n      createExportWrapper('FPDF_SetFormFieldHighlightColor', 3));\n    var _FPDF_SetFormFieldHighlightAlpha = (Module['_FPDF_SetFormFieldHighlightAlpha'] =\n      createExportWrapper('FPDF_SetFormFieldHighlightAlpha', 2));\n    var _FPDF_RemoveFormFieldHighlight = (Module['_FPDF_RemoveFormFieldHighlight'] =\n      createExportWrapper('FPDF_RemoveFormFieldHighlight', 1));\n    var _FORM_OnAfterLoadPage = (Module['_FORM_OnAfterLoadPage'] = createExportWrapper(\n      'FORM_OnAfterLoadPage',\n      2,\n    ));\n    var _FORM_OnBeforeClosePage = (Module['_FORM_OnBeforeClosePage'] = createExportWrapper(\n      'FORM_OnBeforeClosePage',\n      2,\n    ));\n    var _FORM_DoDocumentJSAction = (Module['_FORM_DoDocumentJSAction'] = createExportWrapper(\n      'FORM_DoDocumentJSAction',\n      1,\n    ));\n    var _FORM_DoDocumentOpenAction = (Module['_FORM_DoDocumentOpenAction'] = createExportWrapper(\n      'FORM_DoDocumentOpenAction',\n      1,\n    ));\n    var _FORM_DoDocumentAAction = (Module['_FORM_DoDocumentAAction'] = createExportWrapper(\n      'FORM_DoDocumentAAction',\n      2,\n    ));\n    var _FORM_DoPageAAction = (Module['_FORM_DoPageAAction'] = createExportWrapper(\n      'FORM_DoPageAAction',\n      3,\n    ));\n    var _FORM_SetIndexSelected = (Module['_FORM_SetIndexSelected'] = createExportWrapper(\n      'FORM_SetIndexSelected',\n      4,\n    ));\n    var _FORM_IsIndexSelected = (Module['_FORM_IsIndexSelected'] = createExportWrapper(\n      'FORM_IsIndexSelected',\n      3,\n    ));\n    var _FPDFDoc_GetJavaScriptActionCount = (Module['_FPDFDoc_GetJavaScriptActionCount'] =\n      createExportWrapper('FPDFDoc_GetJavaScriptActionCount', 1));\n    var _FPDFDoc_GetJavaScriptAction = (Module['_FPDFDoc_GetJavaScriptAction'] =\n      createExportWrapper('FPDFDoc_GetJavaScriptAction', 2));\n    var _FPDFDoc_CloseJavaScriptAction = (Module['_FPDFDoc_CloseJavaScriptAction'] =\n      createExportWrapper('FPDFDoc_CloseJavaScriptAction', 1));\n    var _FPDFJavaScriptAction_GetName = (Module['_FPDFJavaScriptAction_GetName'] =\n      createExportWrapper('FPDFJavaScriptAction_GetName', 3));\n    var _FPDFJavaScriptAction_GetScript = (Module['_FPDFJavaScriptAction_GetScript'] =\n      createExportWrapper('FPDFJavaScriptAction_GetScript', 3));\n    var _FPDF_ImportPagesByIndex = (Module['_FPDF_ImportPagesByIndex'] = createExportWrapper(\n      'FPDF_ImportPagesByIndex',\n      5,\n    ));\n    var _FPDF_ImportPages = (Module['_FPDF_ImportPages'] = createExportWrapper(\n      'FPDF_ImportPages',\n      4,\n    ));\n    var _FPDF_ImportNPagesToOne = (Module['_FPDF_ImportNPagesToOne'] = createExportWrapper(\n      'FPDF_ImportNPagesToOne',\n      5,\n    ));\n    var _FPDF_NewXObjectFromPage = (Module['_FPDF_NewXObjectFromPage'] = createExportWrapper(\n      'FPDF_NewXObjectFromPage',\n      3,\n    ));\n    var _FPDF_CloseXObject = (Module['_FPDF_CloseXObject'] = createExportWrapper(\n      'FPDF_CloseXObject',\n      1,\n    ));\n    var _FPDF_NewFormObjectFromXObject = (Module['_FPDF_NewFormObjectFromXObject'] =\n      createExportWrapper('FPDF_NewFormObjectFromXObject', 1));\n    var _FPDF_CopyViewerPreferences = (Module['_FPDF_CopyViewerPreferences'] = createExportWrapper(\n      'FPDF_CopyViewerPreferences',\n      2,\n    ));\n    var _FPDF_RenderPageBitmapWithColorScheme_Start = (Module[\n      '_FPDF_RenderPageBitmapWithColorScheme_Start'\n    ] = createExportWrapper('FPDF_RenderPageBitmapWithColorScheme_Start', 10));\n    var _FPDF_RenderPageBitmap_Start = (Module['_FPDF_RenderPageBitmap_Start'] =\n      createExportWrapper('FPDF_RenderPageBitmap_Start', 9));\n    var _FPDF_RenderPage_Continue = (Module['_FPDF_RenderPage_Continue'] = createExportWrapper(\n      'FPDF_RenderPage_Continue',\n      2,\n    ));\n    var _FPDF_RenderPage_Close = (Module['_FPDF_RenderPage_Close'] = createExportWrapper(\n      'FPDF_RenderPage_Close',\n      1,\n    ));\n    var _FPDF_SaveWithVersion = (Module['_FPDF_SaveWithVersion'] = createExportWrapper(\n      'FPDF_SaveWithVersion',\n      4,\n    ));\n    var _FPDFText_GetCharIndexFromTextIndex = (Module['_FPDFText_GetCharIndexFromTextIndex'] =\n      createExportWrapper('FPDFText_GetCharIndexFromTextIndex', 2));\n    var _FPDFText_GetTextIndexFromCharIndex = (Module['_FPDFText_GetTextIndexFromCharIndex'] =\n      createExportWrapper('FPDFText_GetTextIndexFromCharIndex', 2));\n    var _FPDF_GetSignatureCount = (Module['_FPDF_GetSignatureCount'] = createExportWrapper(\n      'FPDF_GetSignatureCount',\n      1,\n    ));\n    var _FPDF_GetSignatureObject = (Module['_FPDF_GetSignatureObject'] = createExportWrapper(\n      'FPDF_GetSignatureObject',\n      2,\n    ));\n    var _FPDFSignatureObj_GetContents = (Module['_FPDFSignatureObj_GetContents'] =\n      createExportWrapper('FPDFSignatureObj_GetContents', 3));\n    var _FPDFSignatureObj_GetByteRange = (Module['_FPDFSignatureObj_GetByteRange'] =\n      createExportWrapper('FPDFSignatureObj_GetByteRange', 3));\n    var _FPDFSignatureObj_GetSubFilter = (Module['_FPDFSignatureObj_GetSubFilter'] =\n      createExportWrapper('FPDFSignatureObj_GetSubFilter', 3));\n    var _FPDFSignatureObj_GetReason = (Module['_FPDFSignatureObj_GetReason'] = createExportWrapper(\n      'FPDFSignatureObj_GetReason',\n      3,\n    ));\n    var _FPDFSignatureObj_GetTime = (Module['_FPDFSignatureObj_GetTime'] = createExportWrapper(\n      'FPDFSignatureObj_GetTime',\n      3,\n    ));\n    var _FPDFSignatureObj_GetDocMDPPermission = (Module['_FPDFSignatureObj_GetDocMDPPermission'] =\n      createExportWrapper('FPDFSignatureObj_GetDocMDPPermission', 1));\n    var _FPDF_StructTree_GetForPage = (Module['_FPDF_StructTree_GetForPage'] = createExportWrapper(\n      'FPDF_StructTree_GetForPage',\n      1,\n    ));\n    var _FPDF_StructTree_Close = (Module['_FPDF_StructTree_Close'] = createExportWrapper(\n      'FPDF_StructTree_Close',\n      1,\n    ));\n    var _FPDF_StructTree_CountChildren = (Module['_FPDF_StructTree_CountChildren'] =\n      createExportWrapper('FPDF_StructTree_CountChildren', 1));\n    var _FPDF_StructTree_GetChildAtIndex = (Module['_FPDF_StructTree_GetChildAtIndex'] =\n      createExportWrapper('FPDF_StructTree_GetChildAtIndex', 2));\n    var _FPDF_StructElement_GetAltText = (Module['_FPDF_StructElement_GetAltText'] =\n      createExportWrapper('FPDF_StructElement_GetAltText', 3));\n    var _FPDF_StructElement_GetActualText = (Module['_FPDF_StructElement_GetActualText'] =\n      createExportWrapper('FPDF_StructElement_GetActualText', 3));\n    var _FPDF_StructElement_GetID = (Module['_FPDF_StructElement_GetID'] = createExportWrapper(\n      'FPDF_StructElement_GetID',\n      3,\n    ));\n    var _FPDF_StructElement_GetLang = (Module['_FPDF_StructElement_GetLang'] = createExportWrapper(\n      'FPDF_StructElement_GetLang',\n      3,\n    ));\n    var _FPDF_StructElement_GetAttributeCount = (Module['_FPDF_StructElement_GetAttributeCount'] =\n      createExportWrapper('FPDF_StructElement_GetAttributeCount', 1));\n    var _FPDF_StructElement_GetAttributeAtIndex = (Module[\n      '_FPDF_StructElement_GetAttributeAtIndex'\n    ] = createExportWrapper('FPDF_StructElement_GetAttributeAtIndex', 2));\n    var _FPDF_StructElement_GetStringAttribute = (Module['_FPDF_StructElement_GetStringAttribute'] =\n      createExportWrapper('FPDF_StructElement_GetStringAttribute', 4));\n    var _FPDF_StructElement_GetMarkedContentID = (Module['_FPDF_StructElement_GetMarkedContentID'] =\n      createExportWrapper('FPDF_StructElement_GetMarkedContentID', 1));\n    var _FPDF_StructElement_GetType = (Module['_FPDF_StructElement_GetType'] = createExportWrapper(\n      'FPDF_StructElement_GetType',\n      3,\n    ));\n    var _FPDF_StructElement_GetObjType = (Module['_FPDF_StructElement_GetObjType'] =\n      createExportWrapper('FPDF_StructElement_GetObjType', 3));\n    var _FPDF_StructElement_GetTitle = (Module['_FPDF_StructElement_GetTitle'] =\n      createExportWrapper('FPDF_StructElement_GetTitle', 3));\n    var _FPDF_StructElement_CountChildren = (Module['_FPDF_StructElement_CountChildren'] =\n      createExportWrapper('FPDF_StructElement_CountChildren', 1));\n    var _FPDF_StructElement_GetChildAtIndex = (Module['_FPDF_StructElement_GetChildAtIndex'] =\n      createExportWrapper('FPDF_StructElement_GetChildAtIndex', 2));\n    var _FPDF_StructElement_GetChildMarkedContentID = (Module[\n      '_FPDF_StructElement_GetChildMarkedContentID'\n    ] = createExportWrapper('FPDF_StructElement_GetChildMarkedContentID', 2));\n    var _FPDF_StructElement_GetParent = (Module['_FPDF_StructElement_GetParent'] =\n      createExportWrapper('FPDF_StructElement_GetParent', 1));\n    var _FPDF_StructElement_Attr_GetCount = (Module['_FPDF_StructElement_Attr_GetCount'] =\n      createExportWrapper('FPDF_StructElement_Attr_GetCount', 1));\n    var _FPDF_StructElement_Attr_GetName = (Module['_FPDF_StructElement_Attr_GetName'] =\n      createExportWrapper('FPDF_StructElement_Attr_GetName', 5));\n    var _FPDF_StructElement_Attr_GetValue = (Module['_FPDF_StructElement_Attr_GetValue'] =\n      createExportWrapper('FPDF_StructElement_Attr_GetValue', 2));\n    var _FPDF_StructElement_Attr_GetType = (Module['_FPDF_StructElement_Attr_GetType'] =\n      createExportWrapper('FPDF_StructElement_Attr_GetType', 1));\n    var _FPDF_StructElement_Attr_GetBooleanValue = (Module[\n      '_FPDF_StructElement_Attr_GetBooleanValue'\n    ] = createExportWrapper('FPDF_StructElement_Attr_GetBooleanValue', 2));\n    var _FPDF_StructElement_Attr_GetNumberValue = (Module[\n      '_FPDF_StructElement_Attr_GetNumberValue'\n    ] = createExportWrapper('FPDF_StructElement_Attr_GetNumberValue', 2));\n    var _FPDF_StructElement_Attr_GetStringValue = (Module[\n      '_FPDF_StructElement_Attr_GetStringValue'\n    ] = createExportWrapper('FPDF_StructElement_Attr_GetStringValue', 4));\n    var _FPDF_StructElement_Attr_GetBlobValue = (Module['_FPDF_StructElement_Attr_GetBlobValue'] =\n      createExportWrapper('FPDF_StructElement_Attr_GetBlobValue', 4));\n    var _FPDF_StructElement_Attr_CountChildren = (Module['_FPDF_StructElement_Attr_CountChildren'] =\n      createExportWrapper('FPDF_StructElement_Attr_CountChildren', 1));\n    var _FPDF_StructElement_Attr_GetChildAtIndex = (Module[\n      '_FPDF_StructElement_Attr_GetChildAtIndex'\n    ] = createExportWrapper('FPDF_StructElement_Attr_GetChildAtIndex', 2));\n    var _FPDF_StructElement_GetMarkedContentIdCount = (Module[\n      '_FPDF_StructElement_GetMarkedContentIdCount'\n    ] = createExportWrapper('FPDF_StructElement_GetMarkedContentIdCount', 1));\n    var _FPDF_StructElement_GetMarkedContentIdAtIndex = (Module[\n      '_FPDF_StructElement_GetMarkedContentIdAtIndex'\n    ] = createExportWrapper('FPDF_StructElement_GetMarkedContentIdAtIndex', 2));\n    var _FPDF_AddInstalledFont = (Module['_FPDF_AddInstalledFont'] = createExportWrapper(\n      'FPDF_AddInstalledFont',\n      3,\n    ));\n    var _FPDF_SetSystemFontInfo = (Module['_FPDF_SetSystemFontInfo'] = createExportWrapper(\n      'FPDF_SetSystemFontInfo',\n      1,\n    ));\n    var _FPDF_GetDefaultTTFMap = (Module['_FPDF_GetDefaultTTFMap'] = createExportWrapper(\n      'FPDF_GetDefaultTTFMap',\n      0,\n    ));\n    var _FPDF_GetDefaultTTFMapCount = (Module['_FPDF_GetDefaultTTFMapCount'] = createExportWrapper(\n      'FPDF_GetDefaultTTFMapCount',\n      0,\n    ));\n    var _FPDF_GetDefaultTTFMapEntry = (Module['_FPDF_GetDefaultTTFMapEntry'] = createExportWrapper(\n      'FPDF_GetDefaultTTFMapEntry',\n      1,\n    ));\n    var _FPDF_GetDefaultSystemFontInfo = (Module['_FPDF_GetDefaultSystemFontInfo'] =\n      createExportWrapper('FPDF_GetDefaultSystemFontInfo', 0));\n    var _FPDF_FreeDefaultSystemFontInfo = (Module['_FPDF_FreeDefaultSystemFontInfo'] =\n      createExportWrapper('FPDF_FreeDefaultSystemFontInfo', 1));\n    var _FPDFText_LoadPage = (Module['_FPDFText_LoadPage'] = createExportWrapper(\n      'FPDFText_LoadPage',\n      1,\n    ));\n    var _FPDFText_ClosePage = (Module['_FPDFText_ClosePage'] = createExportWrapper(\n      'FPDFText_ClosePage',\n      1,\n    ));\n    var _FPDFText_CountChars = (Module['_FPDFText_CountChars'] = createExportWrapper(\n      'FPDFText_CountChars',\n      1,\n    ));\n    var _FPDFText_GetUnicode = (Module['_FPDFText_GetUnicode'] = createExportWrapper(\n      'FPDFText_GetUnicode',\n      2,\n    ));\n    var _FPDFText_GetTextObject = (Module['_FPDFText_GetTextObject'] = createExportWrapper(\n      'FPDFText_GetTextObject',\n      2,\n    ));\n    var _FPDFText_IsGenerated = (Module['_FPDFText_IsGenerated'] = createExportWrapper(\n      'FPDFText_IsGenerated',\n      2,\n    ));\n    var _FPDFText_IsHyphen = (Module['_FPDFText_IsHyphen'] = createExportWrapper(\n      'FPDFText_IsHyphen',\n      2,\n    ));\n    var _FPDFText_HasUnicodeMapError = (Module['_FPDFText_HasUnicodeMapError'] =\n      createExportWrapper('FPDFText_HasUnicodeMapError', 2));\n    var _FPDFText_GetFontSize = (Module['_FPDFText_GetFontSize'] = createExportWrapper(\n      'FPDFText_GetFontSize',\n      2,\n    ));\n    var _FPDFText_GetFontInfo = (Module['_FPDFText_GetFontInfo'] = createExportWrapper(\n      'FPDFText_GetFontInfo',\n      5,\n    ));\n    var _FPDFText_GetFontWeight = (Module['_FPDFText_GetFontWeight'] = createExportWrapper(\n      'FPDFText_GetFontWeight',\n      2,\n    ));\n    var _FPDFText_GetFillColor = (Module['_FPDFText_GetFillColor'] = createExportWrapper(\n      'FPDFText_GetFillColor',\n      6,\n    ));\n    var _FPDFText_GetStrokeColor = (Module['_FPDFText_GetStrokeColor'] = createExportWrapper(\n      'FPDFText_GetStrokeColor',\n      6,\n    ));\n    var _FPDFText_GetCharAngle = (Module['_FPDFText_GetCharAngle'] = createExportWrapper(\n      'FPDFText_GetCharAngle',\n      2,\n    ));\n    var _FPDFText_GetCharBox = (Module['_FPDFText_GetCharBox'] = createExportWrapper(\n      'FPDFText_GetCharBox',\n      6,\n    ));\n    var _FPDFText_GetLooseCharBox = (Module['_FPDFText_GetLooseCharBox'] = createExportWrapper(\n      'FPDFText_GetLooseCharBox',\n      3,\n    ));\n    var _FPDFText_GetMatrix = (Module['_FPDFText_GetMatrix'] = createExportWrapper(\n      'FPDFText_GetMatrix',\n      3,\n    ));\n    var _FPDFText_GetCharOrigin = (Module['_FPDFText_GetCharOrigin'] = createExportWrapper(\n      'FPDFText_GetCharOrigin',\n      4,\n    ));\n    var _FPDFText_GetCharIndexAtPos = (Module['_FPDFText_GetCharIndexAtPos'] = createExportWrapper(\n      'FPDFText_GetCharIndexAtPos',\n      5,\n    ));\n    var _FPDFText_GetText = (Module['_FPDFText_GetText'] = createExportWrapper(\n      'FPDFText_GetText',\n      4,\n    ));\n    var _FPDFText_CountRects = (Module['_FPDFText_CountRects'] = createExportWrapper(\n      'FPDFText_CountRects',\n      3,\n    ));\n    var _FPDFText_GetRect = (Module['_FPDFText_GetRect'] = createExportWrapper(\n      'FPDFText_GetRect',\n      6,\n    ));\n    var _FPDFText_GetBoundedText = (Module['_FPDFText_GetBoundedText'] = createExportWrapper(\n      'FPDFText_GetBoundedText',\n      7,\n    ));\n    var _FPDFText_FindStart = (Module['_FPDFText_FindStart'] = createExportWrapper(\n      'FPDFText_FindStart',\n      4,\n    ));\n    var _FPDFText_FindNext = (Module['_FPDFText_FindNext'] = createExportWrapper(\n      'FPDFText_FindNext',\n      1,\n    ));\n    var _FPDFText_FindPrev = (Module['_FPDFText_FindPrev'] = createExportWrapper(\n      'FPDFText_FindPrev',\n      1,\n    ));\n    var _FPDFText_GetSchResultIndex = (Module['_FPDFText_GetSchResultIndex'] = createExportWrapper(\n      'FPDFText_GetSchResultIndex',\n      1,\n    ));\n    var _FPDFText_GetSchCount = (Module['_FPDFText_GetSchCount'] = createExportWrapper(\n      'FPDFText_GetSchCount',\n      1,\n    ));\n    var _FPDFText_FindClose = (Module['_FPDFText_FindClose'] = createExportWrapper(\n      'FPDFText_FindClose',\n      1,\n    ));\n    var _FPDFLink_LoadWebLinks = (Module['_FPDFLink_LoadWebLinks'] = createExportWrapper(\n      'FPDFLink_LoadWebLinks',\n      1,\n    ));\n    var _FPDFLink_CountWebLinks = (Module['_FPDFLink_CountWebLinks'] = createExportWrapper(\n      'FPDFLink_CountWebLinks',\n      1,\n    ));\n    var _FPDFLink_GetURL = (Module['_FPDFLink_GetURL'] = createExportWrapper('FPDFLink_GetURL', 4));\n    var _FPDFLink_CountRects = (Module['_FPDFLink_CountRects'] = createExportWrapper(\n      'FPDFLink_CountRects',\n      2,\n    ));\n    var _FPDFLink_GetRect = (Module['_FPDFLink_GetRect'] = createExportWrapper(\n      'FPDFLink_GetRect',\n      7,\n    ));\n    var _FPDFLink_GetTextRange = (Module['_FPDFLink_GetTextRange'] = createExportWrapper(\n      'FPDFLink_GetTextRange',\n      4,\n    ));\n    var _FPDFLink_CloseWebLinks = (Module['_FPDFLink_CloseWebLinks'] = createExportWrapper(\n      'FPDFLink_CloseWebLinks',\n      1,\n    ));\n    var _FPDFPage_GetDecodedThumbnailData = (Module['_FPDFPage_GetDecodedThumbnailData'] =\n      createExportWrapper('FPDFPage_GetDecodedThumbnailData', 3));\n    var _FPDFPage_GetRawThumbnailData = (Module['_FPDFPage_GetRawThumbnailData'] =\n      createExportWrapper('FPDFPage_GetRawThumbnailData', 3));\n    var _FPDFPage_GetThumbnailAsBitmap = (Module['_FPDFPage_GetThumbnailAsBitmap'] =\n      createExportWrapper('FPDFPage_GetThumbnailAsBitmap', 1));\n    var _FPDFPage_SetMediaBox = (Module['_FPDFPage_SetMediaBox'] = createExportWrapper(\n      'FPDFPage_SetMediaBox',\n      5,\n    ));\n    var _FPDFPage_SetCropBox = (Module['_FPDFPage_SetCropBox'] = createExportWrapper(\n      'FPDFPage_SetCropBox',\n      5,\n    ));\n    var _FPDFPage_SetBleedBox = (Module['_FPDFPage_SetBleedBox'] = createExportWrapper(\n      'FPDFPage_SetBleedBox',\n      5,\n    ));\n    var _FPDFPage_SetTrimBox = (Module['_FPDFPage_SetTrimBox'] = createExportWrapper(\n      'FPDFPage_SetTrimBox',\n      5,\n    ));\n    var _FPDFPage_SetArtBox = (Module['_FPDFPage_SetArtBox'] = createExportWrapper(\n      'FPDFPage_SetArtBox',\n      5,\n    ));\n    var _FPDFPage_GetMediaBox = (Module['_FPDFPage_GetMediaBox'] = createExportWrapper(\n      'FPDFPage_GetMediaBox',\n      5,\n    ));\n    var _FPDFPage_GetCropBox = (Module['_FPDFPage_GetCropBox'] = createExportWrapper(\n      'FPDFPage_GetCropBox',\n      5,\n    ));\n    var _FPDFPage_GetBleedBox = (Module['_FPDFPage_GetBleedBox'] = createExportWrapper(\n      'FPDFPage_GetBleedBox',\n      5,\n    ));\n    var _FPDFPage_GetTrimBox = (Module['_FPDFPage_GetTrimBox'] = createExportWrapper(\n      'FPDFPage_GetTrimBox',\n      5,\n    ));\n    var _FPDFPage_GetArtBox = (Module['_FPDFPage_GetArtBox'] = createExportWrapper(\n      'FPDFPage_GetArtBox',\n      5,\n    ));\n    var _FPDFPage_TransFormWithClip = (Module['_FPDFPage_TransFormWithClip'] = createExportWrapper(\n      'FPDFPage_TransFormWithClip',\n      3,\n    ));\n    var _FPDFPageObj_TransformClipPath = (Module['_FPDFPageObj_TransformClipPath'] =\n      createExportWrapper('FPDFPageObj_TransformClipPath', 7));\n    var _FPDFPageObj_GetClipPath = (Module['_FPDFPageObj_GetClipPath'] = createExportWrapper(\n      'FPDFPageObj_GetClipPath',\n      1,\n    ));\n    var _FPDFClipPath_CountPaths = (Module['_FPDFClipPath_CountPaths'] = createExportWrapper(\n      'FPDFClipPath_CountPaths',\n      1,\n    ));\n    var _FPDFClipPath_CountPathSegments = (Module['_FPDFClipPath_CountPathSegments'] =\n      createExportWrapper('FPDFClipPath_CountPathSegments', 2));\n    var _FPDFClipPath_GetPathSegment = (Module['_FPDFClipPath_GetPathSegment'] =\n      createExportWrapper('FPDFClipPath_GetPathSegment', 3));\n    var _FPDF_CreateClipPath = (Module['_FPDF_CreateClipPath'] = createExportWrapper(\n      'FPDF_CreateClipPath',\n      4,\n    ));\n    var _FPDF_DestroyClipPath = (Module['_FPDF_DestroyClipPath'] = createExportWrapper(\n      'FPDF_DestroyClipPath',\n      1,\n    ));\n    var _FPDFPage_InsertClipPath = (Module['_FPDFPage_InsertClipPath'] = createExportWrapper(\n      'FPDFPage_InsertClipPath',\n      2,\n    ));\n    var _FPDF_InitLibrary = (Module['_FPDF_InitLibrary'] = createExportWrapper(\n      'FPDF_InitLibrary',\n      0,\n    ));\n    var _FPDF_DestroyLibrary = (Module['_FPDF_DestroyLibrary'] = createExportWrapper(\n      'FPDF_DestroyLibrary',\n      0,\n    ));\n    var _FPDF_SetSandBoxPolicy = (Module['_FPDF_SetSandBoxPolicy'] = createExportWrapper(\n      'FPDF_SetSandBoxPolicy',\n      2,\n    ));\n    var _FPDF_LoadDocument = (Module['_FPDF_LoadDocument'] = createExportWrapper(\n      'FPDF_LoadDocument',\n      2,\n    ));\n    var _FPDF_GetFormType = (Module['_FPDF_GetFormType'] = createExportWrapper(\n      'FPDF_GetFormType',\n      1,\n    ));\n    var _FPDF_LoadXFA = (Module['_FPDF_LoadXFA'] = createExportWrapper('FPDF_LoadXFA', 1));\n    var _FPDF_LoadMemDocument = (Module['_FPDF_LoadMemDocument'] = createExportWrapper(\n      'FPDF_LoadMemDocument',\n      3,\n    ));\n    var _FPDF_LoadMemDocument64 = (Module['_FPDF_LoadMemDocument64'] = createExportWrapper(\n      'FPDF_LoadMemDocument64',\n      3,\n    ));\n    var _FPDF_LoadCustomDocument = (Module['_FPDF_LoadCustomDocument'] = createExportWrapper(\n      'FPDF_LoadCustomDocument',\n      2,\n    ));\n    var _FPDF_GetFileVersion = (Module['_FPDF_GetFileVersion'] = createExportWrapper(\n      'FPDF_GetFileVersion',\n      2,\n    ));\n    var _FPDF_DocumentHasValidCrossReferenceTable = (Module[\n      '_FPDF_DocumentHasValidCrossReferenceTable'\n    ] = createExportWrapper('FPDF_DocumentHasValidCrossReferenceTable', 1));\n    var _FPDF_GetDocPermissions = (Module['_FPDF_GetDocPermissions'] = createExportWrapper(\n      'FPDF_GetDocPermissions',\n      1,\n    ));\n    var _FPDF_GetDocUserPermissions = (Module['_FPDF_GetDocUserPermissions'] = createExportWrapper(\n      'FPDF_GetDocUserPermissions',\n      1,\n    ));\n    var _FPDF_GetSecurityHandlerRevision = (Module['_FPDF_GetSecurityHandlerRevision'] =\n      createExportWrapper('FPDF_GetSecurityHandlerRevision', 1));\n    var _FPDF_GetPageCount = (Module['_FPDF_GetPageCount'] = createExportWrapper(\n      'FPDF_GetPageCount',\n      1,\n    ));\n    var _FPDF_LoadPage = (Module['_FPDF_LoadPage'] = createExportWrapper('FPDF_LoadPage', 2));\n    var _FPDF_GetPageWidthF = (Module['_FPDF_GetPageWidthF'] = createExportWrapper(\n      'FPDF_GetPageWidthF',\n      1,\n    ));\n    var _FPDF_GetPageWidth = (Module['_FPDF_GetPageWidth'] = createExportWrapper(\n      'FPDF_GetPageWidth',\n      1,\n    ));\n    var _FPDF_GetPageHeightF = (Module['_FPDF_GetPageHeightF'] = createExportWrapper(\n      'FPDF_GetPageHeightF',\n      1,\n    ));\n    var _FPDF_GetPageHeight = (Module['_FPDF_GetPageHeight'] = createExportWrapper(\n      'FPDF_GetPageHeight',\n      1,\n    ));\n    var _FPDF_GetPageBoundingBox = (Module['_FPDF_GetPageBoundingBox'] = createExportWrapper(\n      'FPDF_GetPageBoundingBox',\n      2,\n    ));\n    var _FPDF_RenderPageBitmap = (Module['_FPDF_RenderPageBitmap'] = createExportWrapper(\n      'FPDF_RenderPageBitmap',\n      8,\n    ));\n    var _FPDF_RenderPageBitmapWithMatrix = (Module['_FPDF_RenderPageBitmapWithMatrix'] =\n      createExportWrapper('FPDF_RenderPageBitmapWithMatrix', 5));\n    var _EPDF_RenderAnnotBitmap = (Module['_EPDF_RenderAnnotBitmap'] = createExportWrapper(\n      'EPDF_RenderAnnotBitmap',\n      6,\n    ));\n    var _FPDF_ClosePage = (Module['_FPDF_ClosePage'] = createExportWrapper('FPDF_ClosePage', 1));\n    var _FPDF_CloseDocument = (Module['_FPDF_CloseDocument'] = createExportWrapper(\n      'FPDF_CloseDocument',\n      1,\n    ));\n    var _FPDF_GetLastError = (Module['_FPDF_GetLastError'] = createExportWrapper(\n      'FPDF_GetLastError',\n      0,\n    ));\n    var _FPDF_DeviceToPage = (Module['_FPDF_DeviceToPage'] = createExportWrapper(\n      'FPDF_DeviceToPage',\n      10,\n    ));\n    var _FPDF_PageToDevice = (Module['_FPDF_PageToDevice'] = createExportWrapper(\n      'FPDF_PageToDevice',\n      10,\n    ));\n    var _FPDFBitmap_Create = (Module['_FPDFBitmap_Create'] = createExportWrapper(\n      'FPDFBitmap_Create',\n      3,\n    ));\n    var _FPDFBitmap_CreateEx = (Module['_FPDFBitmap_CreateEx'] = createExportWrapper(\n      'FPDFBitmap_CreateEx',\n      5,\n    ));\n    var _FPDFBitmap_GetFormat = (Module['_FPDFBitmap_GetFormat'] = createExportWrapper(\n      'FPDFBitmap_GetFormat',\n      1,\n    ));\n    var _FPDFBitmap_FillRect = (Module['_FPDFBitmap_FillRect'] = createExportWrapper(\n      'FPDFBitmap_FillRect',\n      6,\n    ));\n    var _FPDFBitmap_GetBuffer = (Module['_FPDFBitmap_GetBuffer'] = createExportWrapper(\n      'FPDFBitmap_GetBuffer',\n      1,\n    ));\n    var _FPDFBitmap_GetWidth = (Module['_FPDFBitmap_GetWidth'] = createExportWrapper(\n      'FPDFBitmap_GetWidth',\n      1,\n    ));\n    var _FPDFBitmap_GetHeight = (Module['_FPDFBitmap_GetHeight'] = createExportWrapper(\n      'FPDFBitmap_GetHeight',\n      1,\n    ));\n    var _FPDFBitmap_GetStride = (Module['_FPDFBitmap_GetStride'] = createExportWrapper(\n      'FPDFBitmap_GetStride',\n      1,\n    ));\n    var _FPDFBitmap_Destroy = (Module['_FPDFBitmap_Destroy'] = createExportWrapper(\n      'FPDFBitmap_Destroy',\n      1,\n    ));\n    var _FPDF_GetPageSizeByIndexF = (Module['_FPDF_GetPageSizeByIndexF'] = createExportWrapper(\n      'FPDF_GetPageSizeByIndexF',\n      3,\n    ));\n    var _EPDF_GetPageRotationByIndex = (Module['_EPDF_GetPageRotationByIndex'] =\n      createExportWrapper('EPDF_GetPageRotationByIndex', 2));\n    var _FPDF_GetPageSizeByIndex = (Module['_FPDF_GetPageSizeByIndex'] = createExportWrapper(\n      'FPDF_GetPageSizeByIndex',\n      4,\n    ));\n    var _FPDF_VIEWERREF_GetPrintScaling = (Module['_FPDF_VIEWERREF_GetPrintScaling'] =\n      createExportWrapper('FPDF_VIEWERREF_GetPrintScaling', 1));\n    var _FPDF_VIEWERREF_GetNumCopies = (Module['_FPDF_VIEWERREF_GetNumCopies'] =\n      createExportWrapper('FPDF_VIEWERREF_GetNumCopies', 1));\n    var _FPDF_VIEWERREF_GetPrintPageRange = (Module['_FPDF_VIEWERREF_GetPrintPageRange'] =\n      createExportWrapper('FPDF_VIEWERREF_GetPrintPageRange', 1));\n    var _FPDF_VIEWERREF_GetPrintPageRangeCount = (Module['_FPDF_VIEWERREF_GetPrintPageRangeCount'] =\n      createExportWrapper('FPDF_VIEWERREF_GetPrintPageRangeCount', 1));\n    var _FPDF_VIEWERREF_GetPrintPageRangeElement = (Module[\n      '_FPDF_VIEWERREF_GetPrintPageRangeElement'\n    ] = createExportWrapper('FPDF_VIEWERREF_GetPrintPageRangeElement', 2));\n    var _FPDF_VIEWERREF_GetDuplex = (Module['_FPDF_VIEWERREF_GetDuplex'] = createExportWrapper(\n      'FPDF_VIEWERREF_GetDuplex',\n      1,\n    ));\n    var _FPDF_VIEWERREF_GetName = (Module['_FPDF_VIEWERREF_GetName'] = createExportWrapper(\n      'FPDF_VIEWERREF_GetName',\n      4,\n    ));\n    var _FPDF_CountNamedDests = (Module['_FPDF_CountNamedDests'] = createExportWrapper(\n      'FPDF_CountNamedDests',\n      1,\n    ));\n    var _FPDF_GetNamedDestByName = (Module['_FPDF_GetNamedDestByName'] = createExportWrapper(\n      'FPDF_GetNamedDestByName',\n      2,\n    ));\n    var _FPDF_GetNamedDest = (Module['_FPDF_GetNamedDest'] = createExportWrapper(\n      'FPDF_GetNamedDest',\n      4,\n    ));\n    var _FPDF_GetXFAPacketCount = (Module['_FPDF_GetXFAPacketCount'] = createExportWrapper(\n      'FPDF_GetXFAPacketCount',\n      1,\n    ));\n    var _FPDF_GetXFAPacketName = (Module['_FPDF_GetXFAPacketName'] = createExportWrapper(\n      'FPDF_GetXFAPacketName',\n      4,\n    ));\n    var _FPDF_GetXFAPacketContent = (Module['_FPDF_GetXFAPacketContent'] = createExportWrapper(\n      'FPDF_GetXFAPacketContent',\n      5,\n    ));\n    var _FPDF_GetTrailerEnds = (Module['_FPDF_GetTrailerEnds'] = createExportWrapper(\n      'FPDF_GetTrailerEnds',\n      3,\n    ));\n    var _fflush = createExportWrapper('fflush', 1);\n    var _emscripten_builtin_memalign = createExportWrapper('emscripten_builtin_memalign', 2);\n    var _strerror = createExportWrapper('strerror', 1);\n    var _setThrew = createExportWrapper('setThrew', 2);\n    var __emscripten_tempret_set = createExportWrapper('_emscripten_tempret_set', 1);\n    var _emscripten_stack_init = () =>\n      (_emscripten_stack_init = wasmExports['emscripten_stack_init'])();\n    var _emscripten_stack_get_free = () =>\n      (_emscripten_stack_get_free = wasmExports['emscripten_stack_get_free'])();\n    var _emscripten_stack_get_base = () =>\n      (_emscripten_stack_get_base = wasmExports['emscripten_stack_get_base'])();\n    var _emscripten_stack_get_end = () =>\n      (_emscripten_stack_get_end = wasmExports['emscripten_stack_get_end'])();\n    var __emscripten_stack_restore = (a0) =>\n      (__emscripten_stack_restore = wasmExports['_emscripten_stack_restore'])(a0);\n    var __emscripten_stack_alloc = (a0) =>\n      (__emscripten_stack_alloc = wasmExports['_emscripten_stack_alloc'])(a0);\n    var _emscripten_stack_get_current = () =>\n      (_emscripten_stack_get_current = wasmExports['emscripten_stack_get_current'])();\n    var dynCall_ji = (Module['dynCall_ji'] = createExportWrapper('dynCall_ji', 2));\n    var dynCall_jij = (Module['dynCall_jij'] = createExportWrapper('dynCall_jij', 4));\n    var dynCall_iiij = (Module['dynCall_iiij'] = createExportWrapper('dynCall_iiij', 5));\n    var dynCall_iij = (Module['dynCall_iij'] = createExportWrapper('dynCall_iij', 4));\n    var dynCall_j = (Module['dynCall_j'] = createExportWrapper('dynCall_j', 1));\n    var dynCall_jji = (Module['dynCall_jji'] = createExportWrapper('dynCall_jji', 4));\n    var dynCall_iji = (Module['dynCall_iji'] = createExportWrapper('dynCall_iji', 4));\n    var dynCall_viijii = (Module['dynCall_viijii'] = createExportWrapper('dynCall_viijii', 7));\n    var dynCall_iiji = (Module['dynCall_iiji'] = createExportWrapper('dynCall_iiji', 5));\n    var dynCall_jiji = (Module['dynCall_jiji'] = createExportWrapper('dynCall_jiji', 5));\n    var dynCall_iiiiij = (Module['dynCall_iiiiij'] = createExportWrapper('dynCall_iiiiij', 7));\n    var dynCall_iiiiijj = (Module['dynCall_iiiiijj'] = createExportWrapper('dynCall_iiiiijj', 9));\n    var dynCall_iiiiiijj = (Module['dynCall_iiiiiijj'] = createExportWrapper(\n      'dynCall_iiiiiijj',\n      10,\n    ));\n    var dynCall_viji = (Module['dynCall_viji'] = createExportWrapper('dynCall_viji', 5));\n\n    function invoke_viii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_ii(index, a1) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiii(index, a1, a2, a3) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_iiiii(index, a1, a2, a3, a4) {\n      var sp = stackSave();\n      try {\n        return getWasmTableEntry(index)(a1, a2, a3, a4);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_v(index) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)();\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_vii(index, a1, a2) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    function invoke_viiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n      var sp = stackSave();\n      try {\n        getWasmTableEntry(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9);\n      } catch (e) {\n        stackRestore(sp);\n        if (e !== e + 0) throw e;\n        _setThrew(1, 0);\n      }\n    }\n\n    // include: postamble.js\n    // === Auto-generated postamble setup entry stuff ===\n\n    Module['wasmExports'] = wasmExports;\n    Module['ccall'] = ccall;\n    Module['cwrap'] = cwrap;\n    Module['addFunction'] = addFunction;\n    Module['removeFunction'] = removeFunction;\n    Module['setValue'] = setValue;\n    Module['getValue'] = getValue;\n    Module['UTF8ToString'] = UTF8ToString;\n    Module['stringToUTF8'] = stringToUTF8;\n    Module['UTF16ToString'] = UTF16ToString;\n    Module['stringToUTF16'] = stringToUTF16;\n    var missingLibrarySymbols = [\n      'writeI53ToI64',\n      'writeI53ToI64Clamped',\n      'writeI53ToI64Signaling',\n      'writeI53ToU64Clamped',\n      'writeI53ToU64Signaling',\n      'readI53FromI64',\n      'readI53FromU64',\n      'convertI32PairToI53',\n      'convertU32PairToI53',\n      'getTempRet0',\n      'setTempRet0',\n      'exitJS',\n      'inetPton4',\n      'inetNtop4',\n      'inetPton6',\n      'inetNtop6',\n      'readSockaddr',\n      'writeSockaddr',\n      'emscriptenLog',\n      'readEmAsmArgs',\n      'jstoi_q',\n      'listenOnce',\n      'autoResumeAudioContext',\n      'dynCallLegacy',\n      'getDynCaller',\n      'dynCall',\n      'handleException',\n      'keepRuntimeAlive',\n      'runtimeKeepalivePush',\n      'runtimeKeepalivePop',\n      'callUserCallback',\n      'maybeExit',\n      'asmjsMangle',\n      'HandleAllocator',\n      'getNativeTypeSize',\n      'STACK_SIZE',\n      'STACK_ALIGN',\n      'POINTER_SIZE',\n      'ASSERTIONS',\n      'reallyNegative',\n      'unSign',\n      'strLen',\n      'reSign',\n      'formatString',\n      'intArrayToString',\n      'AsciiToString',\n      'lengthBytesUTF16',\n      'UTF32ToString',\n      'stringToUTF32',\n      'lengthBytesUTF32',\n      'stringToNewUTF8',\n      'registerKeyEventCallback',\n      'maybeCStringToJsString',\n      'findEventTarget',\n      'getBoundingClientRect',\n      'fillMouseEventData',\n      'registerMouseEventCallback',\n      'registerWheelEventCallback',\n      'registerUiEventCallback',\n      'registerFocusEventCallback',\n      'fillDeviceOrientationEventData',\n      'registerDeviceOrientationEventCallback',\n      'fillDeviceMotionEventData',\n      'registerDeviceMotionEventCallback',\n      'screenOrientation',\n      'fillOrientationChangeEventData',\n      'registerOrientationChangeEventCallback',\n      'fillFullscreenChangeEventData',\n      'registerFullscreenChangeEventCallback',\n      'JSEvents_requestFullscreen',\n      'JSEvents_resizeCanvasForFullscreen',\n      'registerRestoreOldStyle',\n      'hideEverythingExceptGivenElement',\n      'restoreHiddenElements',\n      'setLetterbox',\n      'softFullscreenResizeWebGLRenderTarget',\n      'doRequestFullscreen',\n      'fillPointerlockChangeEventData',\n      'registerPointerlockChangeEventCallback',\n      'registerPointerlockErrorEventCallback',\n      'requestPointerLock',\n      'fillVisibilityChangeEventData',\n      'registerVisibilityChangeEventCallback',\n      'registerTouchEventCallback',\n      'fillGamepadEventData',\n      'registerGamepadEventCallback',\n      'registerBeforeUnloadEventCallback',\n      'fillBatteryEventData',\n      'battery',\n      'registerBatteryEventCallback',\n      'setCanvasElementSize',\n      'getCanvasElementSize',\n      'jsStackTrace',\n      'getCallstack',\n      'convertPCtoSourceLocation',\n      'checkWasiClock',\n      'wasiRightsToMuslOFlags',\n      'wasiOFlagsToMuslOFlags',\n      'createDyncallWrapper',\n      'safeSetTimeout',\n      'setImmediateWrapped',\n      'clearImmediateWrapped',\n      'polyfillSetImmediate',\n      'registerPostMainLoop',\n      'registerPreMainLoop',\n      'getPromise',\n      'makePromise',\n      'idsToPromises',\n      'makePromiseCallback',\n      'ExceptionInfo',\n      'findMatchingCatch',\n      'Browser_asyncPrepareDataCounter',\n      'safeRequestAnimationFrame',\n      'arraySum',\n      'addDays',\n      'getSocketFromFD',\n      'getSocketAddress',\n      'FS_unlink',\n      'FS_mkdirTree',\n      '_setNetworkCallback',\n      'heapObjectForWebGLType',\n      'toTypedArrayIndex',\n      'webgl_enable_ANGLE_instanced_arrays',\n      'webgl_enable_OES_vertex_array_object',\n      'webgl_enable_WEBGL_draw_buffers',\n      'webgl_enable_WEBGL_multi_draw',\n      'webgl_enable_EXT_polygon_offset_clamp',\n      'webgl_enable_EXT_clip_control',\n      'webgl_enable_WEBGL_polygon_mode',\n      'emscriptenWebGLGet',\n      'computeUnpackAlignedImageSize',\n      'colorChannelsInGlTextureFormat',\n      'emscriptenWebGLGetTexPixelData',\n      'emscriptenWebGLGetUniform',\n      'webglGetUniformLocation',\n      'webglPrepareUniformLocationsBeforeFirstUse',\n      'webglGetLeftBracePos',\n      'emscriptenWebGLGetVertexAttrib',\n      '__glGetActiveAttribOrUniform',\n      'writeGLArray',\n      'registerWebGlEventCallback',\n      'runAndAbortIfError',\n      'ALLOC_NORMAL',\n      'ALLOC_STACK',\n      'allocate',\n      'writeStringToMemory',\n      'writeAsciiToMemory',\n      'setErrNo',\n      'demangle',\n      'stackTrace',\n    ];\n    missingLibrarySymbols.forEach(missingLibrarySymbol);\n\n    var unexportedSymbols = [\n      'run',\n      'addOnPreRun',\n      'addOnInit',\n      'addOnPreMain',\n      'addOnExit',\n      'addOnPostRun',\n      'addRunDependency',\n      'removeRunDependency',\n      'out',\n      'err',\n      'callMain',\n      'abort',\n      'wasmMemory',\n      'writeStackCookie',\n      'checkStackCookie',\n      'convertI32PairToI53Checked',\n      'stackSave',\n      'stackRestore',\n      'stackAlloc',\n      'ptrToString',\n      'zeroMemory',\n      'getHeapMax',\n      'growMemory',\n      'ENV',\n      'ERRNO_CODES',\n      'strError',\n      'DNS',\n      'Protocols',\n      'Sockets',\n      'initRandomFill',\n      'randomFill',\n      'timers',\n      'warnOnce',\n      'readEmAsmArgsArray',\n      'jstoi_s',\n      'getExecutableName',\n      'asyncLoad',\n      'alignMemory',\n      'mmapAlloc',\n      'wasmTable',\n      'noExitRuntime',\n      'getCFunc',\n      'uleb128Encode',\n      'sigToWasmTypes',\n      'generateFuncType',\n      'convertJsFunctionToWasm',\n      'freeTableIndexes',\n      'functionsInTableMap',\n      'getEmptyTableSlot',\n      'updateTableMap',\n      'getFunctionAddress',\n      'PATH',\n      'PATH_FS',\n      'UTF8Decoder',\n      'UTF8ArrayToString',\n      'stringToUTF8Array',\n      'lengthBytesUTF8',\n      'intArrayFromString',\n      'stringToAscii',\n      'UTF16Decoder',\n      'stringToUTF8OnStack',\n      'writeArrayToMemory',\n      'JSEvents',\n      'specialHTMLTargets',\n      'findCanvasEventTarget',\n      'currentFullscreenStrategy',\n      'restoreOldWindowedStyle',\n      'UNWIND_CACHE',\n      'ExitStatus',\n      'getEnvStrings',\n      'doReadv',\n      'doWritev',\n      'promiseMap',\n      'uncaughtExceptionCount',\n      'exceptionLast',\n      'exceptionCaught',\n      'Browser',\n      'getPreloadedImageData__data',\n      'wget',\n      'MONTH_DAYS_REGULAR',\n      'MONTH_DAYS_LEAP',\n      'MONTH_DAYS_REGULAR_CUMULATIVE',\n      'MONTH_DAYS_LEAP_CUMULATIVE',\n      'isLeapYear',\n      'ydayFromDate',\n      'SYSCALLS',\n      'preloadPlugins',\n      'FS_createPreloadedFile',\n      'FS_modeStringToFlags',\n      'FS_getMode',\n      'FS_stdin_getChar_buffer',\n      'FS_stdin_getChar',\n      'FS_createPath',\n      'FS_createDevice',\n      'FS_readFile',\n      'FS',\n      'FS_createDataFile',\n      'FS_createLazyFile',\n      'MEMFS',\n      'TTY',\n      'PIPEFS',\n      'SOCKFS',\n      'tempFixedLengthArray',\n      'miniTempWebGLFloatBuffers',\n      'miniTempWebGLIntBuffers',\n      'GL',\n      'AL',\n      'GLUT',\n      'EGL',\n      'GLEW',\n      'IDBStore',\n      'SDL',\n      'SDL_gfx',\n      'allocateUTF8',\n      'allocateUTF8OnStack',\n      'print',\n      'printErr',\n    ];\n    unexportedSymbols.forEach(unexportedRuntimeSymbol);\n\n    var calledRun;\n    var calledPrerun;\n\n    dependenciesFulfilled = function runCaller() {\n      // If run has never been called, and we should call run (INVOKE_RUN is true, and Module.noInitialRun is not false)\n      if (!calledRun) run();\n      if (!calledRun) dependenciesFulfilled = runCaller; // try this again later, after new deps are fulfilled\n    };\n\n    function stackCheckInit() {\n      // This is normally called automatically during __wasm_call_ctors but need to\n      // get these values before even running any of the ctors so we call it redundantly\n      // here.\n      _emscripten_stack_init();\n      // TODO(sbc): Move writeStackCookie to native to to avoid this.\n      writeStackCookie();\n    }\n\n    function run() {\n      if (runDependencies > 0) {\n        return;\n      }\n\n      stackCheckInit();\n\n      if (!calledPrerun) {\n        calledPrerun = 1;\n        preRun();\n\n        // a preRun added a dependency, run will be called later\n        if (runDependencies > 0) {\n          return;\n        }\n      }\n\n      function doRun() {\n        // run may have just been called through dependencies being fulfilled just in this very frame,\n        // or while the async setStatus time below was happening\n        if (calledRun) return;\n        calledRun = 1;\n        Module['calledRun'] = 1;\n\n        if (ABORT) return;\n\n        initRuntime();\n\n        readyPromiseResolve(Module);\n        Module['onRuntimeInitialized']?.();\n\n        assert(\n          !Module['_main'],\n          'compiled without a main, but one is present. if you added it from JS, use Module[\"onRuntimeInitialized\"]',\n        );\n\n        postRun();\n      }\n\n      if (Module['setStatus']) {\n        Module['setStatus']('Running...');\n        setTimeout(() => {\n          setTimeout(() => Module['setStatus'](''), 1);\n          doRun();\n        }, 1);\n      } else {\n        doRun();\n      }\n      checkStackCookie();\n    }\n\n    function checkUnflushedContent() {\n      // Compiler settings do not allow exiting the runtime, so flushing\n      // the streams is not possible. but in ASSERTIONS mode we check\n      // if there was something to flush, and if so tell the user they\n      // should request that the runtime be exitable.\n      // Normally we would not even include flush() at all, but in ASSERTIONS\n      // builds we do so just for this check, and here we see if there is any\n      // content to flush, that is, we check if there would have been\n      // something a non-ASSERTIONS build would have not seen.\n      // How we flush the streams depends on whether we are in SYSCALLS_REQUIRE_FILESYSTEM=0\n      // mode (which has its own special function for this; otherwise, all\n      // the code is inside libc)\n      var oldOut = out;\n      var oldErr = err;\n      var has = false;\n      out = err = (x) => {\n        has = true;\n      };\n      try {\n        // it doesn't matter if it fails\n        _fflush(0);\n        // also flush in the JS FS layer\n        ['stdout', 'stderr'].forEach((name) => {\n          var info = FS.analyzePath('/dev/' + name);\n          if (!info) return;\n          var stream = info.object;\n          var rdev = stream.rdev;\n          var tty = TTY.ttys[rdev];\n          if (tty?.output?.length) {\n            has = true;\n          }\n        });\n      } catch (e) {}\n      out = oldOut;\n      err = oldErr;\n      if (has) {\n        warnOnce(\n          'stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.',\n        );\n      }\n    }\n\n    if (Module['preInit']) {\n      if (typeof Module['preInit'] == 'function') Module['preInit'] = [Module['preInit']];\n      while (Module['preInit'].length > 0) {\n        Module['preInit'].pop()();\n      }\n    }\n\n    run();\n\n    // end include: postamble.js\n\n    // include: postamble_modularize.js\n    // In MODULARIZE mode we wrap the generated code in a factory function\n    // and return either the Module itself, or a promise of the module.\n    //\n    // We assign to the `moduleRtn` global here and configure closure to see\n    // this as and extern so it won't get minified.\n\n    moduleRtn = readyPromise;\n\n    // Assertion for attempting to access module properties on the incoming\n    // moduleArg.  In the past we used this object as the prototype of the module\n    // and assigned properties to it, but now we return a distinct object.  This\n    // keeps the instance private until it is ready (i.e the promise has been\n    // resolved).\n    for (const prop of Object.keys(Module)) {\n      if (!(prop in moduleArg)) {\n        Object.defineProperty(moduleArg, prop, {\n          configurable: true,\n          get() {\n            abort(\n              `Access to module property ('${prop}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`,\n            );\n          },\n        });\n      }\n    }\n    // end include: postamble_modularize.js\n\n    return moduleRtn;\n  };\n})();\nexport default createPdfium;\n","/* AUTO-GENERATED  DO NOT EDIT BY HAND */\nexport const functions = {\n  EPDF_GetMetaKeyCount: [['number', 'boolean'] as const, 'number'] as const,\n  EPDF_GetMetaKeyName: [\n    ['number', 'number', 'boolean', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  EPDF_GetMetaTrapped: [['number'] as const, 'number'] as const,\n  EPDF_GetPageRotationByIndex: [['number', 'number'] as const, 'number'] as const,\n  EPDF_HasMetaText: [['number', 'string'] as const, 'boolean'] as const,\n  EPDF_PNG_EncodeRGBA: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  EPDF_RenderAnnotBitmap: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDF_SetMetaText: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  EPDF_SetMetaTrapped: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAction_CreateGoTo: [['number', 'number'] as const, 'number'] as const,\n  EPDFAction_CreateGoToNamed: [['number', 'string'] as const, 'number'] as const,\n  EPDFAction_CreateLaunch: [['number', 'number'] as const, 'number'] as const,\n  EPDFAction_CreateRemoteGoToByName: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFAction_CreateRemoteGoToDest: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFAction_CreateURI: [['number', 'string'] as const, 'number'] as const,\n  EPDFAnnot_ClearColor: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GenerateAppearance: [['number'] as const, 'boolean'] as const,\n  EPDFAnnot_GenerateAppearanceWithBlend: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GetBlendMode: [['number'] as const, 'number'] as const,\n  EPDFAnnot_GetBorderDashPattern: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GetBorderDashPatternCount: [['number'] as const, 'number'] as const,\n  EPDFAnnot_GetBorderEffect: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GetBorderStyle: [['number', 'number'] as const, 'number'] as const,\n  EPDFAnnot_GetColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDFAnnot_GetDefaultAppearance: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDFAnnot_GetIcon: [['number'] as const, 'number'] as const,\n  EPDFAnnot_GetIntent: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFAnnot_GetLineEndings: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GetOpacity: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_GetRectangleDifferences: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDFAnnot_GetRichContent: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFAnnot_GetTextAlignment: [['number'] as const, 'number'] as const,\n  EPDFAnnot_GetVerticalAlignment: [['number'] as const, 'number'] as const,\n  EPDFAnnot_SetBorderDashPattern: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetBorderStyle: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDFAnnot_SetDefaultAppearance: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  EPDFAnnot_SetIcon: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetIntent: [['number', 'string'] as const, 'boolean'] as const,\n  EPDFAnnot_SetLine: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetLineEndings: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetLinkedAnnot: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetOpacity: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetTextAlignment: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetVerticalAlignment: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_SetVertices: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFAnnot_UpdateAppearanceToRect: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAttachment_GetDescription: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFAttachment_GetIntegerValue: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  EPDFAttachment_SetDescription: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFAttachment_SetSubtype: [['number', 'string'] as const, 'boolean'] as const,\n  EPDFBookmark_AppendChild: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFBookmark_Clear: [['number'] as const, 'boolean'] as const,\n  EPDFBookmark_ClearTarget: [['number'] as const, 'boolean'] as const,\n  EPDFBookmark_Create: [['number', 'number'] as const, 'number'] as const,\n  EPDFBookmark_Delete: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFBookmark_InsertAfter: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  EPDFBookmark_SetAction: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFBookmark_SetDest: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFBookmark_SetTitle: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFCatalog_GetLanguage: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFDest_CreateRemoteView: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  EPDFDest_CreateRemoteXYZ: [\n    ['number', 'number', 'boolean', 'number', 'boolean', 'number', 'boolean', 'number'] as const,\n    'number',\n  ] as const,\n  EPDFDest_CreateView: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  EPDFDest_CreateXYZ: [\n    ['number', 'boolean', 'number', 'boolean', 'number', 'boolean', 'number'] as const,\n    'number',\n  ] as const,\n  EPDFNamedDest_Remove: [['number', 'string'] as const, 'boolean'] as const,\n  EPDFNamedDest_SetDest: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  EPDFPage_CreateAnnot: [['number', 'number'] as const, 'number'] as const,\n  EPDFPage_GetAnnotByName: [['number', 'number'] as const, 'number'] as const,\n  EPDFPage_GetAnnotCountRaw: [['number', 'number'] as const, 'number'] as const,\n  EPDFPage_GetAnnotRaw: [['number', 'number', 'number'] as const, 'number'] as const,\n  EPDFPage_RemoveAnnotByName: [['number', 'number'] as const, 'boolean'] as const,\n  EPDFPage_RemoveAnnotRaw: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  EPDFText_RedactInQuads: [\n    ['number', 'number', 'number', 'boolean', 'boolean'] as const,\n    'boolean',\n  ] as const,\n  EPDFText_RedactInRect: [['number', 'number', 'boolean', 'boolean'] as const, 'boolean'] as const,\n  FORM_CanRedo: [['number', 'number'] as const, 'boolean'] as const,\n  FORM_CanUndo: [['number', 'number'] as const, 'boolean'] as const,\n  FORM_DoDocumentAAction: [['number', 'number'] as const, null] as const,\n  FORM_DoDocumentJSAction: [['number'] as const, null] as const,\n  FORM_DoDocumentOpenAction: [['number'] as const, null] as const,\n  FORM_DoPageAAction: [['number', 'number', 'number'] as const, null] as const,\n  FORM_ForceToKillFocus: [['number'] as const, 'boolean'] as const,\n  FORM_GetFocusedAnnot: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_GetFocusedText: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FORM_GetSelectedText: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FORM_IsIndexSelected: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_OnAfterLoadPage: [['number', 'number'] as const, null] as const,\n  FORM_OnBeforeClosePage: [['number', 'number'] as const, null] as const,\n  FORM_OnChar: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_OnFocus: [['number', 'number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_OnKeyDown: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_OnKeyUp: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FORM_OnLButtonDoubleClick: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnLButtonDown: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnLButtonUp: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnMouseMove: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnMouseWheel: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnRButtonDown: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_OnRButtonUp: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FORM_Redo: [['number', 'number'] as const, 'boolean'] as const,\n  FORM_ReplaceAndKeepSelection: [['number', 'number', 'number'] as const, null] as const,\n  FORM_ReplaceSelection: [['number', 'number', 'number'] as const, null] as const,\n  FORM_SelectAllText: [['number', 'number'] as const, 'boolean'] as const,\n  FORM_SetFocusedAnnot: [['number', 'number'] as const, 'boolean'] as const,\n  FORM_SetIndexSelected: [['number', 'number', 'number', 'boolean'] as const, 'boolean'] as const,\n  FORM_Undo: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_AddInstalledFont: [['number', 'number', 'number'] as const, null] as const,\n  FPDF_CloseDocument: [['number'] as const, null] as const,\n  FPDF_ClosePage: [['number'] as const, null] as const,\n  FPDF_CloseXObject: [['number'] as const, null] as const,\n  FPDF_CopyViewerPreferences: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_CountNamedDests: [['number'] as const, 'number'] as const,\n  FPDF_CreateClipPath: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_CreateNewDocument: [[] as const, 'number'] as const,\n  FPDF_DestroyClipPath: [['number'] as const, null] as const,\n  FPDF_DestroyLibrary: [[] as const, null] as const,\n  FPDF_DeviceToPage: [\n    [\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n    ] as const,\n    'boolean',\n  ] as const,\n  FPDF_DocumentHasValidCrossReferenceTable: [['number'] as const, 'boolean'] as const,\n  FPDF_FFLDraw: [\n    [\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n    ] as const,\n    null,\n  ] as const,\n  FPDF_FreeDefaultSystemFontInfo: [['number'] as const, null] as const,\n  FPDF_GetDefaultSystemFontInfo: [[] as const, 'number'] as const,\n  FPDF_GetDefaultTTFMap: [[] as const, 'number'] as const,\n  FPDF_GetDefaultTTFMapCount: [[] as const, 'number'] as const,\n  FPDF_GetDefaultTTFMapEntry: [['number'] as const, 'number'] as const,\n  FPDF_GetDocPermissions: [['number'] as const, 'number'] as const,\n  FPDF_GetDocUserPermissions: [['number'] as const, 'number'] as const,\n  FPDF_GetFileIdentifier: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetFileVersion: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_GetFormType: [['number'] as const, 'number'] as const,\n  FPDF_GetLastError: [[] as const, 'number'] as const,\n  FPDF_GetMetaText: [['number', 'string', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetNamedDest: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetNamedDestByName: [['number', 'string'] as const, 'number'] as const,\n  FPDF_GetPageAAction: [['number', 'number'] as const, 'number'] as const,\n  FPDF_GetPageBoundingBox: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_GetPageCount: [['number'] as const, 'number'] as const,\n  FPDF_GetPageHeight: [['number'] as const, 'number'] as const,\n  FPDF_GetPageHeightF: [['number'] as const, 'number'] as const,\n  FPDF_GetPageLabel: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetPageSizeByIndex: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetPageSizeByIndexF: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDF_GetPageWidth: [['number'] as const, 'number'] as const,\n  FPDF_GetPageWidthF: [['number'] as const, 'number'] as const,\n  FPDF_GetSecurityHandlerRevision: [['number'] as const, 'number'] as const,\n  FPDF_GetSignatureCount: [['number'] as const, 'number'] as const,\n  FPDF_GetSignatureObject: [['number', 'number'] as const, 'number'] as const,\n  FPDF_GetTrailerEnds: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_GetXFAPacketContent: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDF_GetXFAPacketCount: [['number'] as const, 'number'] as const,\n  FPDF_GetXFAPacketName: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_ImportNPagesToOne: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDF_ImportPages: [['number', 'number', 'string', 'number'] as const, 'boolean'] as const,\n  FPDF_ImportPagesByIndex: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDF_InitLibrary: [[] as const, null] as const,\n  FPDF_InitLibraryWithConfig: [['number'] as const, null] as const,\n  FPDF_LoadCustomDocument: [['number', 'string'] as const, 'number'] as const,\n  FPDF_LoadDocument: [['number', 'string'] as const, 'number'] as const,\n  FPDF_LoadMemDocument: [['number', 'number', 'string'] as const, 'number'] as const,\n  FPDF_LoadMemDocument64: [['number', 'number', 'string'] as const, 'number'] as const,\n  FPDF_LoadPage: [['number', 'number'] as const, 'number'] as const,\n  FPDF_LoadXFA: [['number'] as const, 'boolean'] as const,\n  FPDF_MovePages: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDF_NewFormObjectFromXObject: [['number'] as const, 'number'] as const,\n  FPDF_NewXObjectFromPage: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_PageToDevice: [\n    [\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n    ] as const,\n    'boolean',\n  ] as const,\n  FPDF_RemoveFormFieldHighlight: [['number'] as const, null] as const,\n  FPDF_RenderPage_Close: [['number'] as const, null] as const,\n  FPDF_RenderPage_Continue: [['number', 'number'] as const, 'number'] as const,\n  FPDF_RenderPageBitmap: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDF_RenderPageBitmap_Start: [\n    [\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n    ] as const,\n    'number',\n  ] as const,\n  FPDF_RenderPageBitmapWithColorScheme_Start: [\n    [\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n      'number',\n    ] as const,\n    'number',\n  ] as const,\n  FPDF_RenderPageBitmapWithMatrix: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDF_SaveAsCopy: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDF_SaveWithVersion: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDF_SetFormFieldHighlightAlpha: [['number', 'number'] as const, null] as const,\n  FPDF_SetFormFieldHighlightColor: [['number', 'number', 'number'] as const, null] as const,\n  FPDF_SetSandBoxPolicy: [['number', 'boolean'] as const, null] as const,\n  FPDF_SetSystemFontInfo: [['number'] as const, null] as const,\n  FPDF_StructElement_Attr_CountChildren: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_Attr_GetBlobValue: [\n    ['number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDF_StructElement_Attr_GetBooleanValue: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_StructElement_Attr_GetChildAtIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_Attr_GetCount: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_Attr_GetName: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDF_StructElement_Attr_GetNumberValue: [['number', 'number'] as const, 'boolean'] as const,\n  FPDF_StructElement_Attr_GetStringValue: [\n    ['number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDF_StructElement_Attr_GetType: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_Attr_GetValue: [['number', 'string'] as const, 'number'] as const,\n  FPDF_StructElement_CountChildren: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_GetActualText: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetAltText: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetAttributeAtIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetAttributeCount: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_GetChildAtIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetChildMarkedContentID: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetID: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetLang: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetMarkedContentID: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_GetMarkedContentIdAtIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetMarkedContentIdCount: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_GetObjType: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetParent: [['number'] as const, 'number'] as const,\n  FPDF_StructElement_GetStringAttribute: [\n    ['number', 'string', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDF_StructElement_GetTitle: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructElement_GetType: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDF_StructTree_Close: [['number'] as const, null] as const,\n  FPDF_StructTree_CountChildren: [['number'] as const, 'number'] as const,\n  FPDF_StructTree_GetChildAtIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDF_StructTree_GetForPage: [['number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetDuplex: [['number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetName: [['number', 'string', 'number', 'number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetNumCopies: [['number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetPrintPageRange: [['number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetPrintPageRangeCount: [['number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetPrintPageRangeElement: [['number', 'number'] as const, 'number'] as const,\n  FPDF_VIEWERREF_GetPrintScaling: [['number'] as const, 'boolean'] as const,\n  FPDFAction_GetDest: [['number', 'number'] as const, 'number'] as const,\n  FPDFAction_GetFilePath: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAction_GetType: [['number'] as const, 'number'] as const,\n  FPDFAction_GetURIPath: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_AddFileAttachment: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_AddInkStroke: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_AppendAttachmentPoints: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_AppendObject: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_CountAttachmentPoints: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetAP: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetAttachmentPoints: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetBorder: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetColor: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFAnnot_GetFileAttachment: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetFlags: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetFocusableSubtypes: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetFocusableSubtypesCount: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetFontColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFAnnot_GetFontSize: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetFormAdditionalActionJavaScript: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetFormControlCount: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetFormControlIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetFormFieldAlternateName: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetFormFieldAtPoint: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetFormFieldExportValue: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetFormFieldFlags: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetFormFieldName: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetFormFieldType: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetFormFieldValue: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetInkListCount: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetInkListPath: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetLine: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetLink: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetLinkedAnnot: [['number', 'string'] as const, 'number'] as const,\n  FPDFAnnot_GetNumberValue: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetObject: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetObjectCount: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetOptionCount: [['number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetOptionLabel: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAnnot_GetRect: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_GetStringValue: [['number', 'string', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_GetSubtype: [['number'] as const, 'number'] as const,\n  FPDFAnnot_GetValueType: [['number', 'string'] as const, 'number'] as const,\n  FPDFAnnot_GetVertices: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAnnot_HasAttachmentPoints: [['number'] as const, 'boolean'] as const,\n  FPDFAnnot_HasKey: [['number', 'string'] as const, 'boolean'] as const,\n  FPDFAnnot_IsChecked: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_IsObjectSupportedSubtype: [['number'] as const, 'boolean'] as const,\n  FPDFAnnot_IsOptionSelected: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_IsSupportedSubtype: [['number'] as const, 'boolean'] as const,\n  FPDFAnnot_RemoveInkList: [['number'] as const, 'boolean'] as const,\n  FPDFAnnot_RemoveObject: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetAP: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetAttachmentPoints: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetBorder: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetColor: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFAnnot_SetFlags: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetFocusableSubtypes: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetFontColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFAnnot_SetFormFieldFlags: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetRect: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetStringValue: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_SetURI: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAnnot_UpdateObject: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFAttachment_GetFile: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAttachment_GetName: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAttachment_GetStringValue: [\n    ['number', 'string', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFAttachment_GetSubtype: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFAttachment_GetValueType: [['number', 'string'] as const, 'number'] as const,\n  FPDFAttachment_HasKey: [['number', 'string'] as const, 'boolean'] as const,\n  FPDFAttachment_SetFile: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFAttachment_SetStringValue: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  FPDFAvail_Create: [['number', 'number'] as const, 'number'] as const,\n  FPDFAvail_Destroy: [['number'] as const, null] as const,\n  FPDFAvail_GetDocument: [['number', 'string'] as const, 'number'] as const,\n  FPDFAvail_GetFirstPageNum: [['number'] as const, 'number'] as const,\n  FPDFAvail_IsDocAvail: [['number', 'number'] as const, 'number'] as const,\n  FPDFAvail_IsFormAvail: [['number', 'number'] as const, 'number'] as const,\n  FPDFAvail_IsLinearized: [['number'] as const, 'number'] as const,\n  FPDFAvail_IsPageAvail: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFBitmap_Create: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFBitmap_CreateEx: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFBitmap_Destroy: [['number'] as const, null] as const,\n  FPDFBitmap_FillRect: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFBitmap_GetBuffer: [['number'] as const, 'number'] as const,\n  FPDFBitmap_GetFormat: [['number'] as const, 'number'] as const,\n  FPDFBitmap_GetHeight: [['number'] as const, 'number'] as const,\n  FPDFBitmap_GetStride: [['number'] as const, 'number'] as const,\n  FPDFBitmap_GetWidth: [['number'] as const, 'number'] as const,\n  FPDFBookmark_Find: [['number', 'number'] as const, 'number'] as const,\n  FPDFBookmark_GetAction: [['number'] as const, 'number'] as const,\n  FPDFBookmark_GetCount: [['number'] as const, 'number'] as const,\n  FPDFBookmark_GetDest: [['number', 'number'] as const, 'number'] as const,\n  FPDFBookmark_GetFirstChild: [['number', 'number'] as const, 'number'] as const,\n  FPDFBookmark_GetNextSibling: [['number', 'number'] as const, 'number'] as const,\n  FPDFBookmark_GetTitle: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFCatalog_IsTagged: [['number'] as const, 'boolean'] as const,\n  FPDFCatalog_SetLanguage: [['number', 'string'] as const, 'boolean'] as const,\n  FPDFClipPath_CountPaths: [['number'] as const, 'number'] as const,\n  FPDFClipPath_CountPathSegments: [['number', 'number'] as const, 'number'] as const,\n  FPDFClipPath_GetPathSegment: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFDest_GetDestPageIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDFDest_GetLocationInPage: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFDest_GetView: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFDoc_AddAttachment: [['number', 'number'] as const, 'number'] as const,\n  FPDFDoc_CloseJavaScriptAction: [['number'] as const, null] as const,\n  FPDFDoc_DeleteAttachment: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFDOC_ExitFormFillEnvironment: [['number'] as const, null] as const,\n  FPDFDoc_GetAttachment: [['number', 'number'] as const, 'number'] as const,\n  FPDFDoc_GetAttachmentCount: [['number'] as const, 'number'] as const,\n  FPDFDoc_GetJavaScriptAction: [['number', 'number'] as const, 'number'] as const,\n  FPDFDoc_GetJavaScriptActionCount: [['number'] as const, 'number'] as const,\n  FPDFDoc_GetPageMode: [['number'] as const, 'number'] as const,\n  FPDFDOC_InitFormFillEnvironment: [['number', 'number'] as const, 'number'] as const,\n  FPDFFont_Close: [['number'] as const, null] as const,\n  FPDFFont_GetAscent: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFFont_GetBaseFontName: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFFont_GetDescent: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFFont_GetFamilyName: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFFont_GetFlags: [['number'] as const, 'number'] as const,\n  FPDFFont_GetFontData: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFFont_GetGlyphPath: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFFont_GetGlyphWidth: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFFont_GetIsEmbedded: [['number'] as const, 'number'] as const,\n  FPDFFont_GetItalicAngle: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFFont_GetWeight: [['number'] as const, 'number'] as const,\n  FPDFFormObj_CountObjects: [['number'] as const, 'number'] as const,\n  FPDFFormObj_GetObject: [['number', 'number'] as const, 'number'] as const,\n  FPDFFormObj_RemoveObject: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFGlyphPath_CountGlyphSegments: [['number'] as const, 'number'] as const,\n  FPDFGlyphPath_GetGlyphPathSegment: [['number', 'number'] as const, 'number'] as const,\n  FPDFImageObj_GetBitmap: [['number'] as const, 'number'] as const,\n  FPDFImageObj_GetIccProfileDataDecoded: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFImageObj_GetImageDataDecoded: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFImageObj_GetImageDataRaw: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFImageObj_GetImageFilter: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFImageObj_GetImageFilterCount: [['number'] as const, 'number'] as const,\n  FPDFImageObj_GetImageMetadata: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFImageObj_GetImagePixelSize: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFImageObj_GetRenderedBitmap: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFImageObj_LoadJpegFile: [\n    ['number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFImageObj_LoadJpegFileInline: [\n    ['number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFImageObj_SetBitmap: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFImageObj_SetMatrix: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFJavaScriptAction_GetName: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFJavaScriptAction_GetScript: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFLink_CloseWebLinks: [['number'] as const, null] as const,\n  FPDFLink_CountQuadPoints: [['number'] as const, 'number'] as const,\n  FPDFLink_CountRects: [['number', 'number'] as const, 'number'] as const,\n  FPDFLink_CountWebLinks: [['number'] as const, 'number'] as const,\n  FPDFLink_Enumerate: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFLink_GetAction: [['number'] as const, 'number'] as const,\n  FPDFLink_GetAnnot: [['number', 'number'] as const, 'number'] as const,\n  FPDFLink_GetAnnotRect: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFLink_GetDest: [['number', 'number'] as const, 'number'] as const,\n  FPDFLink_GetLinkAtPoint: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFLink_GetLinkZOrderAtPoint: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFLink_GetQuadPoints: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFLink_GetRect: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFLink_GetTextRange: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFLink_GetURL: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFLink_LoadWebLinks: [['number'] as const, 'number'] as const,\n  FPDFPage_CloseAnnot: [['number'] as const, null] as const,\n  FPDFPage_CountObjects: [['number'] as const, 'number'] as const,\n  FPDFPage_CreateAnnot: [['number', 'number'] as const, 'number'] as const,\n  FPDFPage_Delete: [['number', 'number'] as const, null] as const,\n  FPDFPage_Flatten: [['number', 'number'] as const, 'number'] as const,\n  FPDFPage_FormFieldZOrderAtPoint: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFPage_GenerateContent: [['number'] as const, 'boolean'] as const,\n  FPDFPage_GetAnnot: [['number', 'number'] as const, 'number'] as const,\n  FPDFPage_GetAnnotCount: [['number'] as const, 'number'] as const,\n  FPDFPage_GetAnnotIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDFPage_GetArtBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPage_GetBleedBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPage_GetCropBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPage_GetDecodedThumbnailData: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFPage_GetMediaBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPage_GetObject: [['number', 'number'] as const, 'number'] as const,\n  FPDFPage_GetRawThumbnailData: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFPage_GetRotation: [['number'] as const, 'number'] as const,\n  FPDFPage_GetThumbnailAsBitmap: [['number'] as const, 'number'] as const,\n  FPDFPage_GetTrimBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPage_HasFormFieldAtPoint: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFPage_HasTransparency: [['number'] as const, 'boolean'] as const,\n  FPDFPage_InsertClipPath: [['number', 'number'] as const, null] as const,\n  FPDFPage_InsertObject: [['number', 'number'] as const, null] as const,\n  FPDFPage_InsertObjectAtIndex: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPage_New: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFPage_RemoveAnnot: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPage_RemoveObject: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPage_SetArtBox: [['number', 'number', 'number', 'number', 'number'] as const, null] as const,\n  FPDFPage_SetBleedBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDFPage_SetCropBox: [['number', 'number', 'number', 'number', 'number'] as const, null] as const,\n  FPDFPage_SetMediaBox: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDFPage_SetRotation: [['number', 'number'] as const, null] as const,\n  FPDFPage_SetTrimBox: [['number', 'number', 'number', 'number', 'number'] as const, null] as const,\n  FPDFPage_TransformAnnots: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDFPage_TransFormWithClip: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_AddMark: [['number', 'string'] as const, 'number'] as const,\n  FPDFPageObj_CountMarks: [['number'] as const, 'number'] as const,\n  FPDFPageObj_CreateNewPath: [['number', 'number'] as const, 'number'] as const,\n  FPDFPageObj_CreateNewRect: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFPageObj_CreateTextObj: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFPageObj_Destroy: [['number'] as const, null] as const,\n  FPDFPageObj_GetBounds: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObj_GetClipPath: [['number'] as const, 'number'] as const,\n  FPDFPageObj_GetDashArray: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetDashCount: [['number'] as const, 'number'] as const,\n  FPDFPageObj_GetDashPhase: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetFillColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObj_GetIsActive: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetLineCap: [['number'] as const, 'number'] as const,\n  FPDFPageObj_GetLineJoin: [['number'] as const, 'number'] as const,\n  FPDFPageObj_GetMark: [['number', 'number'] as const, 'number'] as const,\n  FPDFPageObj_GetMarkedContentID: [['number'] as const, 'number'] as const,\n  FPDFPageObj_GetMatrix: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetRotatedBounds: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetStrokeColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObj_GetStrokeWidth: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_GetType: [['number'] as const, 'number'] as const,\n  FPDFPageObj_HasTransparency: [['number'] as const, 'boolean'] as const,\n  FPDFPageObj_NewImageObj: [['number'] as const, 'number'] as const,\n  FPDFPageObj_NewTextObj: [['number', 'string', 'number'] as const, 'number'] as const,\n  FPDFPageObj_RemoveMark: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetBlendMode: [['number', 'string'] as const, null] as const,\n  FPDFPageObj_SetDashArray: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetDashPhase: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetFillColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObj_SetIsActive: [['number', 'boolean'] as const, 'boolean'] as const,\n  FPDFPageObj_SetLineCap: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetLineJoin: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetMatrix: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_SetStrokeColor: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObj_SetStrokeWidth: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObj_Transform: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDFPageObj_TransformClipPath: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    null,\n  ] as const,\n  FPDFPageObj_TransformF: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObjMark_CountParams: [['number'] as const, 'number'] as const,\n  FPDFPageObjMark_GetName: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPageObjMark_GetParamBlobValue: [\n    ['number', 'string', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObjMark_GetParamIntValue: [['number', 'string', 'number'] as const, 'boolean'] as const,\n  FPDFPageObjMark_GetParamKey: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObjMark_GetParamStringValue: [\n    ['number', 'string', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObjMark_GetParamValueType: [['number', 'string'] as const, 'number'] as const,\n  FPDFPageObjMark_RemoveParam: [['number', 'number', 'string'] as const, 'boolean'] as const,\n  FPDFPageObjMark_SetBlobParam: [\n    ['number', 'number', 'number', 'string', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObjMark_SetIntParam: [\n    ['number', 'number', 'number', 'string', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPageObjMark_SetStringParam: [\n    ['number', 'number', 'number', 'string', 'string'] as const,\n    'boolean',\n  ] as const,\n  FPDFPath_BezierTo: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFPath_Close: [['number'] as const, 'boolean'] as const,\n  FPDFPath_CountSegments: [['number'] as const, 'number'] as const,\n  FPDFPath_GetDrawMode: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPath_GetPathSegment: [['number', 'number'] as const, 'number'] as const,\n  FPDFPath_LineTo: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPath_MoveTo: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPath_SetDrawMode: [['number', 'number', 'boolean'] as const, 'boolean'] as const,\n  FPDFPathSegment_GetClose: [['number'] as const, 'boolean'] as const,\n  FPDFPathSegment_GetPoint: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFPathSegment_GetType: [['number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetByteRange: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetContents: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetDocMDPPermission: [['number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetReason: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetSubFilter: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFSignatureObj_GetTime: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFText_ClosePage: [['number'] as const, null] as const,\n  FPDFText_CountChars: [['number'] as const, 'number'] as const,\n  FPDFText_CountRects: [['number', 'number', 'number'] as const, 'number'] as const,\n  FPDFText_FindClose: [['number'] as const, null] as const,\n  FPDFText_FindNext: [['number'] as const, 'boolean'] as const,\n  FPDFText_FindPrev: [['number'] as const, 'boolean'] as const,\n  FPDFText_FindStart: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFText_GetBoundedText: [\n    ['number', 'number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFText_GetCharAngle: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetCharBox: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFText_GetCharIndexAtPos: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFText_GetCharIndexFromTextIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetCharOrigin: [['number', 'number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFText_GetFillColor: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFText_GetFontInfo: [\n    ['number', 'number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFText_GetFontSize: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetFontWeight: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetLooseCharBox: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFText_GetMatrix: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFText_GetRect: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFText_GetSchCount: [['number'] as const, 'number'] as const,\n  FPDFText_GetSchResultIndex: [['number'] as const, 'number'] as const,\n  FPDFText_GetStrokeColor: [\n    ['number', 'number', 'number', 'number', 'number', 'number'] as const,\n    'boolean',\n  ] as const,\n  FPDFText_GetText: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFText_GetTextIndexFromCharIndex: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetTextObject: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_GetUnicode: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_HasUnicodeMapError: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_IsGenerated: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_IsHyphen: [['number', 'number'] as const, 'number'] as const,\n  FPDFText_LoadCidType2Font: [\n    ['number', 'number', 'number', 'string', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFText_LoadFont: [\n    ['number', 'number', 'number', 'number', 'boolean'] as const,\n    'number',\n  ] as const,\n  FPDFText_LoadPage: [['number'] as const, 'number'] as const,\n  FPDFText_LoadStandardFont: [['number', 'string'] as const, 'number'] as const,\n  FPDFText_SetCharcodes: [['number', 'number', 'number'] as const, 'boolean'] as const,\n  FPDFText_SetText: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFTextObj_GetFont: [['number'] as const, 'number'] as const,\n  FPDFTextObj_GetFontSize: [['number', 'number'] as const, 'boolean'] as const,\n  FPDFTextObj_GetRenderedBitmap: [\n    ['number', 'number', 'number', 'number'] as const,\n    'number',\n  ] as const,\n  FPDFTextObj_GetText: [['number', 'number', 'number', 'number'] as const, 'number'] as const,\n  FPDFTextObj_GetTextRenderMode: [['number'] as const, 'number'] as const,\n  FPDFTextObj_SetTextRenderMode: [['number', 'number'] as const, 'boolean'] as const,\n  PDFiumExt_CloseFileWriter: [['number'] as const, null] as const,\n  PDFiumExt_CloseFormFillInfo: [['number'] as const, null] as const,\n  PDFiumExt_ExitFormFillEnvironment: [['number'] as const, null] as const,\n  PDFiumExt_GetFileWriterData: [['number', 'number', 'number'] as const, 'number'] as const,\n  PDFiumExt_GetFileWriterSize: [['number'] as const, 'number'] as const,\n  PDFiumExt_Init: [[] as const, null] as const,\n  PDFiumExt_InitFormFillEnvironment: [['number', 'number'] as const, 'number'] as const,\n  PDFiumExt_OpenFileWriter: [[] as const, 'number'] as const,\n  PDFiumExt_OpenFormFillInfo: [[] as const, 'number'] as const,\n  PDFiumExt_SaveAsCopy: [['number', 'number'] as const, 'number'] as const,\n} as const;\n","import type { PdfiumModule } from './vendor/pdfium';\nimport type { PdfiumRuntimeMethods } from './vendor/runtime-methods';\nimport { functions } from './vendor/functions';\n\nexport type { PdfiumModule } from './vendor/pdfium';\nexport type { PdfiumRuntimeMethods } from './vendor/runtime-methods';\n\nexport const DEFAULT_PDFIUM_WASM_URL: string =\n  'https://cdn.jsdelivr.net/npm/@embedpdf/pdfium@__PDFIUM_VERSION__/dist/pdfium.wasm';\n\n/**\n * Name of JavaScript type\n */\nexport type Type = null | 'number' | 'string' | 'boolean' | null;\n\n/**\n * Type of wrapped function\n */\nexport type CWrappedFunc<I extends readonly Type[], R extends Type> = (\n  ...args: NamesToType<I>\n) => NameToType<R>;\n\n/**\n * Convert name to type\n */\nexport type NameToType<R extends Type> = R extends 'number'\n  ? number\n  : R extends 'string'\n    ? string\n    : R extends 'boolean'\n      ? boolean\n      : R extends null\n        ? null\n        : never;\n\n/**\n * Convert array of names to JavaScript types\n */\nexport type NamesToType<T extends readonly Type[]> = T extends []\n  ? []\n  : T extends readonly [infer U extends Type]\n    ? [NameToType<U>]\n    : T extends readonly [infer U extends Type, ...infer Rest extends readonly Type[]]\n      ? [NameToType<U>, ...NamesToType<Rest>]\n      : [];\n\nexport type Functions = typeof functions;\n\nexport type Wrapped<T extends Record<string, readonly [readonly Type[], Type]>> = {\n  [P in keyof T]: CWrappedFunc<T[P][0], T[P][1]>;\n};\n\nexport type Methods = Wrapped<Functions>;\n\nexport type WrappedPdfiumModule = {\n  pdfium: PdfiumModule & PdfiumRuntimeMethods;\n} & Methods;\n\nexport async function createWrappedModule(\n  pdfium: PdfiumModule & PdfiumRuntimeMethods,\n): Promise<WrappedPdfiumModule> {\n  const module: WrappedPdfiumModule = {\n    pdfium,\n  } as WrappedPdfiumModule;\n\n  for (const key in functions) {\n    const ident = key as keyof Functions;\n    const args = functions[ident][0];\n    const ret = functions[ident][1];\n    // @ts-ignore\n    module[ident] = pdfium.cwrap(key, ret, args);\n  }\n\n  return module;\n}\n","import createPdfium from './vendor/pdfium.js';\nimport type { PdfiumRuntimeMethods } from './vendor/runtime-methods';\nimport { createWrappedModule, type PdfiumModule, type WrappedPdfiumModule } from './base';\n\n// Re-export all types from base\nexport type {\n  PdfiumModule,\n  PdfiumRuntimeMethods,\n  Type,\n  CWrappedFunc,\n  NameToType,\n  NamesToType,\n  Functions,\n  Wrapped,\n  Methods,\n  WrappedPdfiumModule,\n} from './base';\n\nexport { DEFAULT_PDFIUM_WASM_URL } from './base';\n\nexport async function init(moduleOverrides: Partial<PdfiumModule>): Promise<WrappedPdfiumModule> {\n  const pdfium = await createPdfium<PdfiumRuntimeMethods>(moduleOverrides);\n  return createWrappedModule(pdfium);\n}\n","import { Matrix, Rotation, Rect, Size } from '@embedpdf/models';\nimport { PdfiumRuntimeMethods, PdfiumModule } from '@embedpdf/pdfium';\n\n/**\n * Read string from WASM heap\n * @param wasmModule - pdfium wasm module instance\n * @param readChars - function to read chars\n * @param parseChars - function to parse chars\n * @param defaultLength - default length of chars that needs to read\n * @returns string from the heap\n *\n * @public\n */\nexport function readString(\n  wasmModule: PdfiumRuntimeMethods & PdfiumModule,\n  readChars: (buffer: number, bufferLength: number) => number,\n  parseChars: (buffer: number) => string,\n  defaultLength: number = 100,\n): string {\n  let buffer = wasmModule.wasmExports.malloc(defaultLength);\n  for (let i = 0; i < defaultLength; i++) {\n    wasmModule.HEAP8[buffer + i] = 0;\n  }\n  const actualLength = readChars(buffer, defaultLength);\n  let str: string;\n  if (actualLength > defaultLength) {\n    wasmModule.wasmExports.free(buffer);\n    buffer = wasmModule.wasmExports.malloc(actualLength);\n    for (let i = 0; i < actualLength; i++) {\n      wasmModule.HEAP8[buffer + i] = 0;\n    }\n    readChars(buffer, actualLength);\n    str = parseChars(buffer);\n  } else {\n    str = parseChars(buffer);\n  }\n  wasmModule.wasmExports.free(buffer);\n\n  return str;\n}\n/**\n * Read arraybyffer from WASM heap\n * @param wasmModule - pdfium wasm module instance\n * @param readChars - function to read chars\n * @returns arraybuffer from the heap\n *\n * @public\n */\nexport function readArrayBuffer(\n  wasmModule: PdfiumRuntimeMethods & PdfiumModule,\n  readChars: (buffer: number, bufferLength: number) => number,\n): ArrayBuffer {\n  const bufferSize = readChars(0, 0);\n\n  const bufferPtr = wasmModule.wasmExports.malloc(bufferSize);\n\n  readChars(bufferPtr, bufferSize);\n\n  const arrayBuffer = new ArrayBuffer(bufferSize);\n  const view = new DataView(arrayBuffer);\n\n  for (let i = 0; i < bufferSize; i++) {\n    view.setInt8(i, wasmModule.getValue(bufferPtr + i, 'i8'));\n  }\n\n  wasmModule.wasmExports.free(bufferPtr);\n\n  return arrayBuffer;\n}\n\nconst RESERVED_INFO_KEYS = new Set([\n  'Title',\n  'Author',\n  'Subject',\n  'Keywords',\n  'Producer',\n  'Creator',\n  'CreationDate',\n  'ModDate',\n  'Trapped',\n]);\n\nexport function isValidCustomKey(key: string): boolean {\n  // PDF Name object rules are looser than strings here, but keep it sane:\n  // - non-empty ASCII, no embedded NULs, avoid leading slash\n  if (!key || key.length > 127) return false;\n  if (RESERVED_INFO_KEYS.has(key)) return false;\n  if (key[0] === '/') return false;\n  // Keep ASCII-ish to avoid surprises; relax if you need.\n  for (let i = 0; i < key.length; i++) {\n    const c = key.charCodeAt(i);\n    if (c < 0x20 || c > 0x7e) return false;\n  }\n  return true;\n}\n\ninterface FormDrawParams {\n  startX: number;\n  startY: number;\n  formsWidth: number;\n  formsHeight: number;\n  scaleX: number;\n  scaleY: number;\n}\n\nexport function computeFormDrawParams(\n  matrix: Matrix,\n  rect: Rect,\n  pageSize: Size,\n  rotation: Rotation,\n): FormDrawParams {\n  const rectLeft = rect.origin.x;\n  const rectBottom = rect.origin.y;\n  const rectRight = rectLeft + rect.size.width;\n  const rectTop = rectBottom + rect.size.height;\n  const pageWidth = pageSize.width;\n  const pageHeight = pageSize.height;\n\n  // Extract the per-axis scale that the render matrix applies.\n  const scaleX = Math.hypot(matrix.a, matrix.b);\n  const scaleY = Math.hypot(matrix.c, matrix.d);\n  const swap = (rotation & 1) === 1;\n\n  const formsWidth = swap\n    ? Math.max(1, Math.round(pageHeight * scaleX))\n    : Math.max(1, Math.round(pageWidth * scaleX));\n  const formsHeight = swap\n    ? Math.max(1, Math.round(pageWidth * scaleY))\n    : Math.max(1, Math.round(pageHeight * scaleY));\n\n  let startX: number;\n  let startY: number;\n  switch (rotation) {\n    case Rotation.Degree0:\n      startX = -Math.round(rectLeft * scaleX);\n      startY = -Math.round(rectBottom * scaleY);\n      break;\n    case Rotation.Degree90:\n      startX = Math.round((rectTop - pageHeight) * scaleX);\n      startY = -Math.round(rectLeft * scaleY);\n      break;\n    case Rotation.Degree180:\n      startX = Math.round((rectRight - pageWidth) * scaleX);\n      startY = Math.round((rectTop - pageHeight) * scaleY);\n      break;\n    case Rotation.Degree270:\n      startX = -Math.round(rectBottom * scaleX);\n      startY = Math.round((rectRight - pageWidth) * scaleY);\n      break;\n    default:\n      startX = -Math.round(rectLeft * scaleX);\n      startY = -Math.round(rectBottom * scaleY);\n      break;\n  }\n\n  return { startX, startY, formsWidth, formsHeight, scaleX, scaleY };\n}\n","/**\n * Branded types for better type safety\n * @public\n */\n\ndeclare const PointerBrand: unique symbol;\n\nexport type WasmPointer = number & { [PointerBrand]: never };\n\n// Helper functions to create branded types\nexport const WasmPointer = (ptr: number): WasmPointer => ptr as WasmPointer;\n","import { WrappedPdfiumModule } from '@embedpdf/pdfium';\nimport { MemoryManager } from './core/memory-manager';\nimport { WasmPointer } from './types/branded';\n\nexport interface CacheConfig {\n  /** Time-to-live for pages in milliseconds (default: 5000ms) */\n  pageTtl?: number;\n  /** Maximum number of pages to keep in cache per document (default: 50) */\n  maxPagesPerDocument?: number;\n}\n\nconst DEFAULT_CONFIG: Required<CacheConfig> = {\n  pageTtl: 5000, // 5 seconds\n  maxPagesPerDocument: 10,\n};\n\nexport class PdfCache {\n  private readonly docs = new Map<string, DocumentContext>();\n  private readonly config: Required<CacheConfig>;\n\n  constructor(\n    private readonly pdfium: WrappedPdfiumModule,\n    private readonly memoryManager: MemoryManager,\n    config: CacheConfig = {},\n  ) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n  }\n\n  /** Open (or re-use) a document */\n  setDocument(id: string, filePtr: number, docPtr: number) {\n    let ctx = this.docs.get(id);\n    if (!ctx) {\n      ctx = new DocumentContext(filePtr, docPtr, this.pdfium, this.memoryManager, this.config);\n      this.docs.set(id, ctx);\n    }\n  }\n\n  /** Retrieve the DocumentContext for a given PdfDocumentObject */\n  getContext(docId: string): DocumentContext | undefined {\n    return this.docs.get(docId);\n  }\n\n  /** Close & fully release a document and all its pages */\n  closeDocument(docId: string): boolean {\n    const ctx = this.docs.get(docId);\n    if (!ctx) return false;\n    ctx.dispose(); // tears down pages first, then FPDF_CloseDocument, free()\n    this.docs.delete(docId);\n    return true;\n  }\n\n  /** Close all documents */\n  closeAllDocuments(): void {\n    for (const ctx of this.docs.values()) {\n      ctx.dispose();\n    }\n    this.docs.clear();\n  }\n\n  /** Update cache configuration for all existing documents */\n  updateConfig(newConfig: CacheConfig): void {\n    Object.assign(this.config, newConfig);\n    // Update config for all existing document contexts\n    for (const ctx of this.docs.values()) {\n      ctx.updateConfig(this.config);\n    }\n  }\n\n  /** Get current cache statistics */\n  getCacheStats(): {\n    documents: number;\n    totalPages: number;\n    pagesByDocument: Record<string, number>;\n  } {\n    const pagesByDocument: Record<string, number> = {};\n    let totalPages = 0;\n\n    for (const [docId, ctx] of this.docs.entries()) {\n      const pageCount = ctx.getCacheSize();\n      pagesByDocument[docId] = pageCount;\n      totalPages += pageCount;\n    }\n\n    return {\n      documents: this.docs.size,\n      totalPages,\n      pagesByDocument,\n    };\n  }\n}\n\nexport class DocumentContext {\n  private readonly pageCache: PageCache;\n\n  constructor(\n    public readonly filePtr: number,\n    public readonly docPtr: number,\n    pdfium: WrappedPdfiumModule,\n    private readonly memoryManager: MemoryManager,\n    config: Required<CacheConfig>,\n  ) {\n    this.pageCache = new PageCache(pdfium, docPtr, config);\n  }\n\n  /** Main accessor for pages */\n  acquirePage(pageIdx: number): PageContext {\n    return this.pageCache.acquire(pageIdx);\n  }\n\n  /** Scoped accessor for one-off / bulk operations */\n  borrowPage<T>(pageIdx: number, fn: (ctx: PageContext) => T): T {\n    return this.pageCache.borrowPage(pageIdx, fn);\n  }\n\n  /** Update cache configuration */\n  updateConfig(config: Required<CacheConfig>): void {\n    this.pageCache.updateConfig(config);\n  }\n\n  /** Get number of pages currently in cache */\n  getCacheSize(): number {\n    return this.pageCache.size();\n  }\n\n  /** Tear down all pages + this document */\n  dispose(): void {\n    // 1 release all pages (with their TTL or immediate)\n    this.pageCache.forceReleaseAll();\n\n    // 2 close the PDFium document\n    this.pageCache.pdf.FPDF_CloseDocument(this.docPtr);\n\n    // 3 free the file handle through memory manager for proper tracking\n    this.memoryManager.free(WasmPointer(this.filePtr));\n  }\n}\n\nexport class PageCache {\n  private readonly cache = new Map<number, PageContext>();\n  private readonly accessOrder: number[] = []; // LRU tracking\n  private config: Required<CacheConfig>;\n\n  constructor(\n    public readonly pdf: WrappedPdfiumModule,\n    private readonly docPtr: number,\n    config: Required<CacheConfig>,\n  ) {\n    this.config = config;\n  }\n\n  acquire(pageIdx: number): PageContext {\n    let ctx = this.cache.get(pageIdx);\n\n    if (!ctx) {\n      // Ensure we don't exceed max cache size\n      this.evictIfNeeded();\n\n      const pagePtr = this.pdf.FPDF_LoadPage(this.docPtr, pageIdx);\n      ctx = new PageContext(this.pdf, this.docPtr, pageIdx, pagePtr, this.config.pageTtl, () => {\n        this.cache.delete(pageIdx);\n        this.removeFromAccessOrder(pageIdx);\n      });\n      this.cache.set(pageIdx, ctx);\n    }\n\n    // Update LRU order\n    this.updateAccessOrder(pageIdx);\n\n    ctx.clearExpiryTimer(); // cancel any pending teardown\n    ctx.bumpRefCount(); // bump refcount\n    return ctx;\n  }\n\n  /** Helper: run a function \"scoped\" to a page.\n   *     if the page was already cached   .release() (keeps TTL logic)\n   *     if the page was loaded just now  .disposeImmediate() (free right away)\n   */\n  borrowPage<T>(pageIdx: number, fn: (ctx: PageContext) => T): T {\n    const existed = this.cache.has(pageIdx);\n    const ctx = this.acquire(pageIdx);\n    try {\n      return fn(ctx);\n    } finally {\n      existed ? ctx.release() : ctx.disposeImmediate();\n    }\n  }\n\n  forceReleaseAll(): void {\n    for (const ctx of this.cache.values()) {\n      ctx.disposeImmediate();\n    }\n    this.cache.clear();\n    this.accessOrder.length = 0;\n  }\n\n  /** Update cache configuration */\n  updateConfig(config: Required<CacheConfig>): void {\n    this.config = config;\n\n    // Update TTL for all existing pages\n    for (const ctx of this.cache.values()) {\n      ctx.updateTtl(config.pageTtl);\n    }\n\n    // Evict pages if new max size is smaller\n    this.evictIfNeeded();\n  }\n\n  /** Get current cache size */\n  size(): number {\n    return this.cache.size;\n  }\n\n  /** Evict least recently used pages if cache exceeds max size */\n  private evictIfNeeded(): void {\n    while (this.cache.size >= this.config.maxPagesPerDocument) {\n      const lruPageIdx = this.accessOrder[0];\n      if (lruPageIdx !== undefined) {\n        const ctx = this.cache.get(lruPageIdx);\n        if (ctx) {\n          // Only evict if not currently in use (refCount === 0)\n          if (ctx.getRefCount() === 0) {\n            ctx.disposeImmediate();\n            // onFinalDispose callback will remove from cache and accessOrder\n          } else {\n            // If the LRU page is in use, we can't evict it\n            // Move to a different strategy or break to avoid infinite loop\n            break;\n          }\n        } else {\n          // Page not in cache but in access order - clean up\n          this.removeFromAccessOrder(lruPageIdx);\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  /** Update the access order for LRU tracking */\n  private updateAccessOrder(pageIdx: number): void {\n    // Remove from current position\n    this.removeFromAccessOrder(pageIdx);\n    // Add to end (most recently used)\n    this.accessOrder.push(pageIdx);\n  }\n\n  /** Remove a page from the access order array */\n  private removeFromAccessOrder(pageIdx: number): void {\n    const index = this.accessOrder.indexOf(pageIdx);\n    if (index > -1) {\n      this.accessOrder.splice(index, 1);\n    }\n  }\n}\n\nexport class PageContext {\n  private refCount = 0;\n  private expiryTimer?: ReturnType<typeof setTimeout>;\n  private disposed = false;\n  private ttl: number;\n\n  // lazy helpers\n  private textPagePtr?: number;\n  private formInfoPtr?: number;\n  private formHandle?: number;\n\n  constructor(\n    private readonly pdf: WrappedPdfiumModule,\n    public readonly docPtr: number,\n    public readonly pageIdx: number,\n    public readonly pagePtr: number,\n    ttl: number,\n    private readonly onFinalDispose: () => void,\n  ) {\n    this.ttl = ttl;\n  }\n\n  /** Called by PageCache.acquire() */\n  bumpRefCount() {\n    if (this.disposed) throw new Error('Context already disposed');\n    this.refCount++;\n  }\n\n  /** Get current reference count */\n  getRefCount(): number {\n    return this.refCount;\n  }\n\n  /** Called by PageCache.acquire() */\n  clearExpiryTimer() {\n    if (this.expiryTimer) {\n      clearTimeout(this.expiryTimer);\n      this.expiryTimer = undefined;\n    }\n  }\n\n  /** Update TTL configuration */\n  updateTtl(newTtl: number): void {\n    this.ttl = newTtl;\n    // If there's an active timer and ref count is 0, restart with new TTL\n    if (this.expiryTimer && this.refCount === 0) {\n      this.clearExpiryTimer();\n      this.expiryTimer = setTimeout(() => this.disposeImmediate(), this.ttl);\n    }\n  }\n\n  /** Called by PageCache.release() internally */\n  release() {\n    if (this.disposed) return;\n    this.refCount--;\n    if (this.refCount === 0) {\n      // schedule the one-and-only timer for the page\n      this.expiryTimer = setTimeout(() => this.disposeImmediate(), this.ttl);\n    }\n  }\n\n  /** Tear down _all_ sub-pointers & the page. */\n  disposeImmediate() {\n    if (this.disposed) return;\n    this.disposed = true;\n\n    // Clear any pending timer\n    this.clearExpiryTimer();\n\n    // 2 close text-page if opened\n    if (this.textPagePtr !== undefined) {\n      this.pdf.FPDFText_ClosePage(this.textPagePtr);\n    }\n\n    // 3 close form-fill if opened\n    if (this.formHandle !== undefined) {\n      this.pdf.FORM_OnBeforeClosePage(this.pagePtr, this.formHandle);\n      this.pdf.PDFiumExt_ExitFormFillEnvironment(this.formHandle);\n    }\n    if (this.formInfoPtr !== undefined) {\n      this.pdf.PDFiumExt_CloseFormFillInfo(this.formInfoPtr);\n    }\n\n    // 4 finally close the page itself\n    this.pdf.FPDF_ClosePage(this.pagePtr);\n\n    // 5 remove from the cache\n    this.onFinalDispose();\n  }\n\n  //  public helpers \n\n  /** Always safe: opens (once) and returns the text-page ptr. */\n  getTextPage(): number {\n    this.ensureAlive();\n    if (this.textPagePtr === undefined) {\n      this.textPagePtr = this.pdf.FPDFText_LoadPage(this.pagePtr);\n    }\n    return this.textPagePtr;\n  }\n\n  /** Always safe: opens (once) and returns the form-fill handle. */\n  getFormHandle(): number {\n    this.ensureAlive();\n    if (this.formHandle === undefined) {\n      this.formInfoPtr = this.pdf.PDFiumExt_OpenFormFillInfo();\n      this.formHandle = this.pdf.PDFiumExt_InitFormFillEnvironment(this.docPtr, this.formInfoPtr);\n      this.pdf.FORM_OnAfterLoadPage(this.pagePtr, this.formHandle);\n    }\n    return this.formHandle;\n  }\n\n  /**\n   * Safely execute `fn` with an annotation pointer.\n   * Pointer is ALWAYS closed afterwards.\n   */\n  withAnnotation<T>(annotIdx: number, fn: (annotPtr: number) => T): T {\n    this.ensureAlive();\n    const annotPtr = this.pdf.FPDFPage_GetAnnot(this.pagePtr, annotIdx);\n    try {\n      return fn(annotPtr);\n    } finally {\n      this.pdf.FPDFPage_CloseAnnot(annotPtr);\n    }\n  }\n\n  private ensureAlive() {\n    if (this.disposed) throw new Error('PageContext already disposed');\n  }\n}\n","/**\n * System limits and safety thresholds for PDFium engine operations\n *\n * These limits are designed to prevent:\n * - Memory exhaustion\n * - Browser crashes\n * - DoS attacks\n * - WASM heap overflow\n * - Unreasonable resource usage\n *\n * @module constants/limits\n */\n\n/**\n * Memory allocation limits\n */\nexport const MEMORY_LIMITS = {\n  /** Maximum total memory that can be allocated (2GB) */\n  MAX_TOTAL_MEMORY: 2 * 1024 * 1024 * 1024,\n} as const;\n\n/**\n * All limits combined for easy access\n */\nexport const LIMITS = {\n  MEMORY: MEMORY_LIMITS,\n} as const;\n\nexport type Limits = typeof LIMITS;\n","import { WasmPointer } from '../types/branded';\nimport { LIMITS } from '../constants/limits';\nimport type { WrappedPdfiumModule } from '@embedpdf/pdfium';\nimport { Logger } from '@embedpdf/models';\n\nconst LOG_SOURCE = 'PDFiumEngine';\nconst LOG_CATEGORY = 'MemoryManager';\n\ninterface Allocation {\n  ptr: WasmPointer;\n  size: number;\n  timestamp: number;\n  stack?: string;\n}\n\nexport class MemoryManager {\n  private allocations = new Map<number, Allocation>();\n  private totalAllocated = 0;\n\n  constructor(\n    private pdfiumModule: WrappedPdfiumModule,\n    private logger: Logger,\n  ) {}\n\n  /**\n   * Allocate memory with tracking and validation\n   */\n  malloc(size: number): WasmPointer {\n    // Check total memory usage\n    if (this.totalAllocated + size > LIMITS.MEMORY.MAX_TOTAL_MEMORY) {\n      throw new Error(\n        `Total memory usage would exceed limit: ` +\n          `${this.totalAllocated + size} > ${LIMITS.MEMORY.MAX_TOTAL_MEMORY}`,\n      );\n    }\n\n    const ptr = this.pdfiumModule.pdfium.wasmExports.malloc(size);\n\n    if (!ptr) {\n      throw new Error(`Failed to allocate ${size} bytes`);\n    }\n\n    // Track allocation\n    const allocation: Allocation = {\n      ptr: WasmPointer(ptr),\n      size,\n      timestamp: Date.now(),\n      stack: this.logger.isEnabled('debug') ? new Error().stack : undefined,\n    };\n\n    this.allocations.set(ptr, allocation);\n    this.totalAllocated += size;\n\n    return WasmPointer(ptr);\n  }\n\n  /**\n   * Free memory with validation\n   */\n  free(ptr: WasmPointer): void {\n    const allocation = this.allocations.get(ptr);\n    if (!allocation) {\n      this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Freeing untracked pointer: ${ptr}`);\n    } else {\n      this.totalAllocated -= allocation.size;\n      this.allocations.delete(ptr);\n    }\n\n    this.pdfiumModule.pdfium.wasmExports.free(ptr);\n  }\n\n  /**\n   * Get memory statistics\n   */\n  getStats() {\n    return {\n      totalAllocated: this.totalAllocated,\n      allocationCount: this.allocations.size,\n      allocations: this.logger.isEnabled('debug') ? Array.from(this.allocations.values()) : [],\n    };\n  }\n\n  /**\n   * Check for memory leaks\n   */\n  checkLeaks(): void {\n    if (this.allocations.size > 0) {\n      this.logger.warn(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `Potential memory leak: ${this.allocations.size} unfreed allocations`,\n      );\n\n      for (const [ptr, alloc] of this.allocations) {\n        this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `  - ${ptr}: ${alloc.size} bytes`, alloc.stack);\n      }\n    }\n  }\n}\n","import { FontCharset, Logger, NoopLogger } from '@embedpdf/models';\nimport type { WrappedPdfiumModule } from '@embedpdf/pdfium';\n\n// Re-export FontCharset for convenience\nexport { FontCharset };\n\n/**\n * A single font variant with weight and italic information\n */\nexport interface FontVariant {\n  url: string;\n  weight?: number; // 100-900, default 400\n  italic?: boolean; // default false\n}\n\n/**\n * Font entry can be:\n * - A simple string URL (uses weight 400, non-italic)\n * - A single FontVariant\n * - An array of FontVariants for multiple weights/styles\n */\nexport type FontEntry = string | FontVariant | FontVariant[];\n\n/**\n * Custom font loader function type\n * Used to load font data from custom sources (e.g., file system in Node.js)\n *\n * @param fontPath - The font path/URL to load\n * @returns The font data as Uint8Array, or null if loading failed\n */\nexport type FontLoader = (fontPath: string) => Uint8Array | null;\n\n/**\n * Configuration for fallback fonts\n * Maps charset values to font URLs or font variant configurations\n */\nexport interface FontFallbackConfig {\n  /**\n   * Map of charset to font entry\n   * Can be a simple URL string, a FontVariant, or an array of FontVariants\n   */\n  fonts: Partial<Record<FontCharset, FontEntry>>;\n\n  /**\n   * Optional default font entry for unspecified charsets\n   */\n  defaultFont?: FontEntry;\n\n  /**\n   * Base URL to prepend to relative font URLs (browser)\n   */\n  baseUrl?: string;\n\n  /**\n   * Custom font loader function\n   *\n   * When provided, this function is called to load font data instead of\n   * the default XMLHttpRequest-based loader. This is useful for:\n   * - Node.js environments (use fs.readFileSync)\n   * - Custom caching strategies\n   * - Loading from alternative sources\n   *\n   * @example Node.js usage:\n   * ```typescript\n   * import { readFileSync } from 'fs';\n   * import { join } from 'path';\n   *\n   * const fontFallback = {\n   *   fonts: { [FontCharset.SHIFTJIS]: 'NotoSansJP-Regular.otf' },\n   *   fontLoader: (fontPath) => {\n   *     try {\n   *       return new Uint8Array(readFileSync(join('/fonts', fontPath)));\n   *     } catch {\n   *       return null;\n   *     }\n   *   },\n   * };\n   * ```\n   */\n  fontLoader?: FontLoader;\n}\n\ninterface FontHandle {\n  id: number;\n  charset: number;\n  weight: number;\n  italic: boolean;\n  url: string;\n  data: Uint8Array | null;\n}\n\n/**\n * FPDF_SYSFONTINFO struct layout (32-bit WASM pointers)\n *\n * struct FPDF_SYSFONTINFO {\n *   int version;                     // offset 0,  size 4\n *   void (*Release)(...);            // offset 4,  size 4\n *   void (*EnumFonts)(...);          // offset 8,  size 4\n *   void* (*MapFont)(...);           // offset 12, size 4\n *   void* (*GetFont)(...);           // offset 16, size 4\n *   unsigned long (*GetFontData)(...);// offset 20, size 4\n *   unsigned long (*GetFaceName)(...);// offset 24, size 4\n *   int (*GetFontCharset)(...);      // offset 28, size 4\n *   void (*DeleteFont)(...);         // offset 32, size 4\n * };\n * Total size: 36 bytes\n */\nconst SYSFONTINFO_SIZE = 36;\nconst OFFSET_VERSION = 0;\nconst OFFSET_RELEASE = 4;\nconst OFFSET_ENUMFONTS = 8;\nconst OFFSET_MAPFONT = 12;\nconst OFFSET_GETFONT = 16;\nconst OFFSET_GETFONTDATA = 20;\nconst OFFSET_GETFACENAME = 24;\nconst OFFSET_GETFONTCHARSET = 28;\nconst OFFSET_DELETEFONT = 32;\n\nconst LOG_SOURCE = 'pdfium';\nconst LOG_CATEGORY = 'font-fallback';\n\n/**\n * Font fallback manager for PDFium - Pure TypeScript Implementation\n *\n * This class handles on-demand font loading when PDFium encounters\n * text that requires fonts not embedded in the PDF.\n *\n * The implementation creates the FPDF_SYSFONTINFO struct entirely\n * in JavaScript using Emscripten's addFunction API.\n */\nexport class FontFallbackManager {\n  private readonly fontConfig: FontFallbackConfig;\n  private readonly logger: Logger;\n  private readonly fontHandles: Map<number, FontHandle> = new Map();\n  private readonly fontCache: Map<string, Uint8Array> = new Map();\n  private nextHandleId = 1;\n  private module: WrappedPdfiumModule | null = null;\n  private enabled = false;\n\n  // Pointers for cleanup\n  private structPtr: number = 0;\n  private releaseFnPtr: number = 0;\n  private enumFontsFnPtr: number = 0;\n  private mapFontFnPtr: number = 0;\n  private getFontFnPtr: number = 0;\n  private getFontDataFnPtr: number = 0;\n  private getFaceNameFnPtr: number = 0;\n  private getFontCharsetFnPtr: number = 0;\n  private deleteFontFnPtr: number = 0;\n\n  constructor(config: FontFallbackConfig, logger: Logger = new NoopLogger()) {\n    this.fontConfig = config;\n    this.logger = logger;\n  }\n\n  /**\n   * Initialize the font fallback system and attach to PDFium module\n   */\n  initialize(module: WrappedPdfiumModule): void {\n    if (this.enabled) {\n      this.logger.warn(LOG_SOURCE, LOG_CATEGORY, 'Font fallback already initialized');\n      return;\n    }\n\n    this.module = module;\n    const pdfium = module.pdfium;\n\n    // Check if addFunction is available\n    if (typeof pdfium.addFunction !== 'function') {\n      this.logger.error(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'addFunction not available. Make sure WASM is compiled with -sALLOW_TABLE_GROWTH',\n      );\n      return;\n    }\n\n    try {\n      // Allocate the FPDF_SYSFONTINFO struct\n      this.structPtr = pdfium.wasmExports.malloc(SYSFONTINFO_SIZE);\n      if (!this.structPtr) {\n        throw new Error('Failed to allocate FPDF_SYSFONTINFO struct');\n      }\n\n      // Zero out the struct\n      for (let i = 0; i < SYSFONTINFO_SIZE; i++) {\n        pdfium.setValue(this.structPtr + i, 0, 'i8');\n      }\n\n      // Create function pointers for each callback\n      // Signatures: 'v' = void, 'i' = int32, 'ii' = int32 int32, etc.\n      // For pointers, use 'i' (they're 32-bit in WASM)\n\n      // Release: void (*)(FPDF_SYSFONTINFO* pThis)\n      this.releaseFnPtr = pdfium.addFunction((_pThis: number) => {\n        // Nothing to do - we manage cleanup ourselves\n      }, 'vi');\n\n      // EnumFonts: void (*)(FPDF_SYSFONTINFO* pThis, void* pMapper)\n      this.enumFontsFnPtr = pdfium.addFunction((_pThis: number, _pMapper: number) => {\n        // We don't enumerate fonts - PDFium will call MapFont when needed\n      }, 'vii');\n\n      // MapFont: void* (*)(FPDF_SYSFONTINFO* pThis, int weight, FPDF_BOOL bItalic,\n      //                    int charset, int pitch_family, const char* face, FPDF_BOOL* bExact)\n      // Signature: return (i) + 7 params (iiiiiii) = 'iiiiiiii' (8 chars)\n      this.mapFontFnPtr = pdfium.addFunction(\n        (\n          _pThis: number,\n          weight: number,\n          bItalic: number,\n          charset: number,\n          pitchFamily: number,\n          facePtr: number,\n          bExactPtr: number,\n        ) => {\n          const face = facePtr ? pdfium.UTF8ToString(facePtr) : '';\n          const handle = this.mapFont(weight, bItalic, charset, pitchFamily, face);\n\n          // Set bExact to 0 (false) - it's a fallback, not exact match\n          if (bExactPtr) {\n            pdfium.setValue(bExactPtr, 0, 'i32');\n          }\n\n          return handle;\n        },\n        'iiiiiiii',\n      );\n\n      // GetFont: void* (*)(FPDF_SYSFONTINFO* pThis, const char* face)\n      this.getFontFnPtr = pdfium.addFunction((_pThis: number, facePtr: number) => {\n        const face = facePtr ? pdfium.UTF8ToString(facePtr) : '';\n        // Delegate to mapFont with default parameters\n        return this.mapFont(400, 0, 0, 0, face);\n      }, 'iii');\n\n      // GetFontData: unsigned long (*)(FPDF_SYSFONTINFO* pThis, void* hFont,\n      //                                unsigned int table, unsigned char* buffer, unsigned long buf_size)\n      this.getFontDataFnPtr = pdfium.addFunction(\n        (_pThis: number, hFont: number, table: number, buffer: number, bufSize: number) => {\n          return this.getFontData(hFont, table, buffer, bufSize);\n        },\n        'iiiiii',\n      );\n\n      // GetFaceName: unsigned long (*)(FPDF_SYSFONTINFO* pThis, void* hFont, char* buffer, unsigned long buf_size)\n      this.getFaceNameFnPtr = pdfium.addFunction(\n        (_pThis: number, _hFont: number, _buffer: number, _bufSize: number) => {\n          // We don't track face names\n          return 0;\n        },\n        'iiiii',\n      );\n\n      // GetFontCharset: int (*)(FPDF_SYSFONTINFO* pThis, void* hFont)\n      this.getFontCharsetFnPtr = pdfium.addFunction((_pThis: number, hFont: number) => {\n        const handle = this.fontHandles.get(hFont);\n        return handle?.charset ?? 0;\n      }, 'iii');\n\n      // DeleteFont: void (*)(FPDF_SYSFONTINFO* pThis, void* hFont)\n      this.deleteFontFnPtr = pdfium.addFunction((_pThis: number, hFont: number) => {\n        this.deleteFont(hFont);\n      }, 'vii');\n\n      // Fill in the struct\n      pdfium.setValue(this.structPtr + OFFSET_VERSION, 1, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_RELEASE, this.releaseFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_ENUMFONTS, this.enumFontsFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_MAPFONT, this.mapFontFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_GETFONT, this.getFontFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_GETFONTDATA, this.getFontDataFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_GETFACENAME, this.getFaceNameFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_GETFONTCHARSET, this.getFontCharsetFnPtr, 'i32');\n      pdfium.setValue(this.structPtr + OFFSET_DELETEFONT, this.deleteFontFnPtr, 'i32');\n\n      // Register with PDFium\n      module.FPDF_SetSystemFontInfo(this.structPtr);\n      this.enabled = true;\n\n      this.logger.info(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'Font fallback system initialized (pure TypeScript)',\n        Object.keys(this.fontConfig.fonts),\n      );\n    } catch (error) {\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, 'Failed to initialize font fallback', error);\n      this.cleanup();\n      throw error;\n    }\n  }\n\n  /**\n   * Disable the font fallback system and clean up resources\n   */\n  disable(): void {\n    if (!this.enabled || !this.module) {\n      return;\n    }\n\n    // Unregister from PDFium\n    this.module.FPDF_SetSystemFontInfo(0);\n    this.cleanup();\n    this.enabled = false;\n\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'Font fallback system disabled');\n  }\n\n  /**\n   * Clean up allocated resources\n   */\n  private cleanup(): void {\n    if (!this.module) return;\n\n    const pdfium = this.module.pdfium;\n\n    // Free the struct\n    if (this.structPtr) {\n      pdfium.wasmExports.free(this.structPtr);\n      this.structPtr = 0;\n    }\n\n    // Remove function pointers\n    const removeIfExists = (ptr: number) => {\n      if (ptr && typeof pdfium.removeFunction === 'function') {\n        try {\n          pdfium.removeFunction(ptr);\n        } catch {\n          // Ignore errors - function might already be removed\n        }\n      }\n    };\n\n    removeIfExists(this.releaseFnPtr);\n    removeIfExists(this.enumFontsFnPtr);\n    removeIfExists(this.mapFontFnPtr);\n    removeIfExists(this.getFontFnPtr);\n    removeIfExists(this.getFontDataFnPtr);\n    removeIfExists(this.getFaceNameFnPtr);\n    removeIfExists(this.getFontCharsetFnPtr);\n    removeIfExists(this.deleteFontFnPtr);\n\n    this.releaseFnPtr = 0;\n    this.enumFontsFnPtr = 0;\n    this.mapFontFnPtr = 0;\n    this.getFontFnPtr = 0;\n    this.getFontDataFnPtr = 0;\n    this.getFaceNameFnPtr = 0;\n    this.getFontCharsetFnPtr = 0;\n    this.deleteFontFnPtr = 0;\n  }\n\n  /**\n   * Check if font fallback is enabled\n   */\n  isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Get statistics about font loading\n   */\n  getStats(): {\n    handleCount: number;\n    cacheSize: number;\n    cachedUrls: string[];\n  } {\n    return {\n      handleCount: this.fontHandles.size,\n      cacheSize: this.fontCache.size,\n      cachedUrls: Array.from(this.fontCache.keys()),\n    };\n  }\n\n  /**\n   * Pre-load fonts for specific charsets (optional optimization)\n   * This can be called to warm the cache before rendering\n   */\n  async preloadFonts(charsets: FontCharset[]): Promise<void> {\n    const urls = charsets\n      .map((charset) => this.getFontUrlForCharset(charset))\n      .filter((url): url is string => url !== null);\n\n    const uniqueUrls = [...new Set(urls)];\n\n    await Promise.all(\n      uniqueUrls.map(async (url) => {\n        if (!this.fontCache.has(url)) {\n          try {\n            const data = await this.fetchFontAsync(url);\n            if (data) {\n              this.fontCache.set(url, data);\n              this.logger.debug(LOG_SOURCE, LOG_CATEGORY, `Pre-loaded font: ${url}`);\n            }\n          } catch (error) {\n            this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Failed to pre-load font: ${url}`, error);\n          }\n        }\n      }),\n    );\n  }\n\n  // ============================================================================\n  // PDFium Callback Implementations\n  // ============================================================================\n\n  /**\n   * MapFont - called by PDFium when it needs a font\n   */\n  private mapFont(\n    weight: number,\n    bItalic: number,\n    charset: number,\n    pitchFamily: number,\n    face: string,\n  ): number {\n    const italic = bItalic !== 0;\n\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'MapFont called', {\n      weight,\n      italic,\n      charset,\n      pitchFamily,\n      face,\n    });\n\n    const result = this.findBestFontMatch(charset, weight, italic);\n    if (!result) {\n      this.logger.debug(LOG_SOURCE, LOG_CATEGORY, `No font configured for charset ${charset}`);\n      return 0;\n    }\n\n    // Create a new handle\n    const handle: FontHandle = {\n      id: this.nextHandleId++,\n      charset,\n      weight,\n      italic,\n      url: result.url,\n      data: null,\n    };\n\n    this.fontHandles.set(handle.id, handle);\n\n    this.logger.debug(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `Created font handle ${handle.id} for ${result.url} (requested: weight=${weight}, italic=${italic}, matched: weight=${result.matchedWeight}, italic=${result.matchedItalic})`,\n    );\n\n    return handle.id;\n  }\n\n  /**\n   * GetFontData - called by PDFium to get font bytes\n   */\n  private getFontData(\n    fontHandle: number,\n    table: number,\n    bufferPtr: number,\n    bufSize: number,\n  ): number {\n    const handle = this.fontHandles.get(fontHandle);\n    if (!handle) {\n      this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Unknown font handle: ${fontHandle}`);\n      return 0;\n    }\n\n    // Load font data if not already loaded\n    if (!handle.data) {\n      // Check cache first\n      if (this.fontCache.has(handle.url)) {\n        handle.data = this.fontCache.get(handle.url)!;\n      } else {\n        // Synchronous fetch - this is the key part\n        // It's okay because we're in a Web Worker\n        handle.data = this.fetchFontSync(handle.url);\n        if (handle.data) {\n          this.fontCache.set(handle.url, handle.data);\n        }\n      }\n    }\n\n    if (!handle.data) {\n      this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Failed to load font: ${handle.url}`);\n      return 0;\n    }\n\n    const fontData = handle.data;\n\n    // If table != 0, PDFium wants a specific TrueType table\n    // For simplicity, we return 0 and let PDFium request the whole file\n    if (table !== 0) {\n      this.logger.debug(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `Table ${table} requested - returning 0 to request whole file`,\n      );\n      return 0;\n    }\n\n    // If buffer is null or too small, just return the size needed\n    if (bufferPtr === 0 || bufSize < fontData.length) {\n      return fontData.length;\n    }\n\n    // Copy font data to WASM memory\n    if (this.module) {\n      const heap = this.module.pdfium.HEAPU8;\n      heap.set(fontData, bufferPtr);\n\n      this.logger.debug(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `Copied ${fontData.length} bytes to buffer for handle ${fontHandle}`,\n      );\n    }\n\n    return fontData.length;\n  }\n\n  /**\n   * DeleteFont - called by PDFium when done with a font\n   */\n  private deleteFont(fontHandle: number): void {\n    const handle = this.fontHandles.get(fontHandle);\n    if (handle) {\n      this.logger.debug(LOG_SOURCE, LOG_CATEGORY, `Deleting font handle ${fontHandle}`);\n      // Don't delete from cache - font data can be reused\n      this.fontHandles.delete(fontHandle);\n    }\n  }\n\n  // ============================================================================\n  // Helper Methods\n  // ============================================================================\n\n  /**\n   * Find the best matching font variant for the given parameters\n   */\n  private findBestFontMatch(\n    charset: number,\n    requestedWeight: number,\n    requestedItalic: boolean,\n  ): { url: string; matchedWeight: number; matchedItalic: boolean } | null {\n    const { fonts, defaultFont, baseUrl } = this.fontConfig;\n\n    const entry = fonts[charset as FontCharset] ?? defaultFont;\n    if (!entry) {\n      return null;\n    }\n\n    // Normalize to array of variants\n    const variants = this.normalizeToVariants(entry);\n    if (variants.length === 0) {\n      return null;\n    }\n\n    // Find best match\n    const best = this.selectBestVariant(variants, requestedWeight, requestedItalic);\n\n    // Apply base URL\n    let url = best.url;\n    if (\n      baseUrl &&\n      !url.startsWith('http://') &&\n      !url.startsWith('https://') &&\n      !url.startsWith('/')\n    ) {\n      url = `${baseUrl}/${url}`;\n    }\n\n    return {\n      url,\n      matchedWeight: best.weight ?? 400,\n      matchedItalic: best.italic ?? false,\n    };\n  }\n\n  /**\n   * Normalize a FontEntry to an array of FontVariants\n   */\n  private normalizeToVariants(entry: FontEntry): FontVariant[] {\n    if (typeof entry === 'string') {\n      return [{ url: entry, weight: 400, italic: false }];\n    }\n    if (Array.isArray(entry)) {\n      return entry.map((v) => ({\n        url: v.url,\n        weight: v.weight ?? 400,\n        italic: v.italic ?? false,\n      }));\n    }\n    return [{ url: entry.url, weight: entry.weight ?? 400, italic: entry.italic ?? false }];\n  }\n\n  /**\n   * Select the best matching variant based on weight and italic\n   * Uses CSS font matching algorithm principles:\n   * 1. Exact italic match preferred\n   * 2. Closest weight (with bias toward bolder for weights >= 400)\n   */\n  private selectBestVariant(\n    variants: FontVariant[],\n    requestedWeight: number,\n    requestedItalic: boolean,\n  ): FontVariant {\n    if (variants.length === 1) {\n      return variants[0];\n    }\n\n    // First, try to find variants matching the italic requirement\n    const italicMatches = variants.filter((v) => (v.italic ?? false) === requestedItalic);\n    const candidates = italicMatches.length > 0 ? italicMatches : variants;\n\n    // Find closest weight match\n    let bestMatch = candidates[0];\n    let bestDistance = Math.abs((bestMatch.weight ?? 400) - requestedWeight);\n\n    for (const variant of candidates) {\n      const variantWeight = variant.weight ?? 400;\n      const distance = Math.abs(variantWeight - requestedWeight);\n\n      if (distance < bestDistance) {\n        bestMatch = variant;\n        bestDistance = distance;\n      } else if (distance === bestDistance) {\n        // Tie-breaker: prefer bolder for requested weight >= 500, lighter for < 500\n        const currentWeight = bestMatch.weight ?? 400;\n        if (requestedWeight >= 500) {\n          // Prefer bolder\n          if (variantWeight > currentWeight) {\n            bestMatch = variant;\n          }\n        } else {\n          // Prefer lighter\n          if (variantWeight < currentWeight) {\n            bestMatch = variant;\n          }\n        }\n      }\n    }\n\n    return bestMatch;\n  }\n\n  /**\n   * Get font URL for a charset (backward compatible helper)\n   */\n  private getFontUrlForCharset(charset: number): string | null {\n    const result = this.findBestFontMatch(charset, 400, false);\n    return result?.url ?? null;\n  }\n\n  /**\n   * Fetch font data synchronously\n   * Uses custom fontLoader if provided, otherwise falls back to XMLHttpRequest (browser)\n   */\n  private fetchFontSync(pathOrUrl: string): Uint8Array | null {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, `Fetching font synchronously: ${pathOrUrl}`);\n\n    // Use custom font loader if provided (e.g., for Node.js file system access)\n    if (this.fontConfig.fontLoader) {\n      try {\n        const data = this.fontConfig.fontLoader(pathOrUrl);\n        if (data) {\n          this.logger.info(\n            LOG_SOURCE,\n            LOG_CATEGORY,\n            `Loaded font via custom loader: ${pathOrUrl} (${data.length} bytes)`,\n          );\n        } else {\n          this.logger.warn(\n            LOG_SOURCE,\n            LOG_CATEGORY,\n            `Custom font loader returned null for: ${pathOrUrl}`,\n          );\n        }\n        return data;\n      } catch (error) {\n        this.logger.error(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `Error in custom font loader: ${pathOrUrl}`,\n          error,\n        );\n        return null;\n      }\n    }\n\n    // Default: Browser XMLHttpRequest (synchronous)\n    try {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', pathOrUrl, false); // false = synchronous\n      xhr.responseType = 'arraybuffer';\n      xhr.send();\n\n      if (xhr.status === 200) {\n        const data = new Uint8Array(xhr.response as ArrayBuffer);\n        this.logger.info(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `Loaded font: ${pathOrUrl} (${data.length} bytes)`,\n        );\n        return data;\n      } else {\n        this.logger.error(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `Failed to load font: ${pathOrUrl} (HTTP ${xhr.status})`,\n        );\n        return null;\n      }\n    } catch (error) {\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, `Error fetching font: ${pathOrUrl}`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Fetch font data asynchronously (for preloading)\n   * Uses custom fontLoader if provided, otherwise falls back to fetch API\n   */\n  private async fetchFontAsync(pathOrUrl: string): Promise<Uint8Array | null> {\n    // Use custom font loader if provided (works for Node.js too)\n    if (this.fontConfig.fontLoader) {\n      try {\n        // fontLoader is synchronous, but we wrap it in async for consistency\n        return this.fontConfig.fontLoader(pathOrUrl);\n      } catch {\n        return null;\n      }\n    }\n\n    // Default: Browser fetch API\n    try {\n      const response = await fetch(pathOrUrl);\n      if (response.ok) {\n        const buffer = await response.arrayBuffer();\n        return new Uint8Array(buffer);\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  }\n}\n\n/**\n * Create a file system font loader for Node.js environments\n *\n * This helper creates a FontLoader function that reads fonts from the file system.\n * It requires Node.js's `fs` and `path` modules to be passed in to avoid\n * bundling issues in browser environments.\n *\n * @param fs - Node.js fs module (or compatible)\n * @param path - Node.js path module (or compatible)\n * @param basePath - Base directory path where fonts are located\n * @returns A FontLoader function for use in FontFallbackConfig\n *\n * @example\n * ```typescript\n * import { readFileSync } from 'fs';\n * import { join } from 'path';\n * import { createNodeFontLoader, FontCharset } from '@embedpdf/engines/pdfium';\n *\n * const fontLoader = createNodeFontLoader(\n *   { readFileSync },\n *   { join },\n *   '/path/to/fonts'\n * );\n *\n * const fontFallback = {\n *   fonts: {\n *     [FontCharset.SHIFTJIS]: 'NotoSansJP-Regular.otf',\n *   },\n *   fontLoader,\n * };\n * ```\n */\nexport function createNodeFontLoader(\n  fs: { readFileSync: (path: string) => Uint8Array | ArrayBufferLike },\n  path: { join: (...paths: string[]) => string },\n  basePath: string,\n): FontLoader {\n  return (fontPath: string): Uint8Array | null => {\n    try {\n      const fullPath = path.join(basePath, fontPath);\n      const data = fs.readFileSync(fullPath);\n      // Handle both Uint8Array (Buffer extends this) and ArrayBuffer\n      if (data instanceof Uint8Array) {\n        return data;\n      }\n      return new Uint8Array(data);\n    } catch {\n      return null;\n    }\n  };\n}\n","import {\n  BatchProgress,\n  ImageDataLike,\n  IPdfiumExecutor,\n  PdfActionObject,\n  PdfAnnotationObject,\n  PdfTextRectObject,\n  PdfAnnotationSubtype,\n  PdfLinkAnnoObject,\n  PdfWidgetAnnoObject,\n  PdfLinkTarget,\n  PdfZoomMode,\n  Logger,\n  NoopLogger,\n  SearchResult,\n  PdfDestinationObject,\n  PdfBookmarkObject,\n  PdfDocumentObject,\n  PdfPageObject,\n  PdfActionType,\n  Rotation,\n  PDF_FORM_FIELD_FLAG,\n  PDF_FORM_FIELD_TYPE,\n  PdfWidgetAnnoOption,\n  PdfFileAttachmentAnnoObject,\n  Rect,\n  Size,\n  PdfAttachmentObject,\n  PdfUnsupportedAnnoObject,\n  PdfTextAnnoObject,\n  PdfSignatureObject,\n  PdfInkAnnoObject,\n  PdfInkListObject,\n  Position,\n  PdfStampAnnoObject,\n  PdfCircleAnnoObject,\n  PdfSquareAnnoObject,\n  PdfFreeTextAnnoObject,\n  PdfCaretAnnoObject,\n  PdfSquigglyAnnoObject,\n  PdfStrikeOutAnnoObject,\n  PdfUnderlineAnnoObject,\n  PdfFile,\n  PdfSegmentObject,\n  AppearanceMode,\n  PdfImageObject,\n  PdfPageObjectType,\n  PdfPathObject,\n  PdfFormObject,\n  PdfPolygonAnnoObject,\n  PdfPolylineAnnoObject,\n  PdfLineAnnoObject,\n  PdfHighlightAnnoObject,\n  PdfStampAnnoObjectContents,\n  PdfWidgetAnnoField,\n  PdfTransformMatrix,\n  FormFieldValue,\n  PdfErrorCode,\n  PdfTaskHelper,\n  PdfPageFlattenFlag,\n  PdfPageFlattenResult,\n  PdfTask,\n  transformRect,\n  PdfOpenDocumentBufferOptions,\n  Task,\n  PdfErrorReason,\n  TextContext,\n  PdfGlyphObject,\n  PdfPageGeometry,\n  PdfRun,\n  toIntRect,\n  Quad,\n  PdfAnnotationState,\n  PdfAnnotationStateModel,\n  quadToRect,\n  PageTextSlice,\n  stripPdfUnwantedMarkers,\n  rectToQuad,\n  dateToPdfDate,\n  pdfDateToDate,\n  PdfAnnotationColorType,\n  PdfAnnotationBorderStyle,\n  flagsToNames,\n  PdfAnnotationFlagName,\n  namesToFlags,\n  PdfAnnotationLineEnding,\n  LinePoints,\n  LineEndings,\n  WebColor,\n  webColorToPdfColor,\n  PdfColor,\n  pdfColorToWebColor,\n  pdfAlphaToWebOpacity,\n  webOpacityToPdfAlpha,\n  PdfStandardFont,\n  PdfTextAlignment,\n  PdfVerticalAlignment,\n  AnnotationCreateContext,\n  isUuidV4,\n  uuidV4,\n  PdfAnnotationIcon,\n  PdfRenderPageAnnotationOptions,\n  PdfRedactTextOptions,\n  PdfFlattenPageOptions,\n  PdfRenderThumbnailOptions,\n  PdfRenderPageOptions,\n  buildUserToDeviceMatrix,\n  Matrix,\n  PdfMetadataObject,\n  PdfPrintOptions,\n  PdfTrappedStatus,\n  PdfStampFit,\n  PdfAddAttachmentParams,\n} from '@embedpdf/models';\nimport { computeFormDrawParams, isValidCustomKey, readArrayBuffer, readString } from './helper';\nimport { WrappedPdfiumModule } from '@embedpdf/pdfium';\nimport { DocumentContext, PageContext, PdfCache } from './cache';\nimport { MemoryManager } from './core/memory-manager';\nimport { WasmPointer } from './types/branded';\nimport { FontFallbackManager, FontFallbackConfig } from './font-fallback';\n\n/**\n * Format of bitmap\n */\nexport enum BitmapFormat {\n  Bitmap_Gray = 1,\n  Bitmap_BGR = 2,\n  Bitmap_BGRx = 3,\n  Bitmap_BGRA = 4,\n}\n\n/**\n * Pdf rendering flag\n */\nexport enum RenderFlag {\n  ANNOT = 0x01, // Set if annotations are to be rendered.\n  LCD_TEXT = 0x02, // Set if using text rendering optimized for LCD display.\n  NO_NATIVETEXT = 0x04, // Don't use the native text output available on some platforms\n  GRAYSCALE = 0x08, // Grayscale output.\n  DEBUG_INFO = 0x80, // Set if you want to get some debug info. Please discuss with Foxit first if you need to collect debug info.\n  NO_CATCH = 0x100, // Set if you don't want to catch exception.\n  RENDER_LIMITEDIMAGECACHE = 0x200, // Limit image cache size.\n  RENDER_FORCEHALFTONE = 0x400, // Always use halftone for image stretching.\n  PRINTING = 0x800, // Render for printing.\n  REVERSE_BYTE_ORDER = 0x10, // Set whether render in a reverse Byte order, this flag only.\n}\n\nconst LOG_SOURCE = 'PDFiumEngine';\nconst LOG_CATEGORY = 'Engine';\n\n/**\n * Error code of pdfium library\n */\nexport enum PdfiumErrorCode {\n  Success = 0,\n  Unknown = 1,\n  File = 2,\n  Format = 3,\n  Password = 4,\n  Security = 5,\n  Page = 6,\n  XFALoad = 7,\n  XFALayout = 8,\n}\n\nexport interface PdfiumEngineOptions {\n  logger?: Logger;\n  /**\n   * Font fallback configuration for handling missing fonts in PDFs.\n   * When enabled, PDFium will request fallback fonts from configured URLs\n   * when it encounters text that requires fonts not embedded in the PDF.\n   */\n  fontFallback?: FontFallbackConfig;\n}\n\n/**\n * Pdf engine that based on pdfium wasm\n */\nexport class PdfiumNative implements IPdfiumExecutor {\n  /**\n   * pdf documents that opened\n   */\n  private readonly cache: PdfCache;\n\n  /**\n   * memory manager instance\n   */\n  private readonly memoryManager: MemoryManager;\n\n  /**\n   * interval to check memory leaks\n   */\n  private memoryLeakCheckInterval: number | null = null;\n\n  /**\n   * logger instance\n   */\n  private logger: Logger;\n\n  /**\n   * font fallback manager instance\n   */\n  private fontFallbackManager: FontFallbackManager | null = null;\n\n  /**\n   * Create an instance of PdfiumNative and initialize PDFium\n   * @param wasmModule - pdfium wasm module\n   * @param options - configuration options\n   */\n  constructor(\n    private pdfiumModule: WrappedPdfiumModule,\n    options: PdfiumEngineOptions = {},\n  ) {\n    const { logger = new NoopLogger(), fontFallback } = options;\n\n    this.logger = logger;\n    this.memoryManager = new MemoryManager(this.pdfiumModule, this.logger);\n    this.cache = new PdfCache(this.pdfiumModule, this.memoryManager);\n\n    if (this.logger.isEnabled('debug')) {\n      this.memoryLeakCheckInterval = setInterval(() => {\n        this.memoryManager.checkLeaks();\n      }, 10000) as unknown as number;\n    }\n\n    // Initialize PDFium in constructor\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'initialize');\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Initialize`, 'Begin', 'General');\n    this.pdfiumModule.PDFiumExt_Init();\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Initialize`, 'End', 'General');\n\n    // Initialize font fallback system if configured\n    if (fontFallback) {\n      this.fontFallbackManager = new FontFallbackManager(fontFallback, this.logger);\n      this.fontFallbackManager.initialize(this.pdfiumModule);\n      this.logger.info(LOG_SOURCE, LOG_CATEGORY, 'Font fallback system enabled');\n    }\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.destroy}\n   *\n   * @public\n   */\n  destroy() {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'destroy');\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Destroy`, 'Begin', 'General');\n\n    // Disable font fallback before destroying library\n    if (this.fontFallbackManager) {\n      this.fontFallbackManager.disable();\n      this.fontFallbackManager = null;\n    }\n\n    this.pdfiumModule.FPDF_DestroyLibrary();\n    if (this.memoryLeakCheckInterval) {\n      clearInterval(this.memoryLeakCheckInterval);\n      this.memoryLeakCheckInterval = null;\n    }\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Destroy`, 'End', 'General');\n    return PdfTaskHelper.resolve(true);\n  }\n\n  /**\n   * Get the font fallback manager instance\n   * Useful for pre-loading fonts or checking stats\n   */\n  getFontFallbackManager(): FontFallbackManager | null {\n    return this.fontFallbackManager;\n  }\n\n  /** Write a UTF-16LE (WIDESTRING) to wasm, call `fn(ptr)`, then free. */\n  private withWString<T>(value: string, fn: (ptr: number) => T): T {\n    // bytes = (len + 1) * 2\n    const length = (value.length + 1) * 2;\n    const ptr = this.memoryManager.malloc(length);\n    try {\n      // emscripten runtime exposes stringToUTF16\n      this.pdfiumModule.pdfium.stringToUTF16(value, ptr, length);\n      return fn(ptr);\n    } finally {\n      this.memoryManager.free(ptr);\n    }\n  }\n\n  /** Write a float[] to wasm, call `fn(ptr, count)`, then free. */\n  private withFloatArray<T>(\n    values: number[] | undefined,\n    fn: (ptr: number, count: number) => T,\n  ): T {\n    const arr = values ?? [];\n    const bytes = arr.length * 4;\n    const ptr = bytes ? this.memoryManager.malloc(bytes) : WasmPointer(0);\n    try {\n      if (bytes) {\n        for (let i = 0; i < arr.length; i++) {\n          this.pdfiumModule.pdfium.setValue(ptr + i * 4, arr[i], 'float');\n        }\n      }\n      return fn(ptr, arr.length);\n    } finally {\n      if (bytes) this.memoryManager.free(ptr);\n    }\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.openDocument}\n   *\n   * @public\n   */\n  openDocumentBuffer(file: PdfFile, options?: PdfOpenDocumentBufferOptions) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'openDocumentBuffer', file, options);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `OpenDocumentBuffer`, 'Begin', file.id);\n    const array = new Uint8Array(file.content);\n    const length = array.length;\n    const filePtr = this.memoryManager.malloc(length);\n    this.pdfiumModule.pdfium.HEAPU8.set(array, filePtr);\n\n    const docPtr = this.pdfiumModule.FPDF_LoadMemDocument(filePtr, length, options?.password ?? '');\n\n    if (!docPtr) {\n      const lastError = this.pdfiumModule.FPDF_GetLastError();\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, `FPDF_LoadMemDocument failed with ${lastError}`);\n      this.memoryManager.free(filePtr);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `OpenDocumentBuffer`, 'End', file.id);\n\n      return PdfTaskHelper.reject<PdfDocumentObject>({\n        code: lastError,\n        message: `FPDF_LoadMemDocument failed`,\n      });\n    }\n\n    const pageCount = this.pdfiumModule.FPDF_GetPageCount(docPtr);\n\n    const pages: PdfPageObject[] = [];\n    const sizePtr = this.memoryManager.malloc(8);\n    for (let index = 0; index < pageCount; index++) {\n      const result = this.pdfiumModule.FPDF_GetPageSizeByIndexF(docPtr, index, sizePtr);\n      if (!result) {\n        const lastError = this.pdfiumModule.FPDF_GetLastError();\n        this.logger.error(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `FPDF_GetPageSizeByIndexF failed with ${lastError}`,\n        );\n        this.memoryManager.free(sizePtr);\n        this.pdfiumModule.FPDF_CloseDocument(docPtr);\n        this.memoryManager.free(filePtr);\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `OpenDocumentBuffer`, 'End', file.id);\n        return PdfTaskHelper.reject<PdfDocumentObject>({\n          code: lastError,\n          message: `FPDF_GetPageSizeByIndexF failed`,\n        });\n      }\n\n      const rotation = this.pdfiumModule.EPDF_GetPageRotationByIndex(docPtr, index) as Rotation;\n\n      const page = {\n        index,\n        size: {\n          width: this.pdfiumModule.pdfium.getValue(sizePtr, 'float'),\n          height: this.pdfiumModule.pdfium.getValue(sizePtr + 4, 'float'),\n        },\n        rotation,\n      };\n\n      pages.push(page);\n    }\n    this.memoryManager.free(sizePtr);\n\n    const pdfDoc: PdfDocumentObject = {\n      id: file.id,\n      pageCount,\n      pages,\n    };\n\n    this.cache.setDocument(file.id, filePtr, docPtr);\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `OpenDocumentBuffer`, 'End', file.id);\n\n    return PdfTaskHelper.resolve(pdfDoc);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getMetadata}\n   *\n   * @public\n   */\n  getMetadata(doc: PdfDocumentObject): PdfTask<PdfMetadataObject> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getMetadata', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetMetadata`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetMetadata`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const creationRaw = this.readMetaText(ctx.docPtr, 'CreationDate');\n    const modRaw = this.readMetaText(ctx.docPtr, 'ModDate');\n\n    const metadata: PdfMetadataObject = {\n      title: this.readMetaText(ctx.docPtr, 'Title'),\n      author: this.readMetaText(ctx.docPtr, 'Author'),\n      subject: this.readMetaText(ctx.docPtr, 'Subject'),\n      keywords: this.readMetaText(ctx.docPtr, 'Keywords'),\n      producer: this.readMetaText(ctx.docPtr, 'Producer'),\n      creator: this.readMetaText(ctx.docPtr, 'Creator'),\n      creationDate: creationRaw ? (pdfDateToDate(creationRaw) ?? null) : null,\n      modificationDate: modRaw ? (pdfDateToDate(modRaw) ?? null) : null,\n      trapped: this.getMetaTrapped(ctx.docPtr),\n      custom: this.readAllMeta(ctx.docPtr, true),\n    };\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetMetadata`, 'End', doc.id);\n\n    return PdfTaskHelper.resolve(metadata);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.setMetadata}\n   *\n   * @public\n   */\n  setMetadata(doc: PdfDocumentObject, meta: Partial<PdfMetadataObject>) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'setMetadata', doc, meta);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'SetMetadata', 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'SetMetadata', 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    // Field -> PDF Info key\n    const strMap: Array<[keyof PdfMetadataObject, string]> = [\n      ['title', 'Title'],\n      ['author', 'Author'],\n      ['subject', 'Subject'],\n      ['keywords', 'Keywords'],\n      ['producer', 'Producer'],\n      ['creator', 'Creator'],\n    ];\n\n    let ok = true;\n\n    // Write string fields (string|null|undefined)\n    for (const [field, key] of strMap) {\n      const v = meta[field];\n      if (v === undefined) continue;\n      const s = v === null ? null : (v as string);\n      if (!this.setMetaText(ctx.docPtr, key, s)) ok = false;\n    }\n\n    // Write date fields (Date|null|undefined)\n    const writeDate = (\n      field: 'creationDate' | 'modificationDate',\n      key: 'CreationDate' | 'ModDate',\n    ) => {\n      const v = meta[field];\n      if (v === undefined) return;\n      if (v === null) {\n        if (!this.setMetaText(ctx.docPtr, key, null)) ok = false;\n        return;\n      }\n      const d = v as Date;\n      const raw = dateToPdfDate(d);\n      if (!this.setMetaText(ctx.docPtr, key, raw)) ok = false;\n    };\n\n    writeDate('creationDate', 'CreationDate');\n    writeDate('modificationDate', 'ModDate');\n\n    if (meta.trapped !== undefined) {\n      if (!this.setMetaTrapped(ctx.docPtr, meta.trapped ?? null)) ok = false;\n    }\n\n    if (meta.custom !== undefined) {\n      for (const [key, value] of Object.entries(meta.custom)) {\n        if (!isValidCustomKey(key)) {\n          this.logger.warn(LOG_SOURCE, LOG_CATEGORY, 'Invalid custom metadata key skipped', key);\n          continue;\n        }\n        if (!this.setMetaText(ctx.docPtr, key, value ?? null)) ok = false;\n      }\n    }\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'SetMetadata', 'End', doc.id);\n\n    return ok\n      ? PdfTaskHelper.resolve(true)\n      : PdfTaskHelper.reject({\n          code: PdfErrorCode.Unknown,\n          message: 'one or more metadata fields could not be written',\n        });\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getDocPermissions}\n   *\n   * @public\n   */\n  getDocPermissions(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getDocPermissions', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `getDocPermissions`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `getDocPermissions`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const permissions = this.pdfiumModule.FPDF_GetDocPermissions(ctx.docPtr);\n\n    return PdfTaskHelper.resolve(permissions);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getDocUserPermissions}\n   *\n   * @public\n   */\n  getDocUserPermissions(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getDocUserPermissions', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `getDocUserPermissions`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `getDocUserPermissions`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const permissions = this.pdfiumModule.FPDF_GetDocUserPermissions(ctx.docPtr);\n\n    return PdfTaskHelper.resolve(permissions);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getSignatures}\n   *\n   * @public\n   */\n  getSignatures(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getSignatures', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetSignatures`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetSignatures`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const signatures: PdfSignatureObject[] = [];\n\n    const count = this.pdfiumModule.FPDF_GetSignatureCount(ctx.docPtr);\n    for (let i = 0; i < count; i++) {\n      const signatureObjPtr = this.pdfiumModule.FPDF_GetSignatureObject(ctx.docPtr, i);\n\n      const contents = readArrayBuffer(this.pdfiumModule.pdfium, (buffer, bufferSize) => {\n        return this.pdfiumModule.FPDFSignatureObj_GetContents(signatureObjPtr, buffer, bufferSize);\n      });\n\n      const byteRange = readArrayBuffer(this.pdfiumModule.pdfium, (buffer, bufferSize) => {\n        return (\n          this.pdfiumModule.FPDFSignatureObj_GetByteRange(signatureObjPtr, buffer, bufferSize) * 4\n        );\n      });\n\n      const subFilter = readArrayBuffer(this.pdfiumModule.pdfium, (buffer, bufferSize) => {\n        return this.pdfiumModule.FPDFSignatureObj_GetSubFilter(signatureObjPtr, buffer, bufferSize);\n      });\n\n      const reason = readString(\n        this.pdfiumModule.pdfium,\n        (buffer, bufferLength) => {\n          return this.pdfiumModule.FPDFSignatureObj_GetReason(\n            signatureObjPtr,\n            buffer,\n            bufferLength,\n          );\n        },\n        this.pdfiumModule.pdfium.UTF16ToString,\n      );\n\n      const time = readString(\n        this.pdfiumModule.pdfium,\n        (buffer, bufferLength) => {\n          return this.pdfiumModule.FPDFSignatureObj_GetTime(signatureObjPtr, buffer, bufferLength);\n        },\n        this.pdfiumModule.pdfium.UTF8ToString,\n      );\n\n      const docMDP = this.pdfiumModule.FPDFSignatureObj_GetDocMDPPermission(signatureObjPtr);\n\n      signatures.push({\n        contents,\n        byteRange,\n        subFilter,\n        reason,\n        time,\n        docMDP,\n      });\n    }\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetSignatures`, 'End', doc.id);\n\n    return PdfTaskHelper.resolve(signatures);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getBookmarks}\n   *\n   * @public\n   */\n  getBookmarks(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getBookmarks', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetBookmarks`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `getBookmarks`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const bookmarks = this.readPdfBookmarks(ctx.docPtr, 0);\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetBookmarks`, 'End', doc.id);\n\n    return PdfTaskHelper.resolve({\n      bookmarks,\n    });\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.setBookmarks}\n   *\n   * @public\n   */\n  setBookmarks(doc: PdfDocumentObject, list: PdfBookmarkObject[]) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'setBookmarks', doc, list);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SetBookmarks`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SetBookmarks`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    // Clear any existing outlines\n    if (!this.pdfiumModule.EPDFBookmark_Clear(ctx.docPtr)) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SetBookmarks`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: 'failed to clear existing bookmarks',\n      });\n    }\n\n    // Recursive builder\n    const build = (parentPtr: number, items: PdfBookmarkObject[]): boolean => {\n      let prevChild = 0;\n      for (const item of items) {\n        // Create\n        const bmPtr = this.withWString(item.title ?? '', (wptr) =>\n          this.pdfiumModule.EPDFBookmark_AppendChild(ctx.docPtr, parentPtr, wptr),\n        );\n        if (!bmPtr) return false;\n\n        // Target (optional)\n        if (item.target) {\n          const ok = this.applyBookmarkTarget(ctx.docPtr, bmPtr, item.target);\n          if (!ok) return false;\n        }\n\n        // Children\n        if (item.children?.length) {\n          const ok = build(bmPtr, item.children);\n          if (!ok) return false;\n        }\n\n        prevChild = bmPtr;\n      }\n      return true;\n    };\n\n    const ok = build(/*top-level*/ 0, list);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SetBookmarks`, 'End', doc.id);\n\n    if (!ok) {\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: 'failed to build bookmark tree',\n      });\n    }\n    return PdfTaskHelper.resolve(true);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.deleteBookmarks}\n   *\n   * @public\n   */\n  deleteBookmarks(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'deleteBookmarks', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteBookmarks`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteBookmarks`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const ok = this.pdfiumModule.EPDFBookmark_Clear(ctx.docPtr);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteBookmarks`, 'End', doc.id);\n\n    return ok\n      ? PdfTaskHelper.resolve(true)\n      : PdfTaskHelper.reject({\n          code: PdfErrorCode.Unknown,\n          message: 'failed to clear bookmarks',\n        });\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.renderPage}\n   *\n   * @public\n   */\n  renderPageRaw(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    options?: PdfRenderPageOptions,\n  ): PdfTask<ImageDataLike> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'renderPage', doc, page, options);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `RenderPage`, 'Begin', `${doc.id}-${page.index}`);\n\n    const rect = { origin: { x: 0, y: 0 }, size: page.size };\n    const task = this.renderRectEncoded(doc, page, rect, options);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `RenderPage`, 'End', `${doc.id}-${page.index}`);\n\n    return task;\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.renderPageRect}\n   *\n   * @public\n   */\n  renderPageRect(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    rect: Rect,\n    options?: PdfRenderPageOptions,\n  ): PdfTask<ImageDataLike> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'renderPageRect', doc, page, rect, options);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderPageRect`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const task = this.renderRectEncoded(doc, page, rect, options);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `RenderPageRect`, 'End', `${doc.id}-${page.index}`);\n\n    return task;\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getPageAnnotations}\n   *\n   * @public\n   */\n  getPageAnnotations(doc: PdfDocumentObject, page: PdfPageObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getPageAnnotations', doc, page);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageAnnotations`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `GetPageAnnotations`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const annotations = this.readPageAnnotations(ctx, page);\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageAnnotations`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n\n    this.logger.debug(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageAnnotations`,\n      `${doc.id}-${page.index}`,\n      annotations,\n    );\n\n    return PdfTaskHelper.resolve(annotations);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.createPageAnnotation}\n   *\n   * @public\n   */\n  createPageAnnotation<A extends PdfAnnotationObject>(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    annotation: A,\n    context?: AnnotationCreateContext<A>,\n  ): PdfTask<string> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'createPageAnnotation', doc, page, annotation);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `CreatePageAnnotation`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `CreatePageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n    const annotationPtr = this.pdfiumModule.EPDFPage_CreateAnnot(pageCtx.pagePtr, annotation.type);\n    if (!annotationPtr) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `CreatePageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      pageCtx.release();\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantCreateAnnot,\n        message: 'can not create annotation with specified type',\n      });\n    }\n\n    if (!isUuidV4(annotation.id)) {\n      annotation.id = uuidV4();\n    }\n\n    if (!this.setAnnotString(annotationPtr, 'NM', annotation.id)) {\n      this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n      pageCtx.release();\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantSetAnnotString,\n        message: 'can not set the name of the annotation',\n      });\n    }\n\n    if (!this.setPageAnnoRect(page, annotationPtr, annotation.rect)) {\n      this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n      pageCtx.release();\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `CreatePageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantSetAnnotRect,\n        message: 'can not set the rect of the annotation',\n      });\n    }\n\n    let isSucceed = false;\n    switch (annotation.type) {\n      case PdfAnnotationSubtype.INK:\n        isSucceed = this.addInkStroke(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.STAMP:\n        isSucceed = this.addStampContent(\n          ctx.docPtr,\n          page,\n          pageCtx.pagePtr,\n          annotationPtr,\n          annotation,\n          context?.imageData,\n        );\n        break;\n      case PdfAnnotationSubtype.TEXT:\n        isSucceed = this.addTextContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.FREETEXT:\n        isSucceed = this.addFreeTextContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.LINE:\n        isSucceed = this.addLineContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.POLYLINE:\n      case PdfAnnotationSubtype.POLYGON:\n        isSucceed = this.addPolyContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.CIRCLE:\n      case PdfAnnotationSubtype.SQUARE:\n        isSucceed = this.addShapeContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n      case PdfAnnotationSubtype.UNDERLINE:\n      case PdfAnnotationSubtype.STRIKEOUT:\n      case PdfAnnotationSubtype.SQUIGGLY:\n      case PdfAnnotationSubtype.HIGHLIGHT:\n        isSucceed = this.addTextMarkupContent(page, pageCtx.pagePtr, annotationPtr, annotation);\n        break;\n    }\n\n    if (!isSucceed) {\n      this.pdfiumModule.FPDFPage_RemoveAnnot(pageCtx.pagePtr, annotationPtr);\n      pageCtx.release();\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `CreatePageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantSetAnnotContent,\n        message: 'can not add content of the annotation',\n      });\n    }\n\n    if (annotation.blendMode !== undefined) {\n      this.pdfiumModule.EPDFAnnot_GenerateAppearanceWithBlend(annotationPtr, annotation.blendMode);\n    } else {\n      this.pdfiumModule.EPDFAnnot_GenerateAppearance(annotationPtr);\n    }\n\n    this.pdfiumModule.FPDFPage_GenerateContent(pageCtx.pagePtr);\n\n    this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n    pageCtx.release();\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `CreatePageAnnotation`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n\n    return PdfTaskHelper.resolve<string>(annotation.id);\n  }\n\n  /**\n   * Update an existing page annotation in-place\n   *\n   *   Locates the annot by page-local index (`annotation.id`)\n   *   Re-writes its /Rect and type-specific payload\n   *   Calls FPDFPage_GenerateContent so the new appearance is rendered\n   *\n   * @returns PdfTask<boolean>    true on success\n   */\n  updatePageAnnotation(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    annotation: PdfAnnotationObject,\n  ): PdfTask<boolean> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'updatePageAnnotation', doc, page, annotation);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      'UpdatePageAnnotation',\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'UpdatePageAnnotation',\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n    const annotPtr = this.getAnnotationByName(pageCtx.pagePtr, annotation.id);\n    if (!annotPtr) {\n      pageCtx.release();\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'UpdatePageAnnotation',\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({ code: PdfErrorCode.NotFound, message: 'annotation not found' });\n    }\n\n    /* 1  (re)set bounding-box  */\n    if (!this.setPageAnnoRect(page, annotPtr, annotation.rect)) {\n      this.pdfiumModule.FPDFPage_CloseAnnot(annotPtr);\n      pageCtx.release();\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'UpdatePageAnnotation',\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantSetAnnotRect,\n        message: 'failed to move annotation',\n      });\n    }\n\n    /* 2  wipe previous payload and rebuild fresh one  */\n    let ok = false;\n    switch (annotation.type) {\n      /*  Ink  */\n      case PdfAnnotationSubtype.INK: {\n        /* clear every existing stroke first */\n        if (!this.pdfiumModule.FPDFAnnot_RemoveInkList(annotPtr)) break;\n        ok = this.addInkStroke(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Stamp  */\n      case PdfAnnotationSubtype.STAMP: {\n        ok = this.addStampContent(ctx.docPtr, page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      case PdfAnnotationSubtype.TEXT: {\n        ok = this.addTextContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Free text  */\n      case PdfAnnotationSubtype.FREETEXT: {\n        ok = this.addFreeTextContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Shape  */\n      case PdfAnnotationSubtype.CIRCLE:\n      case PdfAnnotationSubtype.SQUARE: {\n        ok = this.addShapeContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Line  */\n      case PdfAnnotationSubtype.LINE: {\n        ok = this.addLineContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Polygon / Polyline  */\n      case PdfAnnotationSubtype.POLYGON:\n      case PdfAnnotationSubtype.POLYLINE: {\n        ok = this.addPolyContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Text-markup family  */\n      case PdfAnnotationSubtype.HIGHLIGHT:\n      case PdfAnnotationSubtype.UNDERLINE:\n      case PdfAnnotationSubtype.STRIKEOUT:\n      case PdfAnnotationSubtype.SQUIGGLY: {\n        /* replace quad-points / colour / strings in one go */\n        ok = this.addTextMarkupContent(page, pageCtx.pagePtr, annotPtr, annotation);\n        break;\n      }\n\n      /*  Unsupported edits  fall through to error  */\n      default:\n        ok = false;\n    }\n\n    /* 3  regenerate appearance if payload was changed  */\n    if (ok) {\n      if (annotation.blendMode !== undefined) {\n        this.pdfiumModule.EPDFAnnot_GenerateAppearanceWithBlend(annotPtr, annotation.blendMode);\n      } else {\n        this.pdfiumModule.EPDFAnnot_GenerateAppearance(annotPtr);\n      }\n      this.pdfiumModule.FPDFPage_GenerateContent(pageCtx.pagePtr);\n    }\n\n    /* 4  tidy-up native handles  */\n    this.pdfiumModule.FPDFPage_CloseAnnot(annotPtr);\n    pageCtx.release();\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      'UpdatePageAnnotation',\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n\n    return ok\n      ? PdfTaskHelper.resolve<boolean>(true)\n      : PdfTaskHelper.reject<boolean>({\n          code: PdfErrorCode.CantSetAnnotContent,\n          message: 'failed to update annotation',\n        });\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.removePageAnnotation}\n   *\n   * @public\n   */\n  removePageAnnotation(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    annotation: PdfAnnotationObject,\n  ) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'removePageAnnotation', doc, page, annotation);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RemovePageAnnotation`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `RemovePageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n    let result = false;\n    result = this.removeAnnotationByName(pageCtx.pagePtr, annotation.id);\n    if (!result) {\n      this.logger.error(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `FPDFPage_RemoveAnnot Failed`,\n        `${doc.id}-${page.index}`,\n      );\n    } else {\n      result = this.pdfiumModule.FPDFPage_GenerateContent(pageCtx.pagePtr);\n      if (!result) {\n        this.logger.error(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `FPDFPage_GenerateContent Failed`,\n          `${doc.id}-${page.index}`,\n        );\n      }\n    }\n\n    pageCtx.release();\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RemovePageAnnotation`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n    return PdfTaskHelper.resolve(result);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getPageTextRects}\n   *\n   * @public\n   */\n  getPageTextRects(doc: PdfDocumentObject, page: PdfPageObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getPageTextRects', doc, page);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageTextRects`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `GetPageTextRects`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n    const textPagePtr = this.pdfiumModule.FPDFText_LoadPage(pageCtx.pagePtr);\n\n    const textRects = this.readPageTextRects(page, pageCtx.docPtr, pageCtx.pagePtr, textPagePtr);\n\n    this.pdfiumModule.FPDFText_ClosePage(textPagePtr);\n    pageCtx.release();\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageTextRects`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n    return PdfTaskHelper.resolve(textRects);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.renderThumbnail}\n   *\n   * @public\n   */\n  renderThumbnailRaw(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    options?: PdfRenderThumbnailOptions,\n  ): PdfTask<ImageDataLike> {\n    const { scaleFactor = 1, ...rest } = options ?? {};\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'renderThumbnail', doc, page, options);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderThumbnail`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `RenderThumbnail`,\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const result = this.renderPageRaw(doc, page, {\n      scaleFactor: Math.max(scaleFactor, 0.5),\n      ...rest,\n    });\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `RenderThumbnail`, 'End', `${doc.id}-${page.index}`);\n\n    return result;\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getAttachments}\n   *\n   * @public\n   */\n  getAttachments(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getAttachments', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetAttachments`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetAttachments`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const attachments: PdfAttachmentObject[] = [];\n\n    const count = this.pdfiumModule.FPDFDoc_GetAttachmentCount(ctx.docPtr);\n    for (let i = 0; i < count; i++) {\n      const attachment = this.readPdfAttachment(ctx.docPtr, i);\n      attachments.push(attachment);\n    }\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `GetAttachments`, 'End', doc.id);\n    return PdfTaskHelper.resolve(attachments);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.addAttachment}\n   *\n   * @public\n   */\n  addAttachment(doc: PdfDocumentObject, params: PdfAddAttachmentParams): PdfTask<boolean> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'addAttachment', doc, params?.name);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const { name, description, mimeType, data } = params ?? {};\n    if (!name) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.NotFound,\n        message: 'attachment name is required',\n      });\n    }\n    if (!data || (data instanceof Uint8Array ? data.byteLength === 0 : data.byteLength === 0)) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.NotFound,\n        message: 'attachment data is empty',\n      });\n    }\n\n    // 1) Create the attachment handle (also inserts into the EmbeddedFiles name tree).\n    const attachmentPtr = this.withWString(name, (wNamePtr) =>\n      this.pdfiumModule.FPDFDoc_AddAttachment(ctx.docPtr, wNamePtr),\n    );\n\n    if (!attachmentPtr) {\n      // Most likely: duplicate name in the name tree.\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: `An attachment named \"${name}\" already exists`,\n      });\n    }\n\n    this.withWString(description, (wDescriptionPtr) =>\n      this.pdfiumModule.EPDFAttachment_SetDescription(attachmentPtr, wDescriptionPtr),\n    );\n\n    this.pdfiumModule.EPDFAttachment_SetSubtype(attachmentPtr, mimeType);\n\n    // 3) Copy data into WASM memory and call SetFile (this stores bytes and fills Size/CreationDate/CheckSum)\n    const u8 = data instanceof Uint8Array ? data : new Uint8Array(data);\n    const len = u8.byteLength;\n\n    const contentPtr = this.memoryManager.malloc(len);\n    try {\n      this.pdfiumModule.pdfium.HEAPU8.set(u8, contentPtr);\n      const ok = this.pdfiumModule.FPDFAttachment_SetFile(\n        attachmentPtr,\n        ctx.docPtr,\n        contentPtr,\n        len,\n      );\n      if (!ok) {\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n        return PdfTaskHelper.reject({\n          code: PdfErrorCode.Unknown,\n          message: 'failed to write attachment bytes',\n        });\n      }\n    } finally {\n      this.memoryManager.free(contentPtr);\n    }\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `AddAttachment`, 'End', doc.id);\n    return PdfTaskHelper.resolve<boolean>(true);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.removeAttachment}\n   *\n   * @public\n   */\n  removeAttachment(doc: PdfDocumentObject, attachment: PdfAttachmentObject): PdfTask<boolean> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'deleteAttachment', doc, attachment);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteAttachment`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const count = this.pdfiumModule.FPDFDoc_GetAttachmentCount(ctx.docPtr);\n    if (attachment.index < 0 || attachment.index >= count) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteAttachment`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: `attachment index ${attachment.index} out of range`,\n      });\n    }\n\n    const ok = this.pdfiumModule.FPDFDoc_DeleteAttachment(ctx.docPtr, attachment.index);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `DeleteAttachment`, 'End', doc.id);\n\n    if (!ok) {\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: 'failed to delete attachment',\n      });\n    }\n    return PdfTaskHelper.resolve<boolean>(true);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.readAttachmentContent}\n   *\n   * @public\n   */\n  readAttachmentContent(doc: PdfDocumentObject, attachment: PdfAttachmentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'readAttachmentContent', doc, attachment);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ReadAttachmentContent`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ReadAttachmentContent`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const attachmentPtr = this.pdfiumModule.FPDFDoc_GetAttachment(ctx.docPtr, attachment.index);\n    const sizePtr = this.memoryManager.malloc(4);\n    if (!this.pdfiumModule.FPDFAttachment_GetFile(attachmentPtr, 0, 0, sizePtr)) {\n      this.memoryManager.free(sizePtr);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ReadAttachmentContent`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantReadAttachmentSize,\n        message: 'can not read attachment size',\n      });\n    }\n    const size = this.pdfiumModule.pdfium.getValue(sizePtr, 'i32') >>> 0;\n\n    const contentPtr = this.memoryManager.malloc(size);\n    if (!this.pdfiumModule.FPDFAttachment_GetFile(attachmentPtr, contentPtr, size, sizePtr)) {\n      this.memoryManager.free(sizePtr);\n      this.memoryManager.free(contentPtr);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ReadAttachmentContent`, 'End', doc.id);\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantReadAttachmentContent,\n        message: 'can not read attachment content',\n      });\n    }\n\n    const buffer = new ArrayBuffer(size);\n    const view = new DataView(buffer);\n    for (let i = 0; i < size; i++) {\n      view.setInt8(i, this.pdfiumModule.pdfium.getValue(contentPtr + i, 'i8'));\n    }\n\n    this.memoryManager.free(sizePtr);\n    this.memoryManager.free(contentPtr);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ReadAttachmentContent`, 'End', doc.id);\n\n    return PdfTaskHelper.resolve(buffer);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.setFormFieldValue}\n   *\n   * @public\n   */\n  setFormFieldValue(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    annotation: PdfWidgetAnnoObject,\n    value: FormFieldValue,\n  ) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'SetFormFieldValue', doc, annotation, value);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `SetFormFieldValue`,\n      'Begin',\n      `${doc.id}-${annotation.id}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'SetFormFieldValue', 'document is not opened');\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `SetFormFieldValue`,\n        'End',\n        `${doc.id}-${annotation.id}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const formFillInfoPtr = this.pdfiumModule.PDFiumExt_OpenFormFillInfo();\n    const formHandle = this.pdfiumModule.PDFiumExt_InitFormFillEnvironment(\n      ctx.docPtr,\n      formFillInfoPtr,\n    );\n\n    const pageCtx = ctx.acquirePage(page.index);\n\n    this.pdfiumModule.FORM_OnAfterLoadPage(pageCtx.pagePtr, formHandle);\n\n    const annotationPtr = this.getAnnotationByName(pageCtx.pagePtr, annotation.id);\n\n    if (!annotationPtr) {\n      pageCtx.release();\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'SetFormFieldValue',\n        'End',\n        `${doc.id}-${page.index}`,\n      );\n      return PdfTaskHelper.reject({ code: PdfErrorCode.NotFound, message: 'annotation not found' });\n    }\n\n    if (!this.pdfiumModule.FORM_SetFocusedAnnot(formHandle, annotationPtr)) {\n      this.logger.debug(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        'SetFormFieldValue',\n        'failed to set focused annotation',\n      );\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `SetFormFieldValue`,\n        'End',\n        `${doc.id}-${annotation.id}`,\n      );\n      this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n      this.pdfiumModule.FORM_OnBeforeClosePage(pageCtx.pagePtr, formHandle);\n      pageCtx.release();\n      this.pdfiumModule.PDFiumExt_ExitFormFillEnvironment(formHandle);\n      this.pdfiumModule.PDFiumExt_CloseFormFillInfo(formFillInfoPtr);\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantFocusAnnot,\n        message: 'failed to set focused annotation',\n      });\n    }\n\n    switch (value.kind) {\n      case 'text':\n        {\n          if (!this.pdfiumModule.FORM_SelectAllText(formHandle, pageCtx.pagePtr)) {\n            this.logger.debug(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              'SetFormFieldValue',\n              'failed to select all text',\n            );\n            this.logger.perf(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              `SetFormFieldValue`,\n              'End',\n              `${doc.id}-${annotation.id}`,\n            );\n            this.pdfiumModule.FORM_ForceToKillFocus(formHandle);\n            this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n            this.pdfiumModule.FORM_OnBeforeClosePage(pageCtx.pagePtr, formHandle);\n            pageCtx.release();\n            this.pdfiumModule.PDFiumExt_ExitFormFillEnvironment(formHandle);\n            this.pdfiumModule.PDFiumExt_CloseFormFillInfo(formFillInfoPtr);\n\n            return PdfTaskHelper.reject({\n              code: PdfErrorCode.CantSelectText,\n              message: 'failed to select all text',\n            });\n          }\n          const length = 2 * (value.text.length + 1);\n          const textPtr = this.memoryManager.malloc(length);\n          this.pdfiumModule.pdfium.stringToUTF16(value.text, textPtr, length);\n          this.pdfiumModule.FORM_ReplaceSelection(formHandle, pageCtx.pagePtr, textPtr);\n          this.memoryManager.free(textPtr);\n        }\n        break;\n      case 'selection':\n        {\n          if (\n            !this.pdfiumModule.FORM_SetIndexSelected(\n              formHandle,\n              pageCtx.pagePtr,\n              value.index,\n              value.isSelected,\n            )\n          ) {\n            this.logger.debug(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              'SetFormFieldValue',\n              'failed to set index selected',\n            );\n            this.logger.perf(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              `SetFormFieldValue`,\n              'End',\n              `${doc.id}-${annotation.id}`,\n            );\n            this.pdfiumModule.FORM_ForceToKillFocus(formHandle);\n            this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n            this.pdfiumModule.FORM_OnBeforeClosePage(pageCtx.pagePtr, formHandle);\n            pageCtx.release();\n            this.pdfiumModule.PDFiumExt_ExitFormFillEnvironment(formHandle);\n            this.pdfiumModule.PDFiumExt_CloseFormFillInfo(formFillInfoPtr);\n\n            return PdfTaskHelper.reject({\n              code: PdfErrorCode.CantSelectOption,\n              message: 'failed to set index selected',\n            });\n          }\n        }\n        break;\n      case 'checked':\n        {\n          const kReturn = 0x0d;\n          if (!this.pdfiumModule.FORM_OnChar(formHandle, pageCtx.pagePtr, kReturn, 0)) {\n            this.logger.debug(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              'SetFormFieldValue',\n              'failed to set field checked',\n            );\n            this.logger.perf(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              `SetFormFieldValue`,\n              'End',\n              `${doc.id}-${annotation.id}`,\n            );\n            this.pdfiumModule.FORM_ForceToKillFocus(formHandle);\n            this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n            this.pdfiumModule.FORM_OnBeforeClosePage(pageCtx.pagePtr, formHandle);\n            pageCtx.release();\n            this.pdfiumModule.PDFiumExt_ExitFormFillEnvironment(formHandle);\n            this.pdfiumModule.PDFiumExt_CloseFormFillInfo(formFillInfoPtr);\n\n            return PdfTaskHelper.reject({\n              code: PdfErrorCode.CantCheckField,\n              message: 'failed to set field checked',\n            });\n          }\n        }\n        break;\n    }\n\n    this.pdfiumModule.FORM_ForceToKillFocus(formHandle);\n\n    this.pdfiumModule.FPDFPage_CloseAnnot(annotationPtr);\n    this.pdfiumModule.FORM_OnBeforeClosePage(pageCtx.pagePtr, formHandle);\n    pageCtx.release();\n\n    this.pdfiumModule.PDFiumExt_ExitFormFillEnvironment(formHandle);\n    this.pdfiumModule.PDFiumExt_CloseFormFillInfo(formFillInfoPtr);\n\n    return PdfTaskHelper.resolve<boolean>(true);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.flattenPage}\n   *\n   * @public\n   */\n  flattenPage(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    options?: PdfFlattenPageOptions,\n  ): PdfTask<PdfPageFlattenResult> {\n    const { flag = PdfPageFlattenFlag.Display } = options ?? {};\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'flattenPage', doc, page, flag);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `flattenPage`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `flattenPage`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n    const result = this.pdfiumModule.FPDFPage_Flatten(pageCtx.pagePtr, flag);\n    pageCtx.release();\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `flattenPage`, 'End', doc.id);\n\n    return PdfTaskHelper.resolve(result);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.extractPages}\n   *\n   * @public\n   */\n  extractPages(doc: PdfDocumentObject, pageIndexes: number[]) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'extractPages', doc, pageIndexes);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractPages`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractPages`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const newDocPtr = this.pdfiumModule.FPDF_CreateNewDocument();\n    if (!newDocPtr) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractPages`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantCreateNewDoc,\n        message: 'can not create new document',\n      });\n    }\n\n    const pageIndexesPtr = this.memoryManager.malloc(pageIndexes.length * 4);\n    for (let i = 0; i < pageIndexes.length; i++) {\n      this.pdfiumModule.pdfium.setValue(pageIndexesPtr + i * 4, pageIndexes[i], 'i32');\n    }\n\n    if (\n      !this.pdfiumModule.FPDF_ImportPagesByIndex(\n        newDocPtr,\n        ctx.docPtr,\n        pageIndexesPtr,\n        pageIndexes.length,\n        0,\n      )\n    ) {\n      this.pdfiumModule.FPDF_CloseDocument(newDocPtr);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractPages`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantImportPages,\n        message: 'can not import pages to new document',\n      });\n    }\n\n    const buffer = this.saveDocument(newDocPtr);\n\n    this.pdfiumModule.FPDF_CloseDocument(newDocPtr);\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractPages`, 'End', doc.id);\n    return PdfTaskHelper.resolve(buffer);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.extractText}\n   *\n   * @public\n   */\n  extractText(doc: PdfDocumentObject, pageIndexes: number[]) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'extractText', doc, pageIndexes);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractText`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractText`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const strings: string[] = [];\n    for (let i = 0; i < pageIndexes.length; i++) {\n      const pageCtx = ctx.acquirePage(pageIndexes[i]);\n      const textPagePtr = this.pdfiumModule.FPDFText_LoadPage(pageCtx.pagePtr);\n      const charCount = this.pdfiumModule.FPDFText_CountChars(textPagePtr);\n      const bufferPtr = this.memoryManager.malloc((charCount + 1) * 2);\n      this.pdfiumModule.FPDFText_GetText(textPagePtr, 0, charCount, bufferPtr);\n      const text = this.pdfiumModule.pdfium.UTF16ToString(bufferPtr);\n      this.memoryManager.free(bufferPtr);\n      strings.push(text);\n      this.pdfiumModule.FPDFText_ClosePage(textPagePtr);\n      pageCtx.release();\n    }\n\n    const text = strings.join('\\n\\n');\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `ExtractText`, 'End', doc.id);\n    return PdfTaskHelper.resolve(text);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.getTextSlices}\n   *\n   * @public\n   */\n  getTextSlices(doc: PdfDocumentObject, slices: PageTextSlice[]): PdfTask<string[]> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getTextSlices', doc, slices);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetTextSlices', 'Begin', doc.id);\n\n    /*  1  trivial case */\n    if (slices.length === 0) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetTextSlices', 'End', doc.id);\n      return PdfTaskHelper.resolve<string[]>([]);\n    }\n\n    /*  2  document must be open */\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetTextSlices', 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    try {\n      /* keep caller order */\n      const out = new Array<string>(slices.length);\n\n      /* group  open each page once */\n      const byPage = new Map<number, { slice: PageTextSlice; pos: number }[]>();\n      slices.forEach((s, i) => {\n        (byPage.get(s.pageIndex) ?? byPage.set(s.pageIndex, []).get(s.pageIndex))!.push({\n          slice: s,\n          pos: i,\n        });\n      });\n\n      for (const [pageIdx, list] of byPage) {\n        const pageCtx = ctx.acquirePage(pageIdx);\n        const textPagePtr = pageCtx.getTextPage();\n\n        for (const { slice, pos } of list) {\n          const bufPtr = this.memoryManager.malloc(2 * (slice.charCount + 1)); // UTF-16 + NIL\n          this.pdfiumModule.FPDFText_GetText(textPagePtr, slice.charIndex, slice.charCount, bufPtr);\n          out[pos] = stripPdfUnwantedMarkers(this.pdfiumModule.pdfium.UTF16ToString(bufPtr));\n          this.memoryManager.free(bufPtr);\n        }\n        pageCtx.release();\n      }\n\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetTextSlices', 'End', doc.id);\n      return PdfTaskHelper.resolve(out);\n    } catch (e) {\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, 'getTextSlices error', e);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetTextSlices', 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: String(e),\n      });\n    }\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.merge}\n   *\n   * @public\n   */\n  merge(files: PdfFile[]) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'merge', files);\n    const fileIds = files.map((file) => file.id).join('.');\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Merge`, 'Begin', fileIds);\n\n    const newDocPtr = this.pdfiumModule.FPDF_CreateNewDocument();\n    if (!newDocPtr) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Merge`, 'End', fileIds);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantCreateNewDoc,\n        message: 'can not create new document',\n      });\n    }\n\n    const ptrs: { docPtr: number; filePtr: WasmPointer }[] = [];\n    for (const file of files.reverse()) {\n      const array = new Uint8Array(file.content);\n      const length = array.length;\n      const filePtr = this.memoryManager.malloc(length);\n      this.pdfiumModule.pdfium.HEAPU8.set(array, filePtr);\n\n      const docPtr = this.pdfiumModule.FPDF_LoadMemDocument(filePtr, length, '');\n      if (!docPtr) {\n        const lastError = this.pdfiumModule.FPDF_GetLastError();\n        this.logger.error(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `FPDF_LoadMemDocument failed with ${lastError}`,\n        );\n        this.memoryManager.free(filePtr);\n\n        for (const ptr of ptrs) {\n          this.pdfiumModule.FPDF_CloseDocument(ptr.docPtr);\n          this.memoryManager.free(ptr.filePtr);\n        }\n\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Merge`, 'End', fileIds);\n        return PdfTaskHelper.reject<PdfFile>({\n          code: lastError,\n          message: `FPDF_LoadMemDocument failed`,\n        });\n      }\n      ptrs.push({ filePtr, docPtr });\n\n      if (!this.pdfiumModule.FPDF_ImportPages(newDocPtr, docPtr, '', 0)) {\n        this.pdfiumModule.FPDF_CloseDocument(newDocPtr);\n\n        for (const ptr of ptrs) {\n          this.pdfiumModule.FPDF_CloseDocument(ptr.docPtr);\n          this.memoryManager.free(ptr.filePtr);\n        }\n\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Merge`, 'End', fileIds);\n        return PdfTaskHelper.reject({\n          code: PdfErrorCode.CantImportPages,\n          message: 'can not import pages to new document',\n        });\n      }\n    }\n    const buffer = this.saveDocument(newDocPtr);\n\n    this.pdfiumModule.FPDF_CloseDocument(newDocPtr);\n\n    for (const ptr of ptrs) {\n      this.pdfiumModule.FPDF_CloseDocument(ptr.docPtr);\n      this.memoryManager.free(ptr.filePtr);\n    }\n\n    const file: PdfFile = {\n      id: `${Math.random()}`,\n      content: buffer,\n    };\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `Merge`, 'End', fileIds);\n    return PdfTaskHelper.resolve(file);\n  }\n\n  /**\n   * Merges specific pages from multiple PDF documents in a custom order\n   *\n   * @param mergeConfigs Array of configurations specifying which pages to merge from which documents\n   * @returns A PdfTask that resolves with the merged PDF file\n   * @public\n   */\n  mergePages(mergeConfigs: Array<{ docId: string; pageIndices: number[] }>) {\n    const configIds = mergeConfigs\n      .map((config) => `${config.docId}:${config.pageIndices.join(',')}`)\n      .join('|');\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'mergePages', mergeConfigs);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `MergePages`, 'Begin', configIds);\n\n    // Create a new document to import pages into\n    const newDocPtr = this.pdfiumModule.FPDF_CreateNewDocument();\n    if (!newDocPtr) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `MergePages`, 'End', configIds);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantCreateNewDoc,\n        message: 'Cannot create new document',\n      });\n    }\n\n    try {\n      // Process each merge configuration in reverse order (since we're inserting at position 0)\n      // This ensures the final document has pages in the order specified by the user\n      for (const config of [...mergeConfigs].reverse()) {\n        // Check if the document is open\n        const ctx = this.cache.getContext(config.docId);\n\n        if (!ctx) {\n          this.logger.warn(\n            LOG_SOURCE,\n            LOG_CATEGORY,\n            `Document ${config.docId} is not open, skipping`,\n          );\n          continue;\n        }\n\n        // Get the page count for this document\n        const pageCount = this.pdfiumModule.FPDF_GetPageCount(ctx.docPtr);\n\n        // Filter out invalid page indices\n        const validPageIndices = config.pageIndices.filter(\n          (index) => index >= 0 && index < pageCount,\n        );\n\n        if (validPageIndices.length === 0) {\n          continue; // No valid pages to import\n        }\n\n        // Convert 0-based indices to 1-based for PDFium and join with commas\n        const pageString = validPageIndices.map((index) => index + 1).join(',');\n\n        try {\n          // Import all specified pages at once from this document\n          if (\n            !this.pdfiumModule.FPDF_ImportPages(\n              newDocPtr,\n              ctx.docPtr,\n              pageString,\n              0, // Insert at the beginning\n            )\n          ) {\n            throw new Error(`Failed to import pages ${pageString} from document ${config.docId}`);\n          }\n        } finally {\n        }\n      }\n\n      // Save the new document to buffer\n      const buffer = this.saveDocument(newDocPtr);\n\n      const file: PdfFile = {\n        id: `${Math.random()}`,\n        content: buffer,\n      };\n\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `MergePages`, 'End', configIds);\n      return PdfTaskHelper.resolve(file);\n    } catch (error) {\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, 'mergePages failed', error);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `MergePages`, 'End', configIds);\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantImportPages,\n        message: error instanceof Error ? error.message : 'Failed to merge pages',\n      });\n    } finally {\n      // Clean up the new document\n      if (newDocPtr) {\n        this.pdfiumModule.FPDF_CloseDocument(newDocPtr);\n      }\n    }\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.saveAsCopy}\n   *\n   * @public\n   */\n  saveAsCopy(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'saveAsCopy', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SaveAsCopy`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SaveAsCopy`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const buffer = this.saveDocument(ctx.docPtr);\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SaveAsCopy`, 'End', doc.id);\n    return PdfTaskHelper.resolve(buffer);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.closeDocument}\n   *\n   * @public\n   */\n  closeDocument(doc: PdfDocumentObject) {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'closeDocument', doc);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `CloseDocument`, 'Begin', doc.id);\n\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) return PdfTaskHelper.resolve(true);\n\n    ctx.dispose();\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `CloseDocument`, 'End', doc.id);\n    return PdfTaskHelper.resolve(true);\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.closeAllDocuments}\n   *\n   * @public\n   */\n  closeAllDocuments() {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'closeAllDocuments');\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `CloseAllDocuments`, 'Begin');\n    this.cache.closeAllDocuments();\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `CloseAllDocuments`, 'End');\n    return PdfTaskHelper.resolve(true);\n  }\n\n  /**\n   * Add text content to annotation\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to text annotation\n   * @param annotation - text annotation\n   * @returns whether text content is added to annotation\n   *\n   * @private\n   */\n  private addTextContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfTextAnnoObject,\n  ) {\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (\n      annotation.inReplyToId &&\n      !this.setInReplyToId(pagePtr, annotationPtr, annotation.inReplyToId)\n    ) {\n      return false;\n    }\n    if (!this.setAnnotationIcon(annotationPtr, annotation.icon || PdfAnnotationIcon.Comment)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationFlags(annotationPtr, annotation.flags || ['print', 'noZoom', 'noRotate'])\n    ) {\n      return false;\n    }\n    if (annotation.state && !this.setAnnotString(annotationPtr, 'State', annotation.state)) {\n      return false;\n    }\n    if (\n      annotation.stateModel &&\n      !this.setAnnotString(annotationPtr, 'StateModel', annotation.stateModel)\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Add free text content to annotation\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to free text annotation\n   * @param annotation - free text annotation\n   * @returns whether free text content is added to annotation\n   *\n   * @private\n   */\n  private addFreeTextContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfFreeTextAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (!this.setBorderStyle(annotationPtr, PdfAnnotationBorderStyle.SOLID, 0)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (!this.setAnnotationTextAlignment(annotationPtr, annotation.textAlign)) {\n      return false;\n    }\n    if (!this.setAnnotationVerticalAlignment(annotationPtr, annotation.verticalAlign)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationDefaultAppearance(\n        annotationPtr,\n        annotation.fontFamily,\n        annotation.fontSize,\n        annotation.fontColor,\n      )\n    ) {\n      return false;\n    }\n    if (annotation.intent && !this.setAnnotIntent(annotationPtr, annotation.intent)) {\n      return false;\n    }\n    if (!annotation.backgroundColor || annotation.backgroundColor === 'transparent') {\n      if (!this.pdfiumModule.EPDFAnnot_ClearColor(annotationPtr, PdfAnnotationColorType.Color)) {\n        return false;\n      }\n    } else if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.backgroundColor ?? '#FFFFFF',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Set the rect of specified annotation\n   * @param page - page info that the annotation is belonged to\n   * @param pagePtr - pointer of page object\n   * @param annotationPtr - pointer to annotation object\n   * @param inkList - ink lists that added to the annotation\n   * @returns whether the ink lists is setted\n   *\n   * @private\n   */\n  private addInkStroke(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfInkAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (\n      !this.setBorderStyle(annotationPtr, PdfAnnotationBorderStyle.SOLID, annotation.strokeWidth)\n    ) {\n      return false;\n    }\n    if (!this.setInkList(page, annotationPtr, annotation.inkList)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.color ?? '#FFFF00',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Add line content to annotation\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to line annotation\n   * @param annotation - line annotation\n   * @returns whether line content is added to annotation\n   *\n   * @private\n   */\n  private addLineContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfLineAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (\n      !this.setLinePoints(\n        page,\n        annotationPtr,\n        annotation.linePoints.start,\n        annotation.linePoints.end,\n      )\n    ) {\n      return false;\n    }\n    if (\n      !this.setLineEndings(\n        annotationPtr,\n        annotation.lineEndings?.start ?? PdfAnnotationLineEnding.None,\n        annotation.lineEndings?.end ?? PdfAnnotationLineEnding.None,\n      )\n    ) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setBorderStyle(annotationPtr, annotation.strokeStyle, annotation.strokeWidth)) {\n      return false;\n    }\n    if (!this.setBorderDashPattern(annotationPtr, annotation.strokeDashArray ?? [])) {\n      return false;\n    }\n    if (annotation.intent && !this.setAnnotIntent(annotationPtr, annotation.intent)) {\n      return false;\n    }\n    if (!annotation.color || annotation.color === 'transparent') {\n      if (\n        !this.pdfiumModule.EPDFAnnot_ClearColor(annotationPtr, PdfAnnotationColorType.InteriorColor)\n      ) {\n        return false;\n      }\n    } else if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.color ?? '#FFFF00',\n        PdfAnnotationColorType.InteriorColor,\n      )\n    ) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.strokeColor ?? '#FFFF00',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Add polygon or polyline content to annotation\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to polygon or polyline annotation\n   * @param annotation - polygon or polyline annotation\n   * @returns whether polygon or polyline content is added to annotation\n   *\n   * @private\n   */\n  private addPolyContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfPolygonAnnoObject | PdfPolylineAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (\n      annotation.type === PdfAnnotationSubtype.POLYLINE &&\n      !this.setLineEndings(\n        annotationPtr,\n        annotation.lineEndings?.start ?? PdfAnnotationLineEnding.None,\n        annotation.lineEndings?.end ?? PdfAnnotationLineEnding.None,\n      )\n    ) {\n      return false;\n    }\n    if (!this.setPdfAnnoVertices(page, annotationPtr, annotation.vertices)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setBorderStyle(annotationPtr, annotation.strokeStyle, annotation.strokeWidth)) {\n      return false;\n    }\n    if (!this.setBorderDashPattern(annotationPtr, annotation.strokeDashArray ?? [])) {\n      return false;\n    }\n    if (annotation.intent && !this.setAnnotIntent(annotationPtr, annotation.intent)) {\n      return false;\n    }\n    if (!annotation.color || annotation.color === 'transparent') {\n      if (\n        !this.pdfiumModule.EPDFAnnot_ClearColor(annotationPtr, PdfAnnotationColorType.InteriorColor)\n      ) {\n        return false;\n      }\n    } else if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.color ?? '#FFFF00',\n        PdfAnnotationColorType.InteriorColor,\n      )\n    ) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.strokeColor ?? '#FFFF00',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Add shape content to annotation\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to shape annotation\n   * @param annotation - shape annotation\n   * @returns whether shape content is added to annotation\n   *\n   * @private\n   */\n  addShapeContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfCircleAnnoObject | PdfSquareAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setBorderStyle(annotationPtr, annotation.strokeStyle, annotation.strokeWidth)) {\n      return false;\n    }\n    if (!this.setBorderDashPattern(annotationPtr, annotation.strokeDashArray ?? [])) {\n      return false;\n    }\n    if (!this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (!annotation.color || annotation.color === 'transparent') {\n      if (\n        !this.pdfiumModule.EPDFAnnot_ClearColor(annotationPtr, PdfAnnotationColorType.InteriorColor)\n      ) {\n        return false;\n      }\n    } else if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.color ?? '#FFFF00',\n        PdfAnnotationColorType.InteriorColor,\n      )\n    ) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.strokeColor ?? '#FFFF00',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Add highlight content to annotation\n   * @param page - page info\n   * @param annotationPtr - pointer to highlight annotation\n   * @param annotation - highlight annotation\n   * @returns whether highlight content is added to annotation\n   *\n   * @private\n   */\n  addTextMarkupContent(\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation:\n      | PdfHighlightAnnoObject\n      | PdfUnderlineAnnoObject\n      | PdfStrikeOutAnnoObject\n      | PdfSquigglyAnnoObject,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (!this.syncQuadPointsAnno(page, annotationPtr, annotation.segmentRects)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (!this.setAnnotationOpacity(annotationPtr, annotation.opacity ?? 1)) {\n      return false;\n    }\n    if (\n      !this.setAnnotationColor(\n        annotationPtr,\n        annotation.color ?? '#FFFF00',\n        PdfAnnotationColorType.Color,\n      )\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Add contents to stamp annotation\n   * @param docPtr - pointer to pdf document object\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to stamp annotation\n   * @param rect - rect of stamp annotation\n   * @param contents - contents of stamp annotation\n   * @returns whether contents is added to annotation\n   *\n   * @private\n   */\n  addStampContent(\n    docPtr: number,\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    annotation: PdfStampAnnoObject,\n    imageData?: ImageData,\n  ) {\n    if (\n      annotation.created &&\n      !this.setAnnotationDate(annotationPtr, 'CreationDate', annotation.created)\n    ) {\n      return false;\n    }\n    if (annotation.custom && !this.setAnnotCustom(annotationPtr, annotation.custom)) {\n      return false;\n    }\n    if (annotation.flags && !this.setAnnotationFlags(annotationPtr, annotation.flags)) {\n      return false;\n    }\n    if (annotation.modified && !this.setAnnotationDate(annotationPtr, 'M', annotation.modified)) {\n      return false;\n    }\n    if (annotation.icon && !this.setAnnotationIcon(annotationPtr, annotation.icon)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'T', annotation.author || '')) {\n      return false;\n    }\n    if (annotation.subject && !this.setAnnotString(annotationPtr, 'Subj', annotation.subject)) {\n      return false;\n    }\n    if (!this.setAnnotString(annotationPtr, 'Contents', annotation.contents ?? '')) {\n      return false;\n    }\n    if (imageData) {\n      for (let i = this.pdfiumModule.FPDFAnnot_GetObjectCount(annotationPtr) - 1; i >= 0; i--) {\n        this.pdfiumModule.FPDFAnnot_RemoveObject(annotationPtr, i);\n      }\n\n      if (!this.addImageObject(docPtr, page, pagePtr, annotationPtr, annotation.rect, imageData)) {\n        return false;\n      }\n    }\n    if (!this.pdfiumModule.EPDFAnnot_UpdateAppearanceToRect(annotationPtr, PdfStampFit.Cover)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Add image object to annotation\n   * @param docPtr - pointer to pdf document object\n   * @param page - page info\n   * @param pagePtr - pointer to page object\n   * @param annotationPtr - pointer to stamp annotation\n   * @param position - position of image\n   * @param imageData - data of image\n   * @returns whether image is added to annotation\n   *\n   * @private\n   */\n  addImageObject(\n    docPtr: number,\n    page: PdfPageObject,\n    pagePtr: number,\n    annotationPtr: number,\n    rect: Rect,\n    imageData: ImageData,\n  ) {\n    const bytesPerPixel = 4;\n    const pixelCount = imageData.width * imageData.height;\n\n    const bitmapBufferPtr = this.memoryManager.malloc(bytesPerPixel * pixelCount);\n    if (!bitmapBufferPtr) {\n      return false;\n    }\n\n    for (let i = 0; i < pixelCount; i++) {\n      const red = imageData.data[i * bytesPerPixel];\n      const green = imageData.data[i * bytesPerPixel + 1];\n      const blue = imageData.data[i * bytesPerPixel + 2];\n      const alpha = imageData.data[i * bytesPerPixel + 3];\n\n      this.pdfiumModule.pdfium.setValue(bitmapBufferPtr + i * bytesPerPixel, blue, 'i8');\n      this.pdfiumModule.pdfium.setValue(bitmapBufferPtr + i * bytesPerPixel + 1, green, 'i8');\n      this.pdfiumModule.pdfium.setValue(bitmapBufferPtr + i * bytesPerPixel + 2, red, 'i8');\n      this.pdfiumModule.pdfium.setValue(bitmapBufferPtr + i * bytesPerPixel + 3, alpha, 'i8');\n    }\n\n    const format = BitmapFormat.Bitmap_BGRA;\n    const bitmapPtr = this.pdfiumModule.FPDFBitmap_CreateEx(\n      imageData.width,\n      imageData.height,\n      format,\n      bitmapBufferPtr,\n      0,\n    );\n    if (!bitmapPtr) {\n      this.memoryManager.free(bitmapBufferPtr);\n      return false;\n    }\n\n    const imageObjectPtr = this.pdfiumModule.FPDFPageObj_NewImageObj(docPtr);\n    if (!imageObjectPtr) {\n      this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n      this.memoryManager.free(bitmapBufferPtr);\n      return false;\n    }\n\n    if (!this.pdfiumModule.FPDFImageObj_SetBitmap(pagePtr, 0, imageObjectPtr, bitmapPtr)) {\n      this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n      this.pdfiumModule.FPDFPageObj_Destroy(imageObjectPtr);\n      this.memoryManager.free(bitmapBufferPtr);\n      return false;\n    }\n\n    const matrixPtr = this.memoryManager.malloc(6 * 4);\n    this.pdfiumModule.pdfium.setValue(matrixPtr, imageData.width, 'float');\n    this.pdfiumModule.pdfium.setValue(matrixPtr + 4, 0, 'float');\n    this.pdfiumModule.pdfium.setValue(matrixPtr + 8, 0, 'float');\n    this.pdfiumModule.pdfium.setValue(matrixPtr + 12, imageData.height, 'float');\n    this.pdfiumModule.pdfium.setValue(matrixPtr + 16, 0, 'float');\n    this.pdfiumModule.pdfium.setValue(matrixPtr + 20, 0, 'float');\n    if (!this.pdfiumModule.FPDFPageObj_SetMatrix(imageObjectPtr, matrixPtr)) {\n      this.memoryManager.free(matrixPtr);\n      this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n      this.pdfiumModule.FPDFPageObj_Destroy(imageObjectPtr);\n      this.memoryManager.free(bitmapBufferPtr);\n      return false;\n    }\n    this.memoryManager.free(matrixPtr);\n\n    const pagePos = this.convertDevicePointToPagePoint(page, {\n      x: rect.origin.x,\n      y: rect.origin.y + imageData.height, // shift down by the image height\n    });\n    this.pdfiumModule.FPDFPageObj_Transform(imageObjectPtr, 1, 0, 0, 1, pagePos.x, pagePos.y);\n\n    if (!this.pdfiumModule.FPDFAnnot_AppendObject(annotationPtr, imageObjectPtr)) {\n      this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n      this.pdfiumModule.FPDFPageObj_Destroy(imageObjectPtr);\n      this.memoryManager.free(bitmapBufferPtr);\n      return false;\n    }\n\n    this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n    this.memoryManager.free(bitmapBufferPtr);\n\n    return true;\n  }\n\n  /**\n   * Save document to array buffer\n   * @param docPtr - pointer to pdf document\n   * @returns array buffer contains the pdf content\n   *\n   * @private\n   */\n  saveDocument(docPtr: number) {\n    const writerPtr = this.pdfiumModule.PDFiumExt_OpenFileWriter();\n    this.pdfiumModule.PDFiumExt_SaveAsCopy(docPtr, writerPtr);\n    const size = this.pdfiumModule.PDFiumExt_GetFileWriterSize(writerPtr);\n    const dataPtr = this.memoryManager.malloc(size);\n    this.pdfiumModule.PDFiumExt_GetFileWriterData(writerPtr, dataPtr, size);\n    const buffer = new ArrayBuffer(size);\n    const view = new DataView(buffer);\n    for (let i = 0; i < size; i++) {\n      view.setInt8(i, this.pdfiumModule.pdfium.getValue(dataPtr + i, 'i8'));\n    }\n    this.memoryManager.free(dataPtr);\n    this.pdfiumModule.PDFiumExt_CloseFileWriter(writerPtr);\n\n    return buffer;\n  }\n\n  /**\n   * Read Catalog /Lang via EPDFCatalog_GetLanguage (UTF-16LE  JS string).\n   * Returns:\n   *   null  -> /Lang not present (getter returned 0) OR doc not open,\n   *   ''    -> /Lang exists but is explicitly empty,\n   *   'en', 'en-US', ... -> normal tag.\n   *\n   * Note: EPDFCatalog_GetLanguage lengths are BYTES (incl. trailing NUL).\n   *\n   * @private\n   */\n  private readCatalogLanguage(docPtr: number): string | null {\n    // Probe required length in BYTES (includes UTF-16LE trailing NUL).\n    const byteLen = this.pdfiumModule.EPDFCatalog_GetLanguage(docPtr, 0, 0) >>> 0;\n\n    // 0 => /Lang missing (or invalid doc/root)  expose as null\n    if (byteLen === 0) return null;\n\n    // 2 => empty UTF-16LE string (just the NUL)  explicitly empty\n    if (byteLen === 2) return '';\n\n    // Read exact buffer to avoid extra allocs.\n    return readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) =>\n        this.pdfiumModule.EPDFCatalog_GetLanguage(docPtr, buffer, bufferLength),\n      this.pdfiumModule.pdfium.UTF16ToString,\n      byteLen,\n    );\n  }\n\n  /**\n   * Read metadata from pdf document\n   * @param docPtr - pointer to pdf document\n   * @param key - key of metadata field\n   * @returns metadata value\n   *\n   * @private\n   */\n  private readMetaText(docPtr: number, key: string): string | null {\n    const exists = !!this.pdfiumModule.EPDF_HasMetaText(docPtr, key);\n    if (!exists) return null;\n\n    const len = this.pdfiumModule.FPDF_GetMetaText(docPtr, key, 0, 0);\n    if (len === 2) return '';\n\n    // Read with an exact buffer to avoid extra allocations.\n    return readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) =>\n        this.pdfiumModule.FPDF_GetMetaText(docPtr, key, buffer, bufferLength),\n      this.pdfiumModule.pdfium.UTF16ToString,\n      len,\n    );\n  }\n\n  /**\n   * Write metadata into the PDF's Info dictionary.\n   * If `value` is null or empty string, the key is removed.\n   * @param docPtr - pointer to pdf document\n   * @param key - key of metadata field\n   * @param value - value of metadata field\n   * @returns whether metadata is written to the pdf document\n   *\n   * @private\n   */\n  private setMetaText(docPtr: number, key: string, value: string | null | undefined): boolean {\n    // Remove key if value is null/undefined/empty\n    if (value == null || value.length === 0) {\n      // Pass nullptr for value  removal in our C++ implementation\n      const ok = this.pdfiumModule.EPDF_SetMetaText(docPtr, key, 0);\n      return !!ok;\n    }\n\n    // UTF-16LE buffer (+2 bytes for NUL)\n    const bytes = 2 * (value.length + 1);\n    const ptr = this.memoryManager.malloc(bytes);\n    try {\n      this.pdfiumModule.pdfium.stringToUTF16(value, ptr, bytes);\n      const ok = this.pdfiumModule.EPDF_SetMetaText(docPtr, key, ptr);\n      return !!ok;\n    } finally {\n      this.memoryManager.free(ptr);\n    }\n  }\n\n  /**\n   * Read the document's trapped status via PDFium.\n   * Falls back to `Unknown` on unexpected values.\n   *\n   * @private\n   */\n  private getMetaTrapped(docPtr: number): PdfTrappedStatus {\n    const raw = Number(this.pdfiumModule.EPDF_GetMetaTrapped(docPtr));\n    switch (raw) {\n      case PdfTrappedStatus.NotSet:\n      case PdfTrappedStatus.True:\n      case PdfTrappedStatus.False:\n      case PdfTrappedStatus.Unknown:\n        return raw;\n      default:\n        return PdfTrappedStatus.Unknown;\n    }\n  }\n\n  /**\n   * Write (or clear) the document's trapped status via PDFium.\n   * Pass `null`/`undefined` to remove the `/Trapped` key.\n   *\n   * @private\n   */\n  private setMetaTrapped(docPtr: number, status: PdfTrappedStatus | null | undefined): boolean {\n    // Treat null/undefined as remove key  the C++ side handles NotSet by\n    // deleting /Trapped from the Info dictionary.\n    const toSet = status == null || status === undefined ? PdfTrappedStatus.NotSet : status;\n\n    // Guard against unexpected values.\n    const valid =\n      toSet === PdfTrappedStatus.NotSet ||\n      toSet === PdfTrappedStatus.True ||\n      toSet === PdfTrappedStatus.False ||\n      toSet === PdfTrappedStatus.Unknown;\n\n    if (!valid) return false;\n\n    return !!this.pdfiumModule.EPDF_SetMetaTrapped(docPtr, toSet);\n  }\n\n  /**\n   * Get the number of keys in the document's Info dictionary.\n   * @param docPtr - pointer to pdf document\n   * @param customOnly - if true, only count non-reserved (custom) keys; if false, count all keys.\n   * @returns the number of keys (possibly 0). On error, returns 0.\n   *\n   * @private\n   */\n  private getMetaKeyCount(docPtr: number, customOnly: boolean): number {\n    return Number(this.pdfiumModule.EPDF_GetMetaKeyCount(docPtr, customOnly)) | 0;\n  }\n\n  /**\n   * Get the name of the Info dictionary key at |index|.\n   * @param docPtr - pointer to pdf document\n   * @param index - 0-based key index in the order returned by PDFium.\n   * @param customOnly - if true, indexes only over non-reserved (custom) keys; if false, indexes over all keys.\n   * @returns the name of the key, or null if the key is not found.\n   *\n   * @private\n   */\n  private getMetaKeyName(docPtr: number, index: number, customOnly: boolean): string | null {\n    const len = this.pdfiumModule.EPDF_GetMetaKeyName(docPtr, index, customOnly, 0, 0);\n    if (!len) return null;\n    return readString(\n      this.pdfiumModule.pdfium,\n      (buffer, buflen) =>\n        this.pdfiumModule.EPDF_GetMetaKeyName(docPtr, index, customOnly, buffer, buflen),\n      this.pdfiumModule.pdfium.UTF8ToString,\n      len,\n    );\n  }\n\n  /**\n   * Read all metadata from the document's Info dictionary.\n   * @param docPtr - pointer to pdf document\n   * @param customOnly - if true, only read non-reserved (custom) keys; if false, read all keys.\n   * @returns all metadata\n   *\n   * @private\n   */\n  private readAllMeta(docPtr: number, customOnly: boolean = true): Record<string, string | null> {\n    const n = this.getMetaKeyCount(docPtr, customOnly);\n    const out: Record<string, string | null> = {};\n    for (let i = 0; i < n; i++) {\n      const key = this.getMetaKeyName(docPtr, i, customOnly);\n      if (!key) continue;\n      out[key] = this.readMetaText(docPtr, key); // returns null if not present\n    }\n    return out;\n  }\n\n  /**\n   * Read bookmarks in the pdf document\n   * @param docPtr - pointer to pdf document\n   * @param rootBookmarkPtr - pointer to root bookmark\n   * @returns bookmarks in the pdf document\n   *\n   * @private\n   */\n  readPdfBookmarks(docPtr: number, rootBookmarkPtr = 0) {\n    let bookmarkPtr = this.pdfiumModule.FPDFBookmark_GetFirstChild(docPtr, rootBookmarkPtr);\n\n    const bookmarks: PdfBookmarkObject[] = [];\n    while (bookmarkPtr) {\n      const bookmark = this.readPdfBookmark(docPtr, bookmarkPtr);\n      bookmarks.push(bookmark);\n\n      const nextBookmarkPtr = this.pdfiumModule.FPDFBookmark_GetNextSibling(docPtr, bookmarkPtr);\n\n      bookmarkPtr = nextBookmarkPtr;\n    }\n\n    return bookmarks;\n  }\n\n  /**\n   * Read bookmark in the pdf document\n   * @param docPtr - pointer to pdf document\n   * @param bookmarkPtr - pointer to bookmark object\n   * @returns pdf bookmark object\n   *\n   * @private\n   */\n  private readPdfBookmark(docPtr: number, bookmarkPtr: number): PdfBookmarkObject {\n    const title = readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) => {\n        return this.pdfiumModule.FPDFBookmark_GetTitle(bookmarkPtr, buffer, bufferLength);\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n\n    const bookmarks = this.readPdfBookmarks(docPtr, bookmarkPtr);\n\n    const target = this.readPdfBookmarkTarget(\n      docPtr,\n      () => {\n        return this.pdfiumModule.FPDFBookmark_GetAction(bookmarkPtr);\n      },\n      () => {\n        return this.pdfiumModule.FPDFBookmark_GetDest(docPtr, bookmarkPtr);\n      },\n    );\n\n    return {\n      title,\n      target,\n      children: bookmarks,\n    };\n  }\n\n  /**\n   * Read text rects in pdf page\n   * @param page - pdf page info\n   * @param docPtr - pointer to pdf document\n   * @param pagePtr - pointer to pdf page\n   * @param textPagePtr - pointer to pdf text page\n   * @returns text rects in the pdf page\n   *\n   * @public\n   */\n  private readPageTextRects(\n    page: PdfPageObject,\n    docPtr: number,\n    pagePtr: number,\n    textPagePtr: number,\n  ) {\n    const rectsCount = this.pdfiumModule.FPDFText_CountRects(textPagePtr, 0, -1);\n\n    const textRects: PdfTextRectObject[] = [];\n    for (let i = 0; i < rectsCount; i++) {\n      const topPtr = this.memoryManager.malloc(8);\n      const leftPtr = this.memoryManager.malloc(8);\n      const rightPtr = this.memoryManager.malloc(8);\n      const bottomPtr = this.memoryManager.malloc(8);\n      const isSucceed = this.pdfiumModule.FPDFText_GetRect(\n        textPagePtr,\n        i,\n        leftPtr,\n        topPtr,\n        rightPtr,\n        bottomPtr,\n      );\n      if (!isSucceed) {\n        this.memoryManager.free(leftPtr);\n        this.memoryManager.free(topPtr);\n        this.memoryManager.free(rightPtr);\n        this.memoryManager.free(bottomPtr);\n        continue;\n      }\n\n      const left = this.pdfiumModule.pdfium.getValue(leftPtr, 'double');\n      const top = this.pdfiumModule.pdfium.getValue(topPtr, 'double');\n      const right = this.pdfiumModule.pdfium.getValue(rightPtr, 'double');\n      const bottom = this.pdfiumModule.pdfium.getValue(bottomPtr, 'double');\n\n      this.memoryManager.free(leftPtr);\n      this.memoryManager.free(topPtr);\n      this.memoryManager.free(rightPtr);\n      this.memoryManager.free(bottomPtr);\n\n      const deviceXPtr = this.memoryManager.malloc(4);\n      const deviceYPtr = this.memoryManager.malloc(4);\n      this.pdfiumModule.FPDF_PageToDevice(\n        pagePtr,\n        0,\n        0,\n        page.size.width,\n        page.size.height,\n        0,\n        left,\n        top,\n        deviceXPtr,\n        deviceYPtr,\n      );\n      const x = this.pdfiumModule.pdfium.getValue(deviceXPtr, 'i32');\n      const y = this.pdfiumModule.pdfium.getValue(deviceYPtr, 'i32');\n      this.memoryManager.free(deviceXPtr);\n      this.memoryManager.free(deviceYPtr);\n\n      const rect = {\n        origin: {\n          x,\n          y,\n        },\n        size: {\n          width: Math.ceil(Math.abs(right - left)),\n          height: Math.ceil(Math.abs(top - bottom)),\n        },\n      };\n\n      const utf16Length = this.pdfiumModule.FPDFText_GetBoundedText(\n        textPagePtr,\n        left,\n        top,\n        right,\n        bottom,\n        0,\n        0,\n      );\n      const bytesCount = (utf16Length + 1) * 2; // include NIL\n      const textBuffer = this.memoryManager.malloc(bytesCount);\n      this.pdfiumModule.FPDFText_GetBoundedText(\n        textPagePtr,\n        left,\n        top,\n        right,\n        bottom,\n        textBuffer,\n        utf16Length,\n      );\n      const content = this.pdfiumModule.pdfium.UTF16ToString(textBuffer);\n      this.memoryManager.free(textBuffer);\n\n      const charIndex = this.pdfiumModule.FPDFText_GetCharIndexAtPos(textPagePtr, left, top, 2, 2);\n      let fontFamily = '';\n      let fontSize = rect.size.height;\n      if (charIndex >= 0) {\n        fontSize = this.pdfiumModule.FPDFText_GetFontSize(textPagePtr, charIndex);\n\n        const fontNameLength = this.pdfiumModule.FPDFText_GetFontInfo(\n          textPagePtr,\n          charIndex,\n          0,\n          0,\n          0,\n        );\n\n        const bytesCount = fontNameLength + 1; // include NIL\n        const textBufferPtr = this.memoryManager.malloc(bytesCount);\n        const flagsPtr = this.memoryManager.malloc(4);\n        this.pdfiumModule.FPDFText_GetFontInfo(\n          textPagePtr,\n          charIndex,\n          textBufferPtr,\n          bytesCount,\n          flagsPtr,\n        );\n        fontFamily = this.pdfiumModule.pdfium.UTF8ToString(textBufferPtr);\n        this.memoryManager.free(textBufferPtr);\n        this.memoryManager.free(flagsPtr);\n      }\n\n      const textRect: PdfTextRectObject = {\n        content,\n        rect,\n        font: {\n          family: fontFamily,\n          size: fontSize,\n        },\n      };\n\n      textRects.push(textRect);\n    }\n\n    return textRects;\n  }\n\n  /**\n   * Return geometric + logical text layout for one page\n   * (glyph-only implementation, no FPDFText_GetRect).\n   *\n   * @public\n   */\n  getPageGeometry(doc: PdfDocumentObject, page: PdfPageObject): PdfTask<PdfPageGeometry> {\n    const label = 'getPageGeometry';\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, label, 'Begin', doc.id);\n\n    /*  guards  */\n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, label, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    /*  native handles  */\n    const pageCtx = ctx.acquirePage(page.index);\n    const textPagePtr = pageCtx.getTextPage();\n\n    /*  1. read ALL glyphs in logical order  */\n    const glyphCount = this.pdfiumModule.FPDFText_CountChars(textPagePtr);\n    const glyphs: PdfGlyphObject[] = [];\n\n    for (let i = 0; i < glyphCount; i++) {\n      const g = this.readGlyphInfo(page, pageCtx.pagePtr, textPagePtr, i);\n      glyphs.push(g);\n    }\n\n    /*  2. build visual runs from glyph stream  */\n    const runs: PdfRun[] = this.buildRunsFromGlyphs(glyphs, textPagePtr);\n\n    /*  3. cleanup & resolve task  */\n    pageCtx.release();\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, label, 'End', doc.id);\n    return PdfTaskHelper.resolve({ runs });\n  }\n\n  /**\n   * Group consecutive glyphs that belong to the same CPDF_TextObject\n   * using FPDFText_GetTextObject(), and calculate rotation from glyph positions.\n   */\n  private buildRunsFromGlyphs(glyphs: PdfGlyphObject[], textPagePtr: number): PdfRun[] {\n    const runs: PdfRun[] = [];\n    let current: PdfRun | null = null;\n    let curObjPtr: number | null = null;\n    let bounds: { minX: number; minY: number; maxX: number; maxY: number } | null = null;\n\n    /**  main loop  */\n    for (let i = 0; i < glyphs.length; i++) {\n      const g = glyphs[i];\n\n      /* 1  find the CPDF_TextObject this glyph belongs to */\n      const objPtr = this.pdfiumModule.FPDFText_GetTextObject(textPagePtr, i) as number;\n\n      /* 2  start a new run when the text object changes */\n      if (objPtr !== curObjPtr) {\n        curObjPtr = objPtr;\n        current = {\n          rect: {\n            x: g.origin.x,\n            y: g.origin.y,\n            width: g.size.width,\n            height: g.size.height,\n          },\n          charStart: i,\n          glyphs: [],\n        };\n        bounds = {\n          minX: g.origin.x,\n          minY: g.origin.y,\n          maxX: g.origin.x + g.size.width,\n          maxY: g.origin.y + g.size.height,\n        };\n        runs.push(current);\n      }\n\n      /* 3  append the slim glyph record */\n      current!.glyphs.push({\n        x: g.origin.x,\n        y: g.origin.y,\n        width: g.size.width,\n        height: g.size.height,\n        flags: g.isEmpty ? 2 : g.isSpace ? 1 : 0,\n      });\n\n      /* 4  expand the run's bounding rect */\n      if (g.isEmpty) {\n        continue;\n      }\n\n      const right = g.origin.x + g.size.width;\n      const bottom = g.origin.y + g.size.height;\n\n      // Update bounds\n      bounds!.minX = Math.min(bounds!.minX, g.origin.x);\n      bounds!.minY = Math.min(bounds!.minY, g.origin.y);\n      bounds!.maxX = Math.max(bounds!.maxX, right);\n      bounds!.maxY = Math.max(bounds!.maxY, bottom);\n\n      // Calculate final rect from bounds\n      current!.rect.x = bounds!.minX;\n      current!.rect.y = bounds!.minY;\n      current!.rect.width = bounds!.maxX - bounds!.minX;\n      current!.rect.height = bounds!.maxY - bounds!.minY;\n    }\n\n    return runs;\n  }\n\n  /**\n   * Extract glyph geometry + metadata for `charIndex`\n   *\n   * Returns devicespace coordinates:\n   *   x,y   **top-left** corner (integer-pixels)\n   *   w,h   width / height (integer-pixels,  1)\n   *\n   * And two flags:\n   *   isSpace  true if the glyph's Unicode code-point is U+0020\n   */\n  private readGlyphInfo(\n    page: PdfPageObject,\n    pagePtr: number,\n    textPagePtr: number,\n    charIndex: number,\n  ): PdfGlyphObject {\n    //  native stack temp pointers \n    const dx1Ptr = this.memoryManager.malloc(4);\n    const dy1Ptr = this.memoryManager.malloc(4);\n    const dx2Ptr = this.memoryManager.malloc(4);\n    const dy2Ptr = this.memoryManager.malloc(4);\n    const rectPtr = this.memoryManager.malloc(16); // 4 floats = 16 bytes\n\n    let x = 0,\n      y = 0,\n      width = 0,\n      height = 0,\n      isSpace = false;\n\n    //  1) raw glyph bbox in                      page-user-space\n    if (this.pdfiumModule.FPDFText_GetLooseCharBox(textPagePtr, charIndex, rectPtr)) {\n      const left = this.pdfiumModule.pdfium.getValue(rectPtr, 'float');\n      const top = this.pdfiumModule.pdfium.getValue(rectPtr + 4, 'float');\n      const right = this.pdfiumModule.pdfium.getValue(rectPtr + 8, 'float');\n      const bottom = this.pdfiumModule.pdfium.getValue(rectPtr + 12, 'float');\n\n      if (left === right || top === bottom) {\n        [rectPtr, dx1Ptr, dy1Ptr, dx2Ptr, dy2Ptr].forEach((p) => this.memoryManager.free(p));\n\n        return {\n          origin: { x: 0, y: 0 },\n          size: { width: 0, height: 0 },\n          isEmpty: true,\n        };\n      }\n\n      //  2) map 2 opposite corners to            device-space\n      this.pdfiumModule.FPDF_PageToDevice(\n        pagePtr,\n        0,\n        0,\n        page.size.width,\n        page.size.height,\n        /*rotate=*/ 0,\n        left,\n        top,\n        dx1Ptr,\n        dy1Ptr,\n      );\n      this.pdfiumModule.FPDF_PageToDevice(\n        pagePtr,\n        0,\n        0,\n        page.size.width,\n        page.size.height,\n        /*rotate=*/ 0,\n        right,\n        bottom,\n        dx2Ptr,\n        dy2Ptr,\n      );\n\n      const x1 = this.pdfiumModule.pdfium.getValue(dx1Ptr, 'i32');\n      const y1 = this.pdfiumModule.pdfium.getValue(dy1Ptr, 'i32');\n      const x2 = this.pdfiumModule.pdfium.getValue(dx2Ptr, 'i32');\n      const y2 = this.pdfiumModule.pdfium.getValue(dy2Ptr, 'i32');\n\n      x = Math.min(x1, x2);\n      y = Math.min(y1, y2);\n      width = Math.max(1, Math.abs(x2 - x1));\n      height = Math.max(1, Math.abs(y2 - y1));\n\n      //  3) extra flags \n      const uc = this.pdfiumModule.FPDFText_GetUnicode(textPagePtr, charIndex);\n      isSpace = uc === 32;\n    }\n\n    //  free tmps \n    [rectPtr, dx1Ptr, dy1Ptr, dx2Ptr, dy2Ptr].forEach((p) => this.memoryManager.free(p));\n\n    return {\n      origin: { x, y },\n      size: { width, height },\n      ...(isSpace && { isSpace }),\n    };\n  }\n\n  /**\n   * Geometry-only text extraction\n   * ------------------------------------------\n   * Returns every glyph on the requested page\n   * in the logical order delivered by PDFium.\n   *\n   * The promise resolves to an array of objects:\n   *   {\n   *     idx:     number;            // glyph index on the page (0n-1)\n   *     origin:  { x: number; y: number };\n   *     size:    { width: number;  height: number };\n   *     angle:   number;            // degrees, counter-clock-wise\n   *     isSpace: boolean;           // true   U+0020\n   *   }\n   *\n   * No Unicode is included; front-end decides whether to hydrate it.\n   */\n  public getPageGlyphs(doc: PdfDocumentObject, page: PdfPageObject): PdfTask<PdfGlyphObject[]> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getPageGlyphs', doc, page);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'getPageGlyphs', 'Begin', doc.id);\n\n    //  1) safety: document handle must be alive \n    const ctx = this.cache.getContext(doc.id);\n\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'getPageGlyphs', 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    //  2) load page + text page handles \n    const pageCtx = ctx.acquirePage(page.index);\n    const textPagePtr = pageCtx.getTextPage();\n\n    //  3) iterate all glyphs in logical order \n    const total = this.pdfiumModule.FPDFText_CountChars(textPagePtr);\n    const glyphs = new Array(total);\n\n    for (let i = 0; i < total; i++) {\n      const g = this.readGlyphInfo(page, pageCtx.pagePtr, textPagePtr, i);\n\n      if (g.isEmpty) {\n        continue;\n      }\n\n      glyphs[i] = { ...g };\n    }\n\n    //  4) clean-up native handles \n    pageCtx.release();\n\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'getPageGlyphs', 'End', doc.id);\n\n    return PdfTaskHelper.resolve(glyphs);\n  }\n\n  private readCharBox(\n    page: PdfPageObject,\n    pagePtr: number,\n    textPagePtr: number,\n    charIndex: number,\n  ): Rect {\n    const topPtr = this.memoryManager.malloc(8);\n    const leftPtr = this.memoryManager.malloc(8);\n    const bottomPtr = this.memoryManager.malloc(8);\n    const rightPtr = this.memoryManager.malloc(8);\n    let x = 0;\n    let y = 0;\n    let width = 0;\n    let height = 0;\n    if (\n      this.pdfiumModule.FPDFText_GetCharBox(\n        textPagePtr,\n        charIndex,\n        leftPtr,\n        rightPtr,\n        bottomPtr,\n        topPtr,\n      )\n    ) {\n      const top = this.pdfiumModule.pdfium.getValue(topPtr, 'double');\n      const left = this.pdfiumModule.pdfium.getValue(leftPtr, 'double');\n      const bottom = this.pdfiumModule.pdfium.getValue(bottomPtr, 'double');\n      const right = this.pdfiumModule.pdfium.getValue(rightPtr, 'double');\n\n      const deviceXPtr = this.memoryManager.malloc(4);\n      const deviceYPtr = this.memoryManager.malloc(4);\n      this.pdfiumModule.FPDF_PageToDevice(\n        pagePtr,\n        0,\n        0,\n        page.size.width,\n        page.size.height,\n        0,\n        left,\n        top,\n        deviceXPtr,\n        deviceYPtr,\n      );\n      x = this.pdfiumModule.pdfium.getValue(deviceXPtr, 'i32');\n      y = this.pdfiumModule.pdfium.getValue(deviceYPtr, 'i32');\n      this.memoryManager.free(deviceXPtr);\n      this.memoryManager.free(deviceYPtr);\n\n      width = Math.ceil(Math.abs(right - left));\n      height = Math.ceil(Math.abs(top - bottom));\n    }\n    this.memoryManager.free(topPtr);\n    this.memoryManager.free(leftPtr);\n    this.memoryManager.free(bottomPtr);\n    this.memoryManager.free(rightPtr);\n\n    return {\n      origin: {\n        x,\n        y,\n      },\n      size: {\n        width,\n        height,\n      },\n    };\n  }\n\n  /**\n   * Read page annotations\n   *\n   * @param ctx - document context\n   * @param page - page info\n   * @returns annotations on the pdf page\n   *\n   * @private\n   */\n  private readPageAnnotations(ctx: DocumentContext, page: PdfPageObject) {\n    return ctx.borrowPage(page.index, (pageCtx) => {\n      const annotationCount = this.pdfiumModule.FPDFPage_GetAnnotCount(pageCtx.pagePtr);\n\n      const annotations: PdfAnnotationObject[] = [];\n      for (let i = 0; i < annotationCount; i++) {\n        pageCtx.withAnnotation(i, (annotPtr) => {\n          const anno = this.readPageAnnotation(ctx.docPtr, page, annotPtr, pageCtx);\n          if (anno) annotations.push(anno);\n        });\n      }\n      return annotations;\n    });\n  }\n\n  /**\n   * Read page annotations without loading the page (raw approach)\n   *\n   * @param ctx - document context\n   * @param page - page info\n   * @returns annotations on the pdf page\n   *\n   * @private\n   */\n  private readPageAnnotationsRaw(ctx: DocumentContext, page: PdfPageObject): PdfAnnotationObject[] {\n    const count = this.pdfiumModule.EPDFPage_GetAnnotCountRaw(ctx.docPtr, page.index);\n    if (count <= 0) return [];\n\n    const out: PdfAnnotationObject[] = [];\n\n    for (let i = 0; i < count; ++i) {\n      const annotPtr = this.pdfiumModule.EPDFPage_GetAnnotRaw(ctx.docPtr, page.index, i);\n      if (!annotPtr) continue;\n\n      try {\n        const anno = this.readPageAnnotation(ctx.docPtr, page, annotPtr);\n        if (anno) out.push(anno);\n      } finally {\n        this.pdfiumModule.FPDFPage_CloseAnnot(annotPtr);\n      }\n    }\n    return out;\n  }\n\n  /**\n   * Get page annotations (public API, returns Task)\n   *\n   * @param doc - pdf document\n   * @param page - page info\n   * @returns task with annotations on the pdf page\n   *\n   * @public\n   */\n  getPageAnnotationsRaw(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n  ): PdfTask<PdfAnnotationObject[]> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getPageAnnotationsRaw', doc, page);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageAnnotationsRaw`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    const out = this.readPageAnnotationsRaw(ctx, page);\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `GetPageAnnotationsRaw`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n    this.logger.debug(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      'getPageAnnotationsRaw',\n      `${doc.id}-${page.index}`,\n      out,\n    );\n    return PdfTaskHelper.resolve(out);\n  }\n\n  /**\n   * Read pdf annotation from pdf document\n   *\n   * @param docPtr - pointer to pdf document\n   * @param page - page info\n   * @param annotationPtr - pointer to pdf annotation\n   * @param pageCtx - page context\n   * @returns pdf annotation\n   *\n   * @private\n   */\n  private readPageAnnotation(\n    docPtr: number,\n    page: PdfPageObject,\n    annotationPtr: number,\n    pageCtx?: PageContext,\n  ) {\n    let index = this.getAnnotString(annotationPtr, 'NM');\n    if (!index || !isUuidV4(index)) {\n      index = uuidV4();\n      this.setAnnotString(annotationPtr, 'NM', index);\n    }\n    const subType = this.pdfiumModule.FPDFAnnot_GetSubtype(\n      annotationPtr,\n    ) as PdfAnnotationObject['type'];\n    let annotation: PdfAnnotationObject | undefined;\n    switch (subType) {\n      case PdfAnnotationSubtype.TEXT:\n        {\n          annotation = this.readPdfTextAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.FREETEXT:\n        {\n          annotation = this.readPdfFreeTextAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.LINK:\n        {\n          annotation = this.readPdfLinkAnno(page, docPtr, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.WIDGET:\n        if (pageCtx) {\n          return this.readPdfWidgetAnno(page, annotationPtr, pageCtx.getFormHandle(), index);\n        }\n      case PdfAnnotationSubtype.FILEATTACHMENT:\n        {\n          annotation = this.readPdfFileAttachmentAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.INK:\n        {\n          annotation = this.readPdfInkAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.POLYGON:\n        {\n          annotation = this.readPdfPolygonAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.POLYLINE:\n        {\n          annotation = this.readPdfPolylineAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.LINE:\n        {\n          annotation = this.readPdfLineAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.HIGHLIGHT:\n        annotation = this.readPdfHighlightAnno(page, annotationPtr, index);\n        break;\n      case PdfAnnotationSubtype.STAMP:\n        {\n          annotation = this.readPdfStampAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.SQUARE:\n        {\n          annotation = this.readPdfSquareAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.CIRCLE:\n        {\n          annotation = this.readPdfCircleAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.UNDERLINE:\n        {\n          annotation = this.readPdfUnderlineAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.SQUIGGLY:\n        {\n          annotation = this.readPdfSquigglyAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.STRIKEOUT:\n        {\n          annotation = this.readPdfStrikeOutAnno(page, annotationPtr, index);\n        }\n        break;\n      case PdfAnnotationSubtype.CARET:\n        {\n          annotation = this.readPdfCaretAnno(page, annotationPtr, index);\n        }\n        break;\n      default:\n        {\n          annotation = this.readPdfAnno(page, subType, annotationPtr, index);\n        }\n        break;\n    }\n\n    return annotation;\n  }\n\n  /**\n   * Return the colour stored directly in the annotation dictionary's `/C` entry.\n   *\n   * Most PDFs created by Acrobat, Microsoft Office, LaTeX, etc. include this entry.\n   * When the key is absent (common in macOS Preview, Chrome, Drawboard) the call\n   * fails and the function returns `undefined`.\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @returns An RGBA tuple (0-255 channels) or `undefined` if no `/C` entry exists\n   *\n   * @private\n   */\n  private readAnnotationColor(\n    annotationPtr: number,\n    colorType: PdfAnnotationColorType = PdfAnnotationColorType.Color,\n  ): PdfColor | undefined {\n    const rPtr = this.memoryManager.malloc(4);\n    const gPtr = this.memoryManager.malloc(4);\n    const bPtr = this.memoryManager.malloc(4);\n\n    // colourType 0 = \"colour\" (stroke/fill); other types are interior/border\n    const ok = this.pdfiumModule.EPDFAnnot_GetColor(annotationPtr, colorType, rPtr, gPtr, bPtr);\n\n    let colour: PdfColor | undefined;\n\n    if (ok) {\n      colour = {\n        red: this.pdfiumModule.pdfium.getValue(rPtr, 'i32') & 0xff,\n        green: this.pdfiumModule.pdfium.getValue(gPtr, 'i32') & 0xff,\n        blue: this.pdfiumModule.pdfium.getValue(bPtr, 'i32') & 0xff,\n      };\n    }\n\n    this.memoryManager.free(rPtr);\n    this.memoryManager.free(gPtr);\n    this.memoryManager.free(bPtr);\n\n    return colour;\n  }\n\n  /**\n   * Get the fill/stroke colour annotation.\n   *\n   * @param annotationPtr - pointer to the annotation whose colour is being set\n   * @param colorType - which colour to get (0 = fill, 1 = stroke)\n   * @returns WebColor with hex color\n   *\n   * @private\n   */\n  private getAnnotationColor(\n    annotationPtr: number,\n    colorType: PdfAnnotationColorType = PdfAnnotationColorType.Color,\n  ): WebColor | undefined {\n    const annotationColor = this.readAnnotationColor(annotationPtr, colorType);\n\n    return annotationColor ? pdfColorToWebColor(annotationColor) : undefined;\n  }\n\n  /**\n   * Set the fill/stroke colour for a **Highlight / Underline / StrikeOut / Squiggly** markup annotation.\n   *\n   * @param annotationPtr - pointer to the annotation whose colour is being set\n   * @param webAlphaColor - WebAlphaColor with hex color and opacity (0-1)\n   * @param shouldClearAP - whether to clear the /AP entry\n   * @param which - which colour to set (0 = fill, 1 = stroke)\n   * @returns `true` if the operation was successful\n   *\n   * @private\n   */\n  private setAnnotationColor(\n    annotationPtr: number,\n    webColor: WebColor,\n    colorType: PdfAnnotationColorType = PdfAnnotationColorType.Color,\n  ): boolean {\n    const pdfColor = webColorToPdfColor(webColor);\n\n    return this.pdfiumModule.EPDFAnnot_SetColor(\n      annotationPtr,\n      colorType,\n      pdfColor.red & 0xff,\n      pdfColor.green & 0xff,\n      pdfColor.blue & 0xff,\n    );\n  }\n\n  /**\n   * Get the opacity of the annotation.\n   *\n   * @param annotationPtr - pointer to the annotation whose opacity is being set\n   * @returns opacity (0-1)\n   *\n   * @private\n   */\n  private getAnnotationOpacity(annotationPtr: number): number {\n    const opacityPtr = this.memoryManager.malloc(4);\n    const ok = this.pdfiumModule.EPDFAnnot_GetOpacity(annotationPtr, opacityPtr);\n    const opacity = ok ? this.pdfiumModule.pdfium.getValue(opacityPtr, 'i32') : 255;\n    this.memoryManager.free(opacityPtr);\n    return pdfAlphaToWebOpacity(opacity);\n  }\n\n  /**\n   * Set the opacity of the annotation.\n   *\n   * @param annotationPtr - pointer to the annotation whose opacity is being set\n   * @param opacity - opacity (0-1)\n   * @returns true on success\n   *\n   * @private\n   */\n  private setAnnotationOpacity(annotationPtr: number, opacity: number): boolean {\n    const pdfOpacity = webOpacityToPdfAlpha(opacity);\n    return this.pdfiumModule.EPDFAnnot_SetOpacity(annotationPtr, pdfOpacity & 0xff);\n  }\n\n  /**\n   * Fetch the `/Q` text-alignment value from a **FreeText** annotation.\n   *\n   * @param annotationPtr pointer returned by `FPDFPage_GetAnnot`\n   * @returns `PdfTextAlignment`\n   */\n  private getAnnotationTextAlignment(annotationPtr: number): PdfTextAlignment {\n    return this.pdfiumModule.EPDFAnnot_GetTextAlignment(annotationPtr);\n  }\n\n  /**\n   * Write the `/Q` text-alignment value into a **FreeText** annotation\n   * and clear the existing appearance stream so it can be regenerated.\n   *\n   * @param annotationPtr pointer returned by `FPDFPage_GetAnnot`\n   * @param alignment     `PdfTextAlignment`\n   * @returns `true` on success\n   */\n  private setAnnotationTextAlignment(annotationPtr: number, alignment: PdfTextAlignment): boolean {\n    return !!this.pdfiumModule.EPDFAnnot_SetTextAlignment(annotationPtr, alignment);\n  }\n\n  /**\n   * Fetch the `/EPDF:VerticalAlignment` vertical-alignment value from a **FreeText** annotation.\n   *\n   * @param annotationPtr pointer returned by `FPDFPage_GetAnnot`\n   * @returns `PdfVerticalAlignment`\n   */\n  private getAnnotationVerticalAlignment(annotationPtr: number): PdfVerticalAlignment {\n    return this.pdfiumModule.EPDFAnnot_GetVerticalAlignment(annotationPtr);\n  }\n\n  /**\n   * Write the `/EPDF:VerticalAlignment` vertical-alignment value into a **FreeText** annotation\n   * and clear the existing appearance stream so it can be regenerated.\n   *\n   * @param annotationPtr pointer returned by `FPDFPage_GetAnnot`\n   * @param alignment     `PdfVerticalAlignment`\n   * @returns `true` on success\n   */\n  private setAnnotationVerticalAlignment(\n    annotationPtr: number,\n    alignment: PdfVerticalAlignment,\n  ): boolean {\n    return !!this.pdfiumModule.EPDFAnnot_SetVerticalAlignment(annotationPtr, alignment);\n  }\n\n  /**\n   * Return the **default appearance** (font, size, colour) declared in the\n   * `/DA` string of a **FreeText** annotation.\n   *\n   * @param annotationPtr  pointer to `FPDF_ANNOTATION`\n   * @returns `{ font, fontSize, color }` or `undefined` when PDFium returns false\n   *\n   * NOTE  `font` is the raw `FPDF_STANDARD_FONT` enum value that PDFium uses\n   *        (same range as the C API: 0 = Courier, 12 = ZapfDingbats, ).\n   */\n  private getAnnotationDefaultAppearance(\n    annotationPtr: number,\n  ): { fontFamily: PdfStandardFont; fontSize: number; fontColor: WebColor } | undefined {\n    const fontPtr = this.memoryManager.malloc(4);\n    const sizePtr = this.memoryManager.malloc(4);\n    const rPtr = this.memoryManager.malloc(4);\n    const gPtr = this.memoryManager.malloc(4);\n    const bPtr = this.memoryManager.malloc(4);\n\n    const ok = !!this.pdfiumModule.EPDFAnnot_GetDefaultAppearance(\n      annotationPtr,\n      fontPtr,\n      sizePtr,\n      rPtr,\n      gPtr,\n      bPtr,\n    );\n\n    if (!ok) {\n      [fontPtr, sizePtr, rPtr, gPtr, bPtr].forEach((p) => this.memoryManager.free(p));\n      return; // undefined  caller decides what to do\n    }\n\n    const pdf = this.pdfiumModule.pdfium;\n    const font = pdf.getValue(fontPtr, 'i32');\n    const fontSize = pdf.getValue(sizePtr, 'float');\n    const red = pdf.getValue(rPtr, 'i32') & 0xff;\n    const green = pdf.getValue(gPtr, 'i32') & 0xff;\n    const blue = pdf.getValue(bPtr, 'i32') & 0xff;\n\n    [fontPtr, sizePtr, rPtr, gPtr, bPtr].forEach((p) => this.memoryManager.free(p));\n\n    return {\n      fontFamily: font,\n      fontSize,\n      fontColor: pdfColorToWebColor({ red, green, blue }),\n    };\n  }\n\n  /**\n   * Write a **default appearance** (`/DA`) into a FreeText annotation.\n   *\n   * @param annotationPtr pointer to `FPDF_ANNOTATION`\n   * @param font          `FPDF_STANDARD_FONT` enum value\n   * @param fontSize      size in points ( 0)\n   * @param color         CSS-style `#rrggbb` string (alpha ignored)\n   * @returns `true` on success\n   */\n  private setAnnotationDefaultAppearance(\n    annotationPtr: number,\n    font: PdfStandardFont,\n    fontSize: number,\n    color: WebColor,\n  ): boolean {\n    const { red, green, blue } = webColorToPdfColor(color); // 0-255 ints\n\n    return !!this.pdfiumModule.EPDFAnnot_SetDefaultAppearance(\n      annotationPtr,\n      font,\n      fontSize,\n      red & 0xff,\n      green & 0xff,\n      blue & 0xff,\n    );\n  }\n\n  /**\n   * Borderstyle + width helper\n   *\n   * Tries the new PDFium helper `EPDFAnnot_GetBorderStyle()` (patch series\n   * 9 July 2025).\n   *\n   * @param  annotationPtr  pointer to an `FPDF_ANNOTATION`\n   * @returns `{ ok, style, width }`\n   *           `ok`      `true` when the call succeeded\n   *           `style`   `PdfAnnotationBorderStyle` enum\n   *           `width`   stroke-width in points (defaults to 0 pt)\n   */\n  private getBorderStyle(annotationPtr: number): {\n    ok: boolean;\n    style: PdfAnnotationBorderStyle;\n    width: number;\n  } {\n    /* 1  allocate tmp storage for the returned width  */\n    const widthPtr = this.memoryManager.malloc(4);\n    let width = 0;\n    let style: PdfAnnotationBorderStyle = PdfAnnotationBorderStyle.UNKNOWN;\n    let ok = false;\n\n    style = this.pdfiumModule.EPDFAnnot_GetBorderStyle(annotationPtr, widthPtr);\n    width = this.pdfiumModule.pdfium.getValue(widthPtr, 'float');\n    ok = style !== PdfAnnotationBorderStyle.UNKNOWN;\n    this.memoryManager.free(widthPtr);\n    return { ok, style, width };\n  }\n\n  private setBorderStyle(\n    annotationPtr: number,\n    style: PdfAnnotationBorderStyle,\n    width: number,\n  ): boolean {\n    return this.pdfiumModule.EPDFAnnot_SetBorderStyle(annotationPtr, style, width);\n  }\n\n  /**\n   * Get the icon of the annotation\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @returns `PdfAnnotationIcon`\n   */\n  private getAnnotationIcon(annotationPtr: number): PdfAnnotationIcon {\n    return this.pdfiumModule.EPDFAnnot_GetIcon(annotationPtr);\n  }\n\n  /**\n   * Set the icon of the annotation\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param icon - `PdfAnnotationIcon`\n   * @returns `true` on success\n   */\n  private setAnnotationIcon(annotationPtr: number, icon: PdfAnnotationIcon): boolean {\n    return this.pdfiumModule.EPDFAnnot_SetIcon(annotationPtr, icon);\n  }\n\n  /**\n   * Border-effect (cloudy) helper\n   *\n   * Calls the new PDFium function `EPDFAnnot_GetBorderEffect()` (July 2025).\n   *\n   * @param  annotationPtr  pointer to an `FPDF_ANNOTATION`\n   * @returns `{ ok, intensity }`\n   *           `ok`         `true` when the annotation *does* have a\n   *                          valid cloudy-border effect\n   *           `intensity`  radius/intensity value (0 when `ok` is false)\n   */\n  private getBorderEffect(annotationPtr: number): { ok: boolean; intensity: number } {\n    const intensityPtr = this.memoryManager.malloc(4);\n\n    const ok = !!this.pdfiumModule.EPDFAnnot_GetBorderEffect(annotationPtr, intensityPtr);\n\n    const intensity = ok ? this.pdfiumModule.pdfium.getValue(intensityPtr, 'float') : 0;\n\n    this.memoryManager.free(intensityPtr);\n    return { ok, intensity };\n  }\n\n  /**\n   * Rectangle-differences helper ( /RD array on Square / Circle annots )\n   *\n   * Calls `EPDFAnnot_GetRectangleDifferences()` introduced in July 2025.\n   *\n   * @param  annotationPtr  pointer to an `FPDF_ANNOTATION`\n   * @returns `{ ok, left, top, right, bottom }`\n   *           `ok`      `true` when the annotation *has* an /RD entry\n   *           the four floats are 0 when `ok` is false\n   */\n  private getRectangleDifferences(annotationPtr: number): {\n    ok: boolean;\n    left: number;\n    top: number;\n    right: number;\n    bottom: number;\n  } {\n    /* tmp storage  */\n    const lPtr = this.memoryManager.malloc(4);\n    const tPtr = this.memoryManager.malloc(4);\n    const rPtr = this.memoryManager.malloc(4);\n    const bPtr = this.memoryManager.malloc(4);\n\n    const ok = !!this.pdfiumModule.EPDFAnnot_GetRectangleDifferences(\n      annotationPtr,\n      lPtr,\n      tPtr,\n      rPtr,\n      bPtr,\n    );\n\n    const pdf = this.pdfiumModule.pdfium;\n    const left = pdf.getValue(lPtr, 'float');\n    const top = pdf.getValue(tPtr, 'float');\n    const right = pdf.getValue(rPtr, 'float');\n    const bottom = pdf.getValue(bPtr, 'float');\n\n    /* cleanup  */\n    this.memoryManager.free(lPtr);\n    this.memoryManager.free(tPtr);\n    this.memoryManager.free(rPtr);\n    this.memoryManager.free(bPtr);\n\n    return { ok, left, top, right, bottom };\n  }\n\n  /**\n   * Get the date of the annotation\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param key - 'M' for modified date, 'CreationDate' for creation date\n   * @returns `Date` or `undefined` when PDFium can't read the date\n   */\n  private getAnnotationDate(annotationPtr: number, key: 'M' | 'CreationDate'): Date | undefined {\n    const raw = this.getAnnotString(annotationPtr, key);\n    return raw ? pdfDateToDate(raw) : undefined;\n  }\n\n  /**\n   * Set the date of the annotation\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param key - 'M' for modified date, 'CreationDate' for creation date\n   * @param date - `Date` to set\n   * @returns `true` on success\n   */\n  private setAnnotationDate(annotationPtr: number, key: 'M' | 'CreationDate', date: Date): boolean {\n    const raw = dateToPdfDate(date);\n    return this.setAnnotString(annotationPtr, key, raw);\n  }\n\n  /**\n   * Get the date of the attachment\n   *\n   * @param attachmentPtr - pointer to an `FPDF_ATTACHMENT`\n   * @param key - 'ModDate' for modified date, 'CreationDate' for creation date\n   * @returns `Date` or `undefined` when PDFium can't read the date\n   */\n  private getAttachmentDate(\n    attachmentPtr: number,\n    key: 'ModDate' | 'CreationDate',\n  ): Date | undefined {\n    const raw = this.getAttachmentString(attachmentPtr, key);\n    return raw ? pdfDateToDate(raw) : undefined;\n  }\n\n  /**\n   * Set the date of the attachment\n   *\n   * @param attachmentPtr - pointer to an `FPDF_ATTACHMENT`\n   * @param key - 'ModDate' for modified date, 'CreationDate' for creation date\n   * @param date - `Date` to set\n   * @returns `true` on success\n   */\n  private setAttachmentDate(\n    attachmentPtr: number,\n    key: 'ModDate' | 'CreationDate',\n    date: Date,\n  ): boolean {\n    const raw = dateToPdfDate(date);\n    return this.setAttachmentString(attachmentPtr, key, raw);\n  }\n\n  /**\n   * Dash-pattern helper ( /BS  /D array, dashed borders only )\n   *\n   * Uses the two new PDFium helpers:\n   *    `EPDFAnnot_GetBorderDashPatternCount`\n   *    `EPDFAnnot_GetBorderDashPattern`\n   *\n   * @param  annotationPtr  pointer to an `FPDF_ANNOTATION`\n   * @returns `{ ok, pattern }`\n   *           `ok`        `true` when the annot is dashed *and* the array\n   *                          was retrieved successfully\n   *           `pattern`   numeric array of dash/space lengths (empty when `ok` is false)\n   */\n  private getBorderDashPattern(annotationPtr: number): { ok: boolean; pattern: number[] } {\n    const count = this.pdfiumModule.EPDFAnnot_GetBorderDashPatternCount(annotationPtr);\n    if (count === 0) {\n      return { ok: false, pattern: [] };\n    }\n\n    /* allocate `count` floats on the WASM heap */\n    const arrPtr = this.memoryManager.malloc(4 * count);\n    const okNative = !!this.pdfiumModule.EPDFAnnot_GetBorderDashPattern(\n      annotationPtr,\n      arrPtr,\n      count,\n    );\n\n    /* copy out */\n    const pattern: number[] = [];\n    if (okNative) {\n      const pdf = this.pdfiumModule.pdfium;\n      for (let i = 0; i < count; i++) {\n        pattern.push(pdf.getValue(arrPtr + 4 * i, 'float'));\n      }\n    }\n\n    this.memoryManager.free(arrPtr);\n    return { ok: okNative, pattern };\n  }\n\n  /**\n   * Write the /BS /D dash pattern array for an annotation border.\n   *\n   * @param annotationPtr Pointer to FPDF_ANNOTATION\n   * @param pattern       Array of dash/space lengths in *points* (e.g. [3, 2])\n   *                      Empty array clears the pattern (solid line).\n   * @returns true on success\n   *\n   * @private\n   */\n  private setBorderDashPattern(annotationPtr: number, pattern: number[]): boolean {\n    // Empty  clear the pattern (PDF spec: no /D = solid)\n    if (!pattern || pattern.length === 0) {\n      return this.pdfiumModule.EPDFAnnot_SetBorderDashPattern(annotationPtr, 0, 0);\n    }\n\n    // Validate and sanitize numbers (must be positive floats, spec allows 18 numbers typically)\n    const clean = pattern.map((n) => (Number.isFinite(n) && n > 0 ? n : 0)).filter((n) => n > 0);\n    if (clean.length === 0) {\n      // nothing valid  treat as clear\n      return this.pdfiumModule.EPDFAnnot_SetBorderDashPattern(annotationPtr, 0, 0);\n    }\n\n    const bytes = 4 * clean.length;\n    const bufPtr = this.memoryManager.malloc(bytes);\n    for (let i = 0; i < clean.length; i++) {\n      this.pdfiumModule.pdfium.setValue(bufPtr + 4 * i, clean[i], 'float');\n    }\n\n    const ok = !!this.pdfiumModule.EPDFAnnot_SetBorderDashPattern(\n      annotationPtr,\n      bufPtr,\n      clean.length,\n    );\n\n    this.memoryManager.free(bufPtr);\n    return ok;\n  }\n\n  /**\n   * Return the `/LE` array (start/end line-ending styles) for a LINE / POLYLINE annot.\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @returns `{ start, end }` or `undefined` when PDFium can't read them\n   *\n   * @private\n   */\n  private getLineEndings(annotationPtr: number): LineEndings | undefined {\n    const startPtr = this.memoryManager.malloc(4);\n    const endPtr = this.memoryManager.malloc(4);\n\n    const ok = !!this.pdfiumModule.EPDFAnnot_GetLineEndings(annotationPtr, startPtr, endPtr);\n    if (!ok) {\n      this.memoryManager.free(startPtr);\n      this.memoryManager.free(endPtr);\n      return undefined;\n    }\n\n    const start = this.pdfiumModule.pdfium.getValue(startPtr, 'i32');\n    const end = this.pdfiumModule.pdfium.getValue(endPtr, 'i32');\n\n    this.memoryManager.free(startPtr);\n    this.memoryManager.free(endPtr);\n\n    return { start, end };\n  }\n\n  /**\n   * Write the `/LE` array (start/end line-ending styles) for a LINE / POLYLINE annot.\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param start - start line ending style\n   * @param end - end line ending style\n   * @returns `true` on success\n   */\n  private setLineEndings(\n    annotationPtr: number,\n    start: PdfAnnotationLineEnding,\n    end: PdfAnnotationLineEnding,\n  ): boolean {\n    return !!this.pdfiumModule.EPDFAnnot_SetLineEndings(annotationPtr, start, end);\n  }\n\n  /**\n   * Get the start and end points of a LINE / POLYLINE annot.\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param page - logical page info object (`PdfPageObject`)\n   * @returns `{ start, end }` or `undefined` when PDFium can't read them\n   */\n  private getLinePoints(page: PdfPageObject, annotationPtr: number): LinePoints | undefined {\n    const startPtr = this.memoryManager.malloc(8); // FS_POINTF (x,y floats)\n    const endPtr = this.memoryManager.malloc(8);\n\n    const ok = this.pdfiumModule.FPDFAnnot_GetLine(annotationPtr, startPtr, endPtr);\n    if (!ok) {\n      this.memoryManager.free(startPtr);\n      this.memoryManager.free(endPtr);\n      return undefined;\n    }\n\n    const pdf = this.pdfiumModule.pdfium;\n\n    const sx = pdf.getValue(startPtr + 0, 'float');\n    const sy = pdf.getValue(startPtr + 4, 'float');\n    const ex = pdf.getValue(endPtr + 0, 'float');\n    const ey = pdf.getValue(endPtr + 4, 'float');\n\n    this.memoryManager.free(startPtr);\n    this.memoryManager.free(endPtr);\n\n    // page -> device using the new helper (handles rotation/scale consistently)\n    const start = this.convertPagePointToDevicePoint(page, { x: sx, y: sy });\n    const end = this.convertPagePointToDevicePoint(page, { x: ex, y: ey });\n\n    return { start, end };\n  }\n\n  /**\n   * Set the two endpoints of a **Line** annotation\n   * by writing a new /L array `[ x1 y1 x2 y2 ]`.\n   * @param page - logical page info object (`PdfPageObject`)\n   * @param annotPtr - pointer to the annotation whose line points are needed\n   * @param start - start point\n   * @param end - end point\n   * @returns true on success\n   */\n  private setLinePoints(\n    page: PdfPageObject,\n    annotPtr: number,\n    start: Position,\n    end: Position,\n  ): boolean {\n    const p1 = this.convertDevicePointToPagePoint(page, start);\n    const p2 = this.convertDevicePointToPagePoint(page, end);\n\n    if (!p1 || !p2) return false;\n\n    // pack as two FS_POINTF (x,y floats)\n    const buf = this.memoryManager.malloc(16);\n    const pdf = this.pdfiumModule.pdfium;\n    pdf.setValue(buf + 0, p1.x, 'float');\n    pdf.setValue(buf + 4, p1.y, 'float');\n    pdf.setValue(buf + 8, p2.x, 'float');\n    pdf.setValue(buf + 12, p2.y, 'float');\n\n    const ok = this.pdfiumModule.EPDFAnnot_SetLine(annotPtr, buf, buf + 8);\n    this.memoryManager.free(buf);\n    return !!ok;\n  }\n\n  /**\n   * Read `/QuadPoints` from any annotation and convert each quadrilateral to\n   * device-space coordinates.\n   *\n   * The four points are returned in natural reading order:\n   *   `p1  p2` (top edge) and `p4  p3` (bottom edge).\n   * This preserves the true shape for rotated / skewed text, whereas callers\n   * that only need axis-aligned boxes can collapse each quad themselves.\n   *\n   * @param page          - logical page info object (`PdfPageObject`)\n   * @param annotationPtr - pointer to the annotation whose quads are needed\n   * @returns Array of `Rect` objects (`[]` if the annotation has no quads)\n   *\n   * @private\n   */\n  private getQuadPointsAnno(page: PdfPageObject, annotationPtr: number): Rect[] {\n    const quadCount = this.pdfiumModule.FPDFAnnot_CountAttachmentPoints(annotationPtr);\n    if (quadCount === 0) return [];\n\n    const FS_QUADPOINTSF_SIZE = 8 * 4; // eight floats, 32 bytes\n    const quads: Quad[] = [];\n\n    for (let qi = 0; qi < quadCount; qi++) {\n      const quadPtr = this.memoryManager.malloc(FS_QUADPOINTSF_SIZE);\n\n      const ok = this.pdfiumModule.FPDFAnnot_GetAttachmentPoints(annotationPtr, qi, quadPtr);\n\n      if (ok) {\n        // read the eight floats\n        const xs: number[] = [];\n        const ys: number[] = [];\n        for (let i = 0; i < 4; i++) {\n          const base = quadPtr + i * 8; // 8 bytes per point (x+y)\n          xs.push(this.pdfiumModule.pdfium.getValue(base, 'float'));\n          ys.push(this.pdfiumModule.pdfium.getValue(base + 4, 'float'));\n        }\n\n        // convert to device-space\n        const p1 = this.convertPagePointToDevicePoint(page, { x: xs[0], y: ys[0] });\n        const p2 = this.convertPagePointToDevicePoint(page, { x: xs[1], y: ys[1] });\n        const p3 = this.convertPagePointToDevicePoint(page, { x: xs[2], y: ys[2] });\n        const p4 = this.convertPagePointToDevicePoint(page, { x: xs[3], y: ys[3] });\n\n        quads.push({ p1, p2, p3, p4 });\n      }\n\n      this.memoryManager.free(quadPtr);\n    }\n\n    return quads.map(quadToRect);\n  }\n\n  /**\n   * Set the quadrilaterals for a **Highlight / Underline / StrikeOut / Squiggly** markup annotation.\n   *\n   * @param page          - logical page info object (`PdfPageObject`)\n   * @param annotationPtr - pointer to the annotation whose quads are needed\n   * @param rects         - array of `Rect` objects (`[]` if the annotation has no quads)\n   * @returns `true` if the operation was successful\n   *\n   * @private\n   */\n  private syncQuadPointsAnno(page: PdfPageObject, annotPtr: number, rects: Rect[]): boolean {\n    const FS_QUADPOINTSF_SIZE = 8 * 4; // eight floats, 32 bytes\n    const pdf = this.pdfiumModule.pdfium;\n    const count = this.pdfiumModule.FPDFAnnot_CountAttachmentPoints(annotPtr);\n    const buf = this.memoryManager.malloc(FS_QUADPOINTSF_SIZE);\n\n    /** write one quad into `buf` in annotation space */\n    const writeQuad = (r: Rect) => {\n      const q = rectToQuad(r); // TL, TR, BR, BL\n      const p1 = this.convertDevicePointToPagePoint(page, q.p1);\n      const p2 = this.convertDevicePointToPagePoint(page, q.p2);\n      const p3 = this.convertDevicePointToPagePoint(page, q.p3); // BR\n      const p4 = this.convertDevicePointToPagePoint(page, q.p4); // BL\n\n      // PDF QuadPoints order: BL, BR, TL, TR (bottom-left, bottom-right, top-left, top-right)\n      pdf.setValue(buf + 0, p1.x, 'float'); // BL (bottom-left)\n      pdf.setValue(buf + 4, p1.y, 'float');\n\n      pdf.setValue(buf + 8, p2.x, 'float'); // BR (bottom-right)\n      pdf.setValue(buf + 12, p2.y, 'float');\n\n      pdf.setValue(buf + 16, p4.x, 'float'); // TL (top-left)\n      pdf.setValue(buf + 20, p4.y, 'float');\n\n      pdf.setValue(buf + 24, p3.x, 'float'); // TR (top-right)\n      pdf.setValue(buf + 28, p3.y, 'float');\n    };\n\n    /* ----------------------------------------------------------------------- */\n    /* 1. overwrite the quads that already exist                               */\n    const min = Math.min(count, rects.length);\n    for (let i = 0; i < min; i++) {\n      writeQuad(rects[i]);\n      if (!this.pdfiumModule.FPDFAnnot_SetAttachmentPoints(annotPtr, i, buf)) {\n        this.memoryManager.free(buf);\n        return false;\n      }\n    }\n\n    /* 2. append new quads if rects.length > count                             */\n    for (let i = count; i < rects.length; i++) {\n      writeQuad(rects[i]);\n      if (!this.pdfiumModule.FPDFAnnot_AppendAttachmentPoints(annotPtr, buf)) {\n        this.memoryManager.free(buf);\n        return false;\n      }\n    }\n\n    this.memoryManager.free(buf);\n    return true;\n  }\n\n  /**\n   * Redact text that intersects ANY of the provided **quads** (device-space).\n   * Returns `true` if the page changed. Always regenerates the page stream.\n   */\n  public redactTextInRects(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    rects: Rect[],\n    options?: PdfRedactTextOptions,\n  ): Task<boolean, PdfErrorReason> {\n    const { recurseForms = true, drawBlackBoxes = false } = options ?? {};\n\n    this.logger.debug(\n      'PDFiumEngine',\n      'Engine',\n      'redactTextInQuads',\n      doc.id,\n      page.index,\n      rects.length,\n    );\n    const label = 'RedactTextInQuads';\n    this.logger.perf('PDFiumEngine', 'Engine', label, 'Begin', `${doc.id}-${page.index}`);\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf('PDFiumEngine', 'Engine', label, 'End', `${doc.id}-${page.index}`);\n      return PdfTaskHelper.reject<boolean>({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    // sanitize inputs\n    const clean = (rects ?? []).filter(\n      (r) =>\n        r &&\n        Number.isFinite(r.origin?.x) &&\n        Number.isFinite(r.origin?.y) &&\n        Number.isFinite(r.size?.width) &&\n        Number.isFinite(r.size?.height) &&\n        r.size.width > 0 &&\n        r.size.height > 0,\n    );\n\n    if (clean.length === 0) {\n      this.logger.perf('PDFiumEngine', 'Engine', label, 'End', `${doc.id}-${page.index}`);\n      return PdfTaskHelper.resolve<boolean>(false);\n    }\n\n    const pageCtx = ctx.acquirePage(page.index);\n\n    // pack buffer  native call\n    const { ptr, count } = this.allocFSQuadsBufferFromRects(page, clean);\n    let ok = false;\n    try {\n      // If your wrapper exposes FPDFText_RedactInQuads, call that instead.\n      ok = !!this.pdfiumModule.EPDFText_RedactInQuads(\n        pageCtx.pagePtr,\n        ptr,\n        count,\n        recurseForms ? true : false,\n        drawBlackBoxes ? true : false,\n      );\n    } finally {\n      this.memoryManager.free(ptr);\n    }\n\n    if (ok) {\n      ok = !!this.pdfiumModule.FPDFPage_GenerateContent(pageCtx.pagePtr);\n    }\n\n    pageCtx.disposeImmediate();\n    this.logger.perf('PDFiumEngine', 'Engine', label, 'End', `${doc.id}-${page.index}`);\n\n    return PdfTaskHelper.resolve<boolean>(!!ok);\n  }\n\n  /** Pack device-space Rects into an FS_QUADPOINTSF[] buffer (page space). */\n  private allocFSQuadsBufferFromRects(page: PdfPageObject, rects: Rect[]) {\n    const STRIDE = 32; // 8 floats  4 bytes\n    const count = rects.length;\n    const ptr = this.memoryManager.malloc(STRIDE * count);\n    const pdf = this.pdfiumModule.pdfium;\n\n    for (let i = 0; i < count; i++) {\n      const r = rects[i];\n      const q = rectToQuad(r); // TL, TR, BR, BL (device-space)\n\n      // Convert into PAGE USER SPACE (native expects page coords)\n      const p1 = this.convertDevicePointToPagePoint(page, q.p1); // TL\n      const p2 = this.convertDevicePointToPagePoint(page, q.p2); // TR\n      const p3 = this.convertDevicePointToPagePoint(page, q.p3); // BR\n      const p4 = this.convertDevicePointToPagePoint(page, q.p4); // BL\n\n      const base = ptr + i * STRIDE;\n\n      // Keep the exact mapping you used in syncQuadPointsAnno:\n      // PDF QuadPoints order comment says BL,BR,TL,TR  and you wrote:\n      pdf.setValue(base + 0, p1.x, 'float');\n      pdf.setValue(base + 4, p1.y, 'float');\n      pdf.setValue(base + 8, p2.x, 'float');\n      pdf.setValue(base + 12, p2.y, 'float');\n      pdf.setValue(base + 16, p4.x, 'float');\n      pdf.setValue(base + 20, p4.y, 'float');\n      pdf.setValue(base + 24, p3.x, 'float');\n      pdf.setValue(base + 28, p3.y, 'float');\n    }\n\n    return { ptr, count };\n  }\n\n  /**\n   * Read ink list from annotation\n   * @param page  - logical page info object (`PdfPageObject`)\n   * @param pagePtr - pointer to the page\n   * @param annotationPtr - pointer to the annotation whose ink list is needed\n   * @returns ink list\n   */\n  private getInkList(page: PdfPageObject, annotationPtr: number): PdfInkListObject[] {\n    const inkList: PdfInkListObject[] = [];\n    const pathCount = this.pdfiumModule.FPDFAnnot_GetInkListCount(annotationPtr);\n    if (pathCount <= 0) return inkList;\n\n    const pdf = this.pdfiumModule.pdfium;\n    const POINT_STRIDE = 8; // FS_POINTF: 2 floats (x,y) => 8 bytes\n\n    for (let i = 0; i < pathCount; i++) {\n      const points: Position[] = [];\n\n      const n = this.pdfiumModule.FPDFAnnot_GetInkListPath(annotationPtr, i, 0, 0);\n      if (n > 0) {\n        const buf = this.memoryManager.malloc(n * POINT_STRIDE);\n\n        // load FS_POINTF array (page-space)\n        this.pdfiumModule.FPDFAnnot_GetInkListPath(annotationPtr, i, buf, n);\n\n        // convert each point to device-space using your helper\n        for (let j = 0; j < n; j++) {\n          const base = buf + j * POINT_STRIDE;\n          const px = pdf.getValue(base + 0, 'float');\n          const py = pdf.getValue(base + 4, 'float');\n          const d = this.convertPagePointToDevicePoint(page, { x: px, y: py });\n          points.push({ x: d.x, y: d.y });\n        }\n\n        this.memoryManager.free(buf);\n      }\n\n      inkList.push({ points });\n    }\n\n    return inkList;\n  }\n\n  /**\n   * Add ink list to annotation\n   * @param page  - logical page info object (`PdfPageObject`)\n   * @param pagePtr - pointer to the page\n   * @param annotationPtr - pointer to the annotation whose ink list is needed\n   * @param inkList - ink list array of `PdfInkListObject`\n   * @returns `true` if the operation was successful\n   */\n  private setInkList(\n    page: PdfPageObject,\n    annotationPtr: number,\n    inkList: PdfInkListObject[],\n  ): boolean {\n    const pdf = this.pdfiumModule.pdfium;\n    const POINT_STRIDE = 8; // FS_POINTF: float x, float y\n\n    for (const stroke of inkList) {\n      const n = stroke.points.length;\n      if (n === 0) continue;\n\n      const buf = this.memoryManager.malloc(n * POINT_STRIDE);\n\n      // device -> page for each vertex\n      for (let i = 0; i < n; i++) {\n        const pDev = stroke.points[i];\n        const pPage = this.convertDevicePointToPagePoint(page, pDev);\n\n        pdf.setValue(buf + i * POINT_STRIDE + 0, pPage.x, 'float');\n        pdf.setValue(buf + i * POINT_STRIDE + 4, pPage.y, 'float');\n      }\n\n      const idx = this.pdfiumModule.FPDFAnnot_AddInkStroke(annotationPtr, buf, n);\n      this.memoryManager.free(buf);\n\n      if (idx === -1) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Read pdf text annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf text annotation\n   *\n   * @private\n   */\n  private readPdfTextAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfTextAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const annoRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, annoRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const state = this.getAnnotString(annotationPtr, 'State') as PdfAnnotationState;\n    const stateModel = this.getAnnotString(annotationPtr, 'StateModel') as PdfAnnotationStateModel;\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const inReplyToId = this.getInReplyToId(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const icon = this.getAnnotationIcon(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.TEXT,\n      flags,\n      contents,\n      color: color ?? '#FFFF00',\n      opacity,\n      rect,\n      inReplyToId,\n      author,\n      modified,\n      created,\n      state,\n      stateModel,\n      icon,\n    };\n  }\n\n  /**\n   * Read pdf freetext annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf freetext annotation\n   *\n   * @private\n   */\n  private readPdfFreeTextAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfFreeTextAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const annoRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, annoRect);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const defaultStyle = this.getAnnotString(annotationPtr, 'DS');\n    const da = this.getAnnotationDefaultAppearance(annotationPtr);\n    const backgroundColor = this.getAnnotationColor(annotationPtr);\n    const textAlign = this.getAnnotationTextAlignment(annotationPtr);\n    const verticalAlign = this.getAnnotationVerticalAlignment(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const richContent = this.getAnnotRichContent(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.FREETEXT,\n      fontFamily: da?.fontFamily ?? PdfStandardFont.Unknown,\n      fontSize: da?.fontSize ?? 12,\n      fontColor: da?.fontColor ?? '#000000',\n      verticalAlign,\n      backgroundColor,\n      flags,\n      opacity,\n      textAlign,\n      defaultStyle,\n      richContent,\n      contents,\n      author,\n      modified,\n      created,\n      rect,\n    };\n  }\n\n  /**\n   * Read pdf link annotation from pdf document\n   * @param page  - pdf page infor\n   * @param docPtr - pointer to pdf document object\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf link annotation\n   *\n   * @private\n   */\n  private readPdfLinkAnno(\n    page: PdfPageObject,\n    docPtr: number,\n    annotationPtr: number,\n    index: string,\n  ): PdfLinkAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const linkPtr = this.pdfiumModule.FPDFAnnot_GetLink(annotationPtr);\n    if (!linkPtr) {\n      return;\n    }\n\n    const annoRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, annoRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    const target = this.readPdfLinkAnnoTarget(\n      docPtr,\n      () => {\n        return this.pdfiumModule.FPDFLink_GetAction(linkPtr);\n      },\n      () => {\n        return this.pdfiumModule.FPDFLink_GetDest(docPtr, linkPtr);\n      },\n    );\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.LINK,\n      flags,\n      target,\n      rect,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf widget annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param formHandle - form handle\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf widget annotation\n   *\n   * @private\n   */\n  private readPdfWidgetAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    formHandle: number,\n    index: string,\n  ): PdfWidgetAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const field = this.readPdfWidgetAnnoField(formHandle, annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.WIDGET,\n      flags,\n      rect,\n      field,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf file attachment annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf file attachment annotation\n   *\n   * @private\n   */\n  private readPdfFileAttachmentAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfFileAttachmentAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.FILEATTACHMENT,\n      flags,\n      rect,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf ink annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf ink annotation\n   *\n   * @private\n   */\n  private readPdfInkAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfInkAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const { width: strokeWidth } = this.getBorderStyle(annotationPtr);\n    const inkList = this.getInkList(page, annotationPtr);\n    const blendMode = this.pdfiumModule.EPDFAnnot_GetBlendMode(annotationPtr);\n    const intent = this.getAnnotIntent(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.INK,\n      ...(intent && { intent }),\n      contents,\n      blendMode,\n      flags,\n      color: color ?? '#FF0000',\n      opacity,\n      strokeWidth: strokeWidth === 0 ? 1 : strokeWidth,\n      rect,\n      inkList,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf polygon annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf polygon annotation\n   *\n   * @private\n   */\n  private readPdfPolygonAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfPolygonAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const vertices = this.readPdfAnnoVertices(page, annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const strokeColor = this.getAnnotationColor(annotationPtr);\n    const interiorColor = this.getAnnotationColor(\n      annotationPtr,\n      PdfAnnotationColorType.InteriorColor,\n    );\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    let { style: strokeStyle, width: strokeWidth } = this.getBorderStyle(annotationPtr);\n\n    let strokeDashArray: number[] | undefined;\n    if (strokeStyle === PdfAnnotationBorderStyle.DASHED) {\n      const { ok, pattern } = this.getBorderDashPattern(annotationPtr);\n      if (ok) {\n        strokeDashArray = pattern;\n      }\n    }\n\n    //  Remove redundant closing vertex for polygons \n    if (vertices.length > 1) {\n      const first = vertices[0];\n      const last = vertices[vertices.length - 1];\n      if (first.x === last.x && first.y === last.y) {\n        vertices.pop();\n      }\n    }\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.POLYGON,\n      contents,\n      flags,\n      strokeColor: strokeColor ?? '#FF0000',\n      color: interiorColor ?? 'transparent',\n      opacity,\n      strokeWidth: strokeWidth === 0 ? 1 : strokeWidth,\n      strokeStyle,\n      strokeDashArray,\n      rect,\n      vertices,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf polyline annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf polyline annotation\n   *\n   * @private\n   */\n  private readPdfPolylineAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfPolylineAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const vertices = this.readPdfAnnoVertices(page, annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const strokeColor = this.getAnnotationColor(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const interiorColor = this.getAnnotationColor(\n      annotationPtr,\n      PdfAnnotationColorType.InteriorColor,\n    );\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    let { style: strokeStyle, width: strokeWidth } = this.getBorderStyle(annotationPtr);\n\n    let strokeDashArray: number[] | undefined;\n    if (strokeStyle === PdfAnnotationBorderStyle.DASHED) {\n      const { ok, pattern } = this.getBorderDashPattern(annotationPtr);\n      if (ok) {\n        strokeDashArray = pattern;\n      }\n    }\n    const lineEndings = this.getLineEndings(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.POLYLINE,\n      contents,\n      flags,\n      strokeColor: strokeColor ?? '#FF0000',\n      color: interiorColor ?? 'transparent',\n      opacity,\n      strokeWidth: strokeWidth === 0 ? 1 : strokeWidth,\n      strokeStyle,\n      strokeDashArray,\n      lineEndings,\n      rect,\n      vertices,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf line annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf line annotation\n   *\n   * @private\n   */\n  private readPdfLineAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfLineAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const linePoints = this.getLinePoints(page, annotationPtr);\n    const lineEndings = this.getLineEndings(annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const strokeColor = this.getAnnotationColor(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const interiorColor = this.getAnnotationColor(\n      annotationPtr,\n      PdfAnnotationColorType.InteriorColor,\n    );\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    let { style: strokeStyle, width: strokeWidth } = this.getBorderStyle(annotationPtr);\n\n    let strokeDashArray: number[] | undefined;\n    if (strokeStyle === PdfAnnotationBorderStyle.DASHED) {\n      const { ok, pattern } = this.getBorderDashPattern(annotationPtr);\n      if (ok) {\n        strokeDashArray = pattern;\n      }\n    }\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.LINE,\n      flags,\n      rect,\n      contents,\n      strokeWidth: strokeWidth === 0 ? 1 : strokeWidth,\n      strokeStyle,\n      strokeDashArray,\n      strokeColor: strokeColor ?? '#FF0000',\n      color: interiorColor ?? 'transparent',\n      opacity,\n      linePoints: linePoints || { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } },\n      lineEndings: lineEndings || {\n        start: PdfAnnotationLineEnding.None,\n        end: PdfAnnotationLineEnding.None,\n      },\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf highlight annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf highlight annotation\n   *\n   * @private\n   */\n  private readPdfHighlightAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfHighlightAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const segmentRects = this.getQuadPointsAnno(page, annotationPtr);\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const blendMode = this.pdfiumModule.EPDFAnnot_GetBlendMode(annotationPtr);\n\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      blendMode,\n      type: PdfAnnotationSubtype.HIGHLIGHT,\n      rect,\n      flags,\n      contents,\n      segmentRects,\n      color: color ?? '#FFFF00',\n      opacity,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf underline annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf underline annotation\n   *\n   * @private\n   */\n  private readPdfUnderlineAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfUnderlineAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const segmentRects = this.getQuadPointsAnno(page, annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const blendMode = this.pdfiumModule.EPDFAnnot_GetBlendMode(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      blendMode,\n      type: PdfAnnotationSubtype.UNDERLINE,\n      rect,\n      flags,\n      contents,\n      segmentRects,\n      color: color ?? '#FF0000',\n      opacity,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read strikeout annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf strikeout annotation\n   *\n   * @private\n   */\n  private readPdfStrikeOutAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfStrikeOutAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const segmentRects = this.getQuadPointsAnno(page, annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const blendMode = this.pdfiumModule.EPDFAnnot_GetBlendMode(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      blendMode,\n      type: PdfAnnotationSubtype.STRIKEOUT,\n      flags,\n      rect,\n      contents,\n      segmentRects,\n      color: color ?? '#FF0000',\n      opacity,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf squiggly annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf squiggly annotation\n   *\n   * @private\n   */\n  private readPdfSquigglyAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfSquigglyAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const segmentRects = this.getQuadPointsAnno(page, annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const color = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    const blendMode = this.pdfiumModule.EPDFAnnot_GetBlendMode(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      blendMode,\n      type: PdfAnnotationSubtype.SQUIGGLY,\n      rect,\n      flags,\n      contents,\n      segmentRects,\n      color: color ?? '#FF0000',\n      opacity,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf caret annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf caret annotation\n   *\n   * @private\n   */\n  private readPdfCaretAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfCaretAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.CARET,\n      rect,\n      flags,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Read pdf stamp annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf stamp annotation\n   *\n   * @private\n   */\n  private readPdfStampAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfStampAnnoObject | undefined {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.STAMP,\n      contents,\n      rect,\n      author,\n      modified,\n      created,\n      flags,\n    };\n  }\n\n  /**\n   * Read pdf object in pdf page\n   * @param pageObjectPtr  - pointer to pdf object in page\n   * @returns pdf object in page\n   *\n   * @private\n   */\n  private readPdfPageObject(pageObjectPtr: number) {\n    const type = this.pdfiumModule.FPDFPageObj_GetType(pageObjectPtr) as PdfPageObjectType;\n    switch (type) {\n      case PdfPageObjectType.PATH:\n        return this.readPathObject(pageObjectPtr);\n      case PdfPageObjectType.IMAGE:\n        return this.readImageObject(pageObjectPtr);\n      case PdfPageObjectType.FORM:\n        return this.readFormObject(pageObjectPtr);\n    }\n  }\n\n  /**\n   * Read pdf path object\n   * @param pathObjectPtr  - pointer to pdf path object in page\n   * @returns pdf path object\n   *\n   * @private\n   */\n  private readPathObject(pathObjectPtr: number): PdfPathObject {\n    const segmentCount = this.pdfiumModule.FPDFPath_CountSegments(pathObjectPtr);\n\n    const leftPtr = this.memoryManager.malloc(4);\n    const bottomPtr = this.memoryManager.malloc(4);\n    const rightPtr = this.memoryManager.malloc(4);\n    const topPtr = this.memoryManager.malloc(4);\n    this.pdfiumModule.FPDFPageObj_GetBounds(pathObjectPtr, leftPtr, bottomPtr, rightPtr, topPtr);\n    const left = this.pdfiumModule.pdfium.getValue(leftPtr, 'float');\n    const bottom = this.pdfiumModule.pdfium.getValue(bottomPtr, 'float');\n    const right = this.pdfiumModule.pdfium.getValue(rightPtr, 'float');\n    const top = this.pdfiumModule.pdfium.getValue(topPtr, 'float');\n    const bounds = { left, bottom, right, top };\n    this.memoryManager.free(leftPtr);\n    this.memoryManager.free(bottomPtr);\n    this.memoryManager.free(rightPtr);\n    this.memoryManager.free(topPtr);\n    const segments: PdfSegmentObject[] = [];\n    for (let i = 0; i < segmentCount; i++) {\n      const segment = this.readPdfSegment(pathObjectPtr, i);\n      segments.push(segment);\n    }\n\n    const matrix = this.readPdfPageObjectTransformMatrix(pathObjectPtr);\n\n    return {\n      type: PdfPageObjectType.PATH,\n      bounds,\n      segments,\n      matrix,\n    };\n  }\n\n  /**\n   * Read segment of pdf path object\n   * @param annotationObjectPtr - pointer to pdf path object\n   * @param segmentIndex - index of segment\n   * @returns pdf segment in pdf path\n   *\n   * @private\n   */\n  private readPdfSegment(annotationObjectPtr: number, segmentIndex: number): PdfSegmentObject {\n    const segmentPtr = this.pdfiumModule.FPDFPath_GetPathSegment(annotationObjectPtr, segmentIndex);\n    const segmentType = this.pdfiumModule.FPDFPathSegment_GetType(segmentPtr);\n    const isClosed = this.pdfiumModule.FPDFPathSegment_GetClose(segmentPtr);\n    const pointXPtr = this.memoryManager.malloc(4);\n    const pointYPtr = this.memoryManager.malloc(4);\n    this.pdfiumModule.FPDFPathSegment_GetPoint(segmentPtr, pointXPtr, pointYPtr);\n    const pointX = this.pdfiumModule.pdfium.getValue(pointXPtr, 'float');\n    const pointY = this.pdfiumModule.pdfium.getValue(pointYPtr, 'float');\n    this.memoryManager.free(pointXPtr);\n    this.memoryManager.free(pointYPtr);\n\n    return {\n      type: segmentType,\n      point: { x: pointX, y: pointY },\n      isClosed,\n    };\n  }\n\n  /**\n   * Read pdf image object from pdf document\n   * @param pageObjectPtr  - pointer to pdf image object in page\n   * @returns pdf image object\n   *\n   * @private\n   */\n  private readImageObject(imageObjectPtr: number): PdfImageObject {\n    const bitmapPtr = this.pdfiumModule.FPDFImageObj_GetBitmap(imageObjectPtr);\n    const bitmapBufferPtr = this.pdfiumModule.FPDFBitmap_GetBuffer(bitmapPtr);\n    const bitmapWidth = this.pdfiumModule.FPDFBitmap_GetWidth(bitmapPtr);\n    const bitmapHeight = this.pdfiumModule.FPDFBitmap_GetHeight(bitmapPtr);\n    const format = this.pdfiumModule.FPDFBitmap_GetFormat(bitmapPtr) as BitmapFormat;\n\n    const pixelCount = bitmapWidth * bitmapHeight;\n    const bytesPerPixel = 4;\n    const array = new Uint8ClampedArray(pixelCount * bytesPerPixel);\n    for (let i = 0; i < pixelCount; i++) {\n      switch (format) {\n        case BitmapFormat.Bitmap_BGR:\n          {\n            const blue = this.pdfiumModule.pdfium.getValue(bitmapBufferPtr + i * 3, 'i8');\n            const green = this.pdfiumModule.pdfium.getValue(bitmapBufferPtr + i * 3 + 1, 'i8');\n            const red = this.pdfiumModule.pdfium.getValue(bitmapBufferPtr + i * 3 + 2, 'i8');\n            array[i * bytesPerPixel] = red;\n            array[i * bytesPerPixel + 1] = green;\n            array[i * bytesPerPixel + 2] = blue;\n            array[i * bytesPerPixel + 3] = 100;\n          }\n          break;\n      }\n    }\n\n    // Return plain object (ImageDataLike) instead of browser-specific ImageData\n    const imageDataLike: ImageDataLike = {\n      data: array,\n      width: bitmapWidth,\n      height: bitmapHeight,\n    };\n    const matrix = this.readPdfPageObjectTransformMatrix(imageObjectPtr);\n\n    return {\n      type: PdfPageObjectType.IMAGE,\n      imageData: imageDataLike,\n      matrix,\n    };\n  }\n\n  /**\n   * Read form object from pdf document\n   * @param formObjectPtr  - pointer to pdf form object in page\n   * @returns pdf form object\n   *\n   * @private\n   */\n  private readFormObject(formObjectPtr: number): PdfFormObject {\n    const objectCount = this.pdfiumModule.FPDFFormObj_CountObjects(formObjectPtr);\n    const objects: (PdfFormObject | PdfImageObject | PdfPathObject)[] = [];\n    for (let i = 0; i < objectCount; i++) {\n      const pageObjectPtr = this.pdfiumModule.FPDFFormObj_GetObject(formObjectPtr, i);\n      const pageObj = this.readPdfPageObject(pageObjectPtr);\n      if (pageObj) {\n        objects.push(pageObj);\n      }\n    }\n    const matrix = this.readPdfPageObjectTransformMatrix(formObjectPtr);\n\n    return {\n      type: PdfPageObjectType.FORM,\n      objects,\n      matrix,\n    };\n  }\n\n  /**\n   * Read pdf object in pdf page\n   * @param pageObjectPtr  - pointer to pdf object in page\n   * @returns pdf object in page\n   *\n   * @private\n   */\n  private readPdfPageObjectTransformMatrix(pageObjectPtr: number): PdfTransformMatrix {\n    const matrixPtr = this.memoryManager.malloc(4 * 6);\n    if (this.pdfiumModule.FPDFPageObj_GetMatrix(pageObjectPtr, matrixPtr)) {\n      const a = this.pdfiumModule.pdfium.getValue(matrixPtr, 'float');\n      const b = this.pdfiumModule.pdfium.getValue(matrixPtr + 4, 'float');\n      const c = this.pdfiumModule.pdfium.getValue(matrixPtr + 8, 'float');\n      const d = this.pdfiumModule.pdfium.getValue(matrixPtr + 12, 'float');\n      const e = this.pdfiumModule.pdfium.getValue(matrixPtr + 16, 'float');\n      const f = this.pdfiumModule.pdfium.getValue(matrixPtr + 20, 'float');\n      this.memoryManager.free(matrixPtr);\n\n      return { a, b, c, d, e, f };\n    }\n\n    this.memoryManager.free(matrixPtr);\n\n    return { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0 };\n  }\n\n  /**\n   * Read contents of a stamp annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns contents of the stamp annotation\n   *\n   * @private\n   */\n  private readStampAnnotationContents(annotationPtr: number): PdfStampAnnoObjectContents {\n    const contents: PdfStampAnnoObjectContents = [];\n\n    const objectCount = this.pdfiumModule.FPDFAnnot_GetObjectCount(annotationPtr);\n    for (let i = 0; i < objectCount; i++) {\n      const annotationObjectPtr = this.pdfiumModule.FPDFAnnot_GetObject(annotationPtr, i);\n\n      const pageObj = this.readPdfPageObject(annotationObjectPtr);\n      if (pageObj) {\n        contents.push(pageObj);\n      }\n    }\n\n    return contents;\n  }\n\n  /**\n   * Return the stroke-width declared in the annotations /Border or /BS entry.\n   * Falls back to 1 pt when nothing is defined.\n   *\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns stroke-width\n   *\n   * @private\n   */\n  private getStrokeWidth(annotationPtr: number): number {\n    // FPDFAnnot_GetBorder(annot, &hRadius, &vRadius, &borderWidth)\n    const hPtr = this.memoryManager.malloc(4);\n    const vPtr = this.memoryManager.malloc(4);\n    const wPtr = this.memoryManager.malloc(4);\n\n    const ok = this.pdfiumModule.FPDFAnnot_GetBorder(annotationPtr, hPtr, vPtr, wPtr);\n    const width = ok ? this.pdfiumModule.pdfium.getValue(wPtr, 'float') : 1; // default 1 pt\n\n    this.memoryManager.free(hPtr);\n    this.memoryManager.free(vPtr);\n    this.memoryManager.free(wPtr);\n\n    return width;\n  }\n\n  /**\n   * Fetches the `/F` flag bit-field from an annotation.\n   *\n   * @param annotationPtr pointer to an `FPDF_ANNOTATION`\n   * @returns `{ raw, flags }`\n   *           `raw`    the 32-bit integer returned by PDFium\n   *           `flags`  object with individual booleans\n   */\n  private getAnnotationFlags(annotationPtr: number): PdfAnnotationFlagName[] {\n    const rawFlags = this.pdfiumModule.FPDFAnnot_GetFlags(annotationPtr); // number\n\n    return flagsToNames(rawFlags);\n  }\n\n  private setAnnotationFlags(annotationPtr: number, flags: PdfAnnotationFlagName[]): boolean {\n    const rawFlags = namesToFlags(flags);\n    return this.pdfiumModule.FPDFAnnot_SetFlags(annotationPtr, rawFlags);\n  }\n\n  /**\n   * Read circle annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf circle annotation\n   *\n   * @private\n   */\n  private readPdfCircleAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfCircleAnnoObject {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const interiorColor = this.getAnnotationColor(\n      annotationPtr,\n      PdfAnnotationColorType.InteriorColor,\n    );\n    const strokeColor = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    let { style: strokeStyle, width: strokeWidth } = this.getBorderStyle(annotationPtr);\n\n    let strokeDashArray: number[] | undefined;\n    if (strokeStyle === PdfAnnotationBorderStyle.DASHED) {\n      const { ok, pattern } = this.getBorderDashPattern(annotationPtr);\n      if (ok) {\n        strokeDashArray = pattern;\n      }\n    }\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.CIRCLE,\n      flags,\n      color: interiorColor ?? 'transparent',\n      opacity,\n      contents,\n      strokeWidth,\n      strokeColor: strokeColor ?? '#FF0000',\n      strokeStyle,\n      rect,\n      author,\n      modified,\n      created,\n      ...(strokeDashArray !== undefined && { strokeDashArray }),\n    };\n  }\n\n  /**\n   * Read square annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf square annotation\n   *\n   * @private\n   */\n  private readPdfSquareAnno(\n    page: PdfPageObject,\n    annotationPtr: number,\n    index: string,\n  ): PdfSquareAnnoObject {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const flags = this.getAnnotationFlags(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const contents = this.getAnnotString(annotationPtr, 'Contents') || '';\n    const interiorColor = this.getAnnotationColor(\n      annotationPtr,\n      PdfAnnotationColorType.InteriorColor,\n    );\n    const strokeColor = this.getAnnotationColor(annotationPtr);\n    const opacity = this.getAnnotationOpacity(annotationPtr);\n    let { style: strokeStyle, width: strokeWidth } = this.getBorderStyle(annotationPtr);\n\n    let strokeDashArray: number[] | undefined;\n    if (strokeStyle === PdfAnnotationBorderStyle.DASHED) {\n      const { ok, pattern } = this.getBorderDashPattern(annotationPtr);\n      if (ok) {\n        strokeDashArray = pattern;\n      }\n    }\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      type: PdfAnnotationSubtype.SQUARE,\n      flags,\n      color: interiorColor ?? 'transparent',\n      opacity,\n      contents,\n      strokeColor: strokeColor ?? '#FF0000',\n      strokeWidth,\n      strokeStyle,\n      rect,\n      author,\n      modified,\n      created,\n      ...(strokeDashArray !== undefined && { strokeDashArray }),\n    };\n  }\n\n  /**\n   * Read basic info of unsupported pdf annotation\n   * @param page  - pdf page infor\n   * @param type - type of annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @param index  - index of annotation in the pdf page\n   * @returns pdf annotation\n   *\n   * @private\n   */\n  private readPdfAnno(\n    page: PdfPageObject,\n    type: PdfUnsupportedAnnoObject['type'],\n    annotationPtr: number,\n    index: string,\n  ): PdfUnsupportedAnnoObject {\n    const custom = this.getAnnotCustom(annotationPtr);\n    const pageRect = this.readPageAnnoRect(annotationPtr);\n    const rect = this.convertPageRectToDeviceRect(page, pageRect);\n    const author = this.getAnnotString(annotationPtr, 'T');\n    const modified = this.getAnnotationDate(annotationPtr, 'M');\n    const created = this.getAnnotationDate(annotationPtr, 'CreationDate');\n    const flags = this.getAnnotationFlags(annotationPtr);\n\n    return {\n      pageIndex: page.index,\n      custom,\n      id: index,\n      flags,\n      type,\n      rect,\n      author,\n      modified,\n      created,\n    };\n  }\n\n  /**\n   * Resolve `/IRT`  parent-annotation index on the same page.\n   *\n   * @param pagePtr        - pointer to FPDF_PAGE\n   * @param annotationPtr  - pointer to FPDF_ANNOTATION\n   * @returns index (`0count-1`) or `undefined` when the annotation is *not* a reply\n   *\n   * @private\n   */\n  private getInReplyToId(annotationPtr: number): string | undefined {\n    const parentPtr = this.pdfiumModule.FPDFAnnot_GetLinkedAnnot(annotationPtr, 'IRT');\n    if (!parentPtr) return;\n\n    return this.getAnnotString(parentPtr, 'NM');\n  }\n\n  /**\n   * Set the in reply to id of the annotation\n   *\n   * @param annotationPtr - pointer to an `FPDF_ANNOTATION`\n   * @param id - the id of the parent annotation\n   * @returns `true` on success\n   */\n  private setInReplyToId(pagePtr: number, annotationPtr: number, id: string): boolean {\n    const parentPtr = this.getAnnotationByName(pagePtr, id);\n    if (!parentPtr) return false;\n\n    return this.pdfiumModule.EPDFAnnot_SetLinkedAnnot(annotationPtr, 'IRT', parentPtr);\n  }\n\n  /**\n   * Fetch a string value (`/T`, `/M`, `/State`, ) from an annotation.\n   *\n   * @returns decoded UTF-8 string or `undefined` when the key is absent\n   *\n   * @private\n   */\n  private getAnnotString(annotationPtr: number, key: string): string | undefined {\n    const len = this.pdfiumModule.FPDFAnnot_GetStringValue(annotationPtr, key, 0, 0);\n    if (len === 0) return;\n\n    const bytes = (len + 1) * 2;\n    const ptr = this.memoryManager.malloc(bytes);\n\n    this.pdfiumModule.FPDFAnnot_GetStringValue(annotationPtr, key, ptr, bytes);\n    const value = this.pdfiumModule.pdfium.UTF16ToString(ptr);\n    this.memoryManager.free(ptr);\n\n    return value || undefined;\n  }\n\n  /**\n   * Get a string value (`/T`, `/M`, `/State`, ) from an attachment.\n   *\n   * @returns decoded UTF-8 string or `undefined` when the key is absent\n   *\n   * @private\n   */\n  private getAttachmentString(attachmentPtr: number, key: string): string | undefined {\n    const len = this.pdfiumModule.FPDFAttachment_GetStringValue(attachmentPtr, key, 0, 0);\n    if (len === 0) return;\n\n    const bytes = (len + 1) * 2;\n    const ptr = this.memoryManager.malloc(bytes);\n\n    this.pdfiumModule.FPDFAttachment_GetStringValue(attachmentPtr, key, ptr, bytes);\n    const value = this.pdfiumModule.pdfium.UTF16ToString(ptr);\n    this.memoryManager.free(ptr);\n\n    return value || undefined;\n  }\n\n  /**\n   * Get a number value (`/Size`) from an attachment.\n   *\n   * @returns number or `null` when the key is absent\n   *\n   * @private\n   */\n  private getAttachmentNumber(attachmentPtr: number, key: string): number | undefined {\n    const outPtr = this.memoryManager.malloc(4); // int32\n    try {\n      const ok = this.pdfiumModule.EPDFAttachment_GetIntegerValue(\n        attachmentPtr,\n        key, // FPDF_BYTESTRING  ASCII JS string is fine in your glue\n        outPtr,\n      );\n      if (!ok) return undefined;\n      // Treat as unsigned to avoid negative values if >2GB (rare on wasm, but harmless)\n      return this.pdfiumModule.pdfium.getValue(outPtr, 'i32') >>> 0;\n    } finally {\n      this.memoryManager.free(outPtr);\n    }\n  }\n\n  /**\n   * Get custom data of the annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns custom data of the annotation\n   *\n   * @private\n   */\n  private getAnnotCustom(annotationPtr: number): any {\n    const custom = this.getAnnotString(annotationPtr, 'EPDFCustom');\n    if (!custom) return;\n\n    try {\n      return JSON.parse(custom);\n    } catch (error) {\n      console.warn('Failed to parse annotation custom data as JSON:', error);\n      console.warn('Invalid JSON string:', custom);\n      return undefined;\n    }\n  }\n\n  /**\n   * Sets custom data for an annotation by safely stringifying and storing JSON\n   * @private\n   */\n  private setAnnotCustom(annotationPtr: number, data: any): boolean {\n    if (data === undefined || data === null) {\n      // Clear the custom data by setting empty string\n      return this.setAnnotString(annotationPtr, 'EPDFCustom', '');\n    }\n\n    try {\n      const jsonString = JSON.stringify(data);\n      return this.setAnnotString(annotationPtr, 'EPDFCustom', jsonString);\n    } catch (error) {\n      console.warn('Failed to stringify annotation custom data as JSON:', error);\n      console.warn('Invalid data object:', data);\n      return false;\n    }\n  }\n\n  /**\n   * Fetches the /IT (Intent) name from an annotation as a UTF-8 JS string.\n   *\n   * Mirrors getAnnotString(): calls EPDFAnnot_GetIntent twice (length probe + copy).\n   * Returns `undefined` if no intent present.\n   */\n  private getAnnotIntent(annotationPtr: number): string | undefined {\n    const len = this.pdfiumModule.EPDFAnnot_GetIntent(annotationPtr, 0, 0);\n    if (len === 0) return;\n\n    const codeUnits = len + 1;\n    const bytes = codeUnits * 2;\n    const ptr = this.memoryManager.malloc(bytes);\n\n    this.pdfiumModule.EPDFAnnot_GetIntent(annotationPtr, ptr, bytes);\n    const value = this.pdfiumModule.pdfium.UTF16ToString(ptr);\n\n    this.memoryManager.free(ptr);\n\n    return value && value !== 'undefined' ? value : undefined;\n  }\n\n  /**\n   * Write the `/IT` (Intent) name into an annotation dictionary.\n   *\n   * Mirrors EPDFAnnot_SetIntent in PDFium (expects a UTF8 FPDF_BYTESTRING).\n   *\n   * @param annotationPtr Pointer returned by FPDFPage_GetAnnot\n   * @param intent        Name without leading slash, e.g. `\"PolygonCloud\"`\n   *                      A leading / will be stripped for convenience.\n   * @returns             true on success, false otherwise\n   */\n  private setAnnotIntent(annotationPtr: number, intent: string): boolean {\n    return this.pdfiumModule.EPDFAnnot_SetIntent(annotationPtr, intent);\n  }\n\n  /**\n   * Returns the richcontent string stored in the annotations `/RC` entry.\n   *\n   * Works like `getAnnotIntent()`: first probe for length, then copy.\n   * `undefined` when the annotation has no rich content.\n   */\n  private getAnnotRichContent(annotationPtr: number): string | undefined {\n    // First call  number of UTF16 code units (excluding NUL)\n    const len = this.pdfiumModule.EPDFAnnot_GetRichContent(annotationPtr, 0, 0);\n    if (len === 0) return;\n\n    // +1 for the implicit NUL added by PDFium  bytes = 2  code units\n    const codeUnits = len + 1;\n    const bytes = codeUnits * 2;\n    const ptr = this.memoryManager.malloc(bytes);\n\n    this.pdfiumModule.EPDFAnnot_GetRichContent(annotationPtr, ptr, bytes);\n    const value = this.pdfiumModule.pdfium.UTF16ToString(ptr);\n\n    this.memoryManager.free(ptr);\n\n    return value || undefined;\n  }\n\n  /**\n   * Get annotation by name\n   * @param pagePtr - pointer to pdf page object\n   * @param name - name of annotation\n   * @returns pointer to pdf annotation\n   *\n   * @private\n   */\n  private getAnnotationByName(pagePtr: number, name: string): number | undefined {\n    return this.withWString(name, (wNamePtr) => {\n      return this.pdfiumModule.EPDFPage_GetAnnotByName(pagePtr, wNamePtr);\n    });\n  }\n\n  /**\n   * Remove annotation by name\n   * @param pagePtr - pointer to pdf page object\n   * @param name - name of annotation\n   * @returns true on success\n   *\n   * @private\n   */\n  private removeAnnotationByName(pagePtr: number, name: string): boolean {\n    return this.withWString(name, (wNamePtr) => {\n      return this.pdfiumModule.EPDFPage_RemoveAnnotByName(pagePtr, wNamePtr);\n    });\n  }\n\n  /**\n   * Set a string value (`/T`, `/M`, `/State`, ) to an annotation.\n   *\n   * @returns `true` if the operation was successful\n   *\n   * @private\n   */\n  private setAnnotString(annotationPtr: number, key: string, value: string): boolean {\n    return this.withWString(value, (wValPtr) => {\n      return this.pdfiumModule.FPDFAnnot_SetStringValue(annotationPtr, key, wValPtr);\n    });\n  }\n\n  /**\n   * Set a string value (`/T`, `/M`, `/State`, ) to an attachment.\n   *\n   * @returns `true` if the operation was successful\n   *\n   * @private\n   */\n  private setAttachmentString(attachmentPtr: number, key: string, value: string): boolean {\n    return this.withWString(value, (wValPtr) => {\n      // FPDFAttachment_SetStringValue writes into /Params dictionary\n      return this.pdfiumModule.FPDFAttachment_SetStringValue(attachmentPtr, key, wValPtr);\n    });\n  }\n\n  /**\n   * Read vertices of pdf annotation\n   * @param page  - pdf page infor\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns vertices of pdf annotation\n   *\n   * @private\n   */\n  private readPdfAnnoVertices(page: PdfPageObject, annotationPtr: number): Position[] {\n    const vertices: Position[] = [];\n    const count = this.pdfiumModule.FPDFAnnot_GetVertices(annotationPtr, 0, 0);\n    const pointMemorySize = 8;\n    const pointsPtr = this.memoryManager.malloc(count * pointMemorySize);\n    this.pdfiumModule.FPDFAnnot_GetVertices(annotationPtr, pointsPtr, count);\n    for (let i = 0; i < count; i++) {\n      const pointX = this.pdfiumModule.pdfium.getValue(pointsPtr + i * pointMemorySize, 'float');\n      const pointY = this.pdfiumModule.pdfium.getValue(\n        pointsPtr + i * pointMemorySize + 4,\n        'float',\n      );\n\n      const { x, y } = this.convertPagePointToDevicePoint(page, {\n        x: pointX,\n        y: pointY,\n      });\n      const last = vertices[vertices.length - 1];\n      if (!last || last.x !== x || last.y !== y) {\n        vertices.push({ x, y });\n      }\n    }\n    this.memoryManager.free(pointsPtr);\n\n    return vertices;\n  }\n\n  /**\n   * Sync the vertices of a polygon or polyline annotation.\n   *\n   * @param page  - pdf page infor\n   * @param annotPtr - pointer to pdf annotation\n   * @param vertices - the vertices to be set\n   * @returns true on success\n   *\n   * @private\n   */\n  private setPdfAnnoVertices(page: PdfPageObject, annotPtr: number, vertices: Position[]): boolean {\n    const pdf = this.pdfiumModule.pdfium;\n    const FS_POINTF_SIZE = 8;\n\n    const buf = this.memoryManager.malloc(FS_POINTF_SIZE * vertices.length);\n    vertices.forEach((v, i) => {\n      const pagePt = this.convertDevicePointToPagePoint(page, v);\n      pdf.setValue(buf + i * FS_POINTF_SIZE + 0, pagePt.x, 'float');\n      pdf.setValue(buf + i * FS_POINTF_SIZE + 4, pagePt.y, 'float');\n    });\n\n    const ok = this.pdfiumModule.EPDFAnnot_SetVertices(annotPtr, buf, vertices.length);\n    this.memoryManager.free(buf);\n    return ok;\n  }\n\n  /**\n   * Read the target of pdf bookmark\n   * @param docPtr - pointer to pdf document object\n   * @param getActionPtr - callback function to retrive the pointer of action\n   * @param getDestinationPtr - callback function to retrive the pointer of destination\n   * @returns target of pdf bookmark\n   *\n   * @private\n   */\n  private readPdfBookmarkTarget(\n    docPtr: number,\n    getActionPtr: () => number,\n    getDestinationPtr: () => number,\n  ): PdfLinkTarget | undefined {\n    const actionPtr = getActionPtr();\n    if (actionPtr) {\n      const action = this.readPdfAction(docPtr, actionPtr);\n\n      return {\n        type: 'action',\n        action,\n      };\n    } else {\n      const destinationPtr = getDestinationPtr();\n      if (destinationPtr) {\n        const destination = this.readPdfDestination(docPtr, destinationPtr);\n\n        return {\n          type: 'destination',\n          destination,\n        };\n      }\n    }\n  }\n\n  /**\n   * Read field of pdf widget annotation\n   * @param formHandle - form handle\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns field of pdf widget annotation\n   *\n   * @private\n   */\n  private readPdfWidgetAnnoField(formHandle: number, annotationPtr: number): PdfWidgetAnnoField {\n    const flag = this.pdfiumModule.FPDFAnnot_GetFormFieldFlags(\n      formHandle,\n      annotationPtr,\n    ) as PDF_FORM_FIELD_FLAG;\n\n    const type = this.pdfiumModule.FPDFAnnot_GetFormFieldType(\n      formHandle,\n      annotationPtr,\n    ) as PDF_FORM_FIELD_TYPE;\n\n    const name = readString(\n      this.pdfiumModule.pdfium,\n      (buffer: number, bufferLength) => {\n        return this.pdfiumModule.FPDFAnnot_GetFormFieldName(\n          formHandle,\n          annotationPtr,\n          buffer,\n          bufferLength,\n        );\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n\n    const alternateName = readString(\n      this.pdfiumModule.pdfium,\n      (buffer: number, bufferLength) => {\n        return this.pdfiumModule.FPDFAnnot_GetFormFieldAlternateName(\n          formHandle,\n          annotationPtr,\n          buffer,\n          bufferLength,\n        );\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n\n    const value = readString(\n      this.pdfiumModule.pdfium,\n      (buffer: number, bufferLength) => {\n        return this.pdfiumModule.FPDFAnnot_GetFormFieldValue(\n          formHandle,\n          annotationPtr,\n          buffer,\n          bufferLength,\n        );\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n\n    const options: PdfWidgetAnnoOption[] = [];\n    if (type === PDF_FORM_FIELD_TYPE.COMBOBOX || type === PDF_FORM_FIELD_TYPE.LISTBOX) {\n      const count = this.pdfiumModule.FPDFAnnot_GetOptionCount(formHandle, annotationPtr);\n      for (let i = 0; i < count; i++) {\n        const label = readString(\n          this.pdfiumModule.pdfium,\n          (buffer: number, bufferLength) => {\n            return this.pdfiumModule.FPDFAnnot_GetOptionLabel(\n              formHandle,\n              annotationPtr,\n              i,\n              buffer,\n              bufferLength,\n            );\n          },\n          this.pdfiumModule.pdfium.UTF16ToString,\n        );\n        const isSelected = this.pdfiumModule.FPDFAnnot_IsOptionSelected(\n          formHandle,\n          annotationPtr,\n          i,\n        );\n        options.push({\n          label,\n          isSelected,\n        });\n      }\n    }\n\n    let isChecked = false;\n    if (type === PDF_FORM_FIELD_TYPE.CHECKBOX || type === PDF_FORM_FIELD_TYPE.RADIOBUTTON) {\n      isChecked = this.pdfiumModule.FPDFAnnot_IsChecked(formHandle, annotationPtr);\n    }\n\n    return {\n      flag,\n      type,\n      name,\n      alternateName,\n      value,\n      isChecked,\n      options,\n    };\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.renderAnnotation}\n   *\n   * @public\n   */\n  renderPageAnnotationRaw(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    annotation: PdfAnnotationObject,\n    options?: PdfRenderPageAnnotationOptions,\n  ): PdfTask<ImageDataLike> {\n    const {\n      scaleFactor = 1,\n      rotation = Rotation.Degree0,\n      dpr = 1,\n      mode = AppearanceMode.Normal,\n    } = options ?? {};\n\n    this.logger.debug(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      'renderPageAnnotation',\n      doc,\n      page,\n      annotation,\n      options,\n    );\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderPageAnnotation`,\n      'Begin',\n      `${doc.id}-${page.index}-${annotation.id}`,\n    );\n\n    const task = new Task<ImageDataLike, PdfErrorReason>();\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `RenderPageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}-${annotation.id}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    // 1) native handles\n    const pageCtx = ctx.acquirePage(page.index);\n    const annotPtr = this.getAnnotationByName(pageCtx.pagePtr, annotation.id);\n    if (!annotPtr) {\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `RenderPageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}-${annotation.id}`,\n      );\n      pageCtx.release();\n      return PdfTaskHelper.reject({ code: PdfErrorCode.NotFound, message: 'annotation not found' });\n    }\n\n    // 2) device size (rotation-aware)  integer pixels\n    const finalScale = Math.max(0.01, scaleFactor * dpr);\n\n    const rect = toIntRect(annotation.rect);\n    const devRect = toIntRect(transformRect(page.size, rect, rotation, finalScale));\n\n    const wDev = Math.max(1, devRect.size.width);\n    const hDev = Math.max(1, devRect.size.height);\n    const stride = wDev * 4;\n    const bytes = stride * hDev;\n\n    // 3) bitmap backing store in WASM\n    const heapPtr = this.memoryManager.malloc(bytes);\n    const bitmapPtr = this.pdfiumModule.FPDFBitmap_CreateEx(\n      wDev,\n      hDev,\n      BitmapFormat.Bitmap_BGRA,\n      heapPtr,\n      stride,\n    );\n    this.pdfiumModule.FPDFBitmap_FillRect(bitmapPtr, 0, 0, wDev, hDev, 0x00000000);\n\n    // 4) user matrix (no Y-flip; includes -origin translate)\n    const M = buildUserToDeviceMatrix(\n      rect, // {origin:{L,B}, size:{W,H}}\n      rotation,\n      wDev,\n      hDev,\n    );\n    const mPtr = this.memoryManager.malloc(6 * 4);\n    const mView = new Float32Array(this.pdfiumModule.pdfium.HEAPF32.buffer, mPtr, 6);\n    mView.set([M.a, M.b, M.c, M.d, M.e, M.f]);\n\n    // 5) render (DisplayMatrix is applied inside EPDF_RenderAnnotBitmap)\n    const FLAGS = RenderFlag.REVERSE_BYTE_ORDER;\n    let ok = false;\n    try {\n      ok = !!this.pdfiumModule.EPDF_RenderAnnotBitmap(\n        bitmapPtr,\n        pageCtx.pagePtr,\n        annotPtr,\n        mode,\n        mPtr,\n        FLAGS,\n      );\n    } finally {\n      this.memoryManager.free(mPtr);\n      this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr); // frees wrapper, not our heapPtr\n      this.pdfiumModule.FPDFPage_CloseAnnot(annotPtr);\n      pageCtx.release();\n    }\n\n    if (!ok) {\n      this.memoryManager.free(heapPtr);\n      this.logger.perf(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `RenderPageAnnotation`,\n        'End',\n        `${doc.id}-${page.index}-${annotation.id}`,\n      );\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: 'EPDF_RenderAnnotBitmap failed',\n      });\n    }\n\n    const data = this.pdfiumModule.pdfium.HEAPU8.subarray(heapPtr, heapPtr + bytes);\n    // Return plain object (ImageDataLike) instead of browser-specific ImageData\n    const imageDataLike: ImageDataLike = {\n      data: new Uint8ClampedArray(data),\n      width: wDev,\n      height: hDev,\n    };\n    task.resolve(imageDataLike);\n    this.memoryManager.free(heapPtr);\n    return task;\n  }\n\n  private renderRectEncoded(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    rect: Rect,\n    options?: PdfRenderPageOptions,\n  ): PdfTask<ImageDataLike> {\n    const task = new Task<ImageDataLike, PdfErrorReason>();\n    const rotation: Rotation = options?.rotation ?? Rotation.Degree0;\n\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'document does not open',\n      });\n    }\n\n    // ---- 1) decide device size (scale  dpr, swap for 90/270)\n    const scale = Math.max(0.01, options?.scaleFactor ?? 1);\n    const dpr = Math.max(1, options?.dpr ?? 1);\n    const finalScale = scale * dpr;\n\n    const baseW = rect.size.width;\n    const baseH = rect.size.height;\n    const swap = (rotation & 1) === 1; // 90 or 270\n\n    const wDev = Math.max(1, Math.round((swap ? baseH : baseW) * finalScale));\n    const hDev = Math.max(1, Math.round((swap ? baseW : baseH) * finalScale));\n    const stride = wDev * 4;\n    const bytes = stride * hDev;\n\n    const pageCtx = ctx.acquirePage(page.index);\n    const shouldRenderForms = options?.withForms ?? false;\n    const formHandle = shouldRenderForms ? pageCtx.getFormHandle() : undefined;\n\n    // ---- 2) allocate a BGRA bitmap in WASM\n    const heapPtr = this.memoryManager.malloc(bytes);\n    const bitmapPtr = this.pdfiumModule.FPDFBitmap_CreateEx(\n      wDev,\n      hDev,\n      BitmapFormat.Bitmap_BGRA,\n      heapPtr,\n      stride,\n    );\n    // white background like page renderers typically do\n    this.pdfiumModule.FPDFBitmap_FillRect(bitmapPtr, 0, 0, wDev, hDev, 0xffffffff);\n\n    const M = buildUserToDeviceMatrix(rect, rotation, wDev, hDev);\n\n    const mPtr = this.memoryManager.malloc(6 * 4); // FS_MATRIX\n    const mView = new Float32Array(this.pdfiumModule.pdfium.HEAPF32.buffer, mPtr, 6);\n    mView.set([M.a, M.b, M.c, M.d, M.e, M.f]);\n\n    // Clip to the whole bitmap (device space)\n    const clipPtr = this.memoryManager.malloc(4 * 4); // FS_RECTF {left,bottom,right,top}\n    const clipView = new Float32Array(this.pdfiumModule.pdfium.HEAPF32.buffer, clipPtr, 4);\n    clipView.set([0, 0, wDev, hDev]);\n\n    // Rendering flags: swap byte order to present RGBA to JS; include LCD_TEXT and ANNOT if asked\n    let flags = RenderFlag.REVERSE_BYTE_ORDER;\n    if (options?.withAnnotations ?? false) flags |= RenderFlag.ANNOT;\n\n    try {\n      this.pdfiumModule.FPDF_RenderPageBitmapWithMatrix(\n        bitmapPtr,\n        pageCtx.pagePtr,\n        mPtr,\n        clipPtr,\n        flags,\n      );\n\n      if (formHandle !== undefined) {\n        const formParams = computeFormDrawParams(M, rect, page.size, rotation);\n        const { startX, startY, formsWidth, formsHeight, scaleX, scaleY } = formParams;\n\n        // Draw form elements using the same effective transform as the page bitmap.\n        this.pdfiumModule.FPDF_FFLDraw(\n          formHandle,\n          bitmapPtr,\n          pageCtx.pagePtr,\n          startX,\n          startY,\n          formsWidth,\n          formsHeight,\n          rotation,\n          flags,\n        );\n      }\n    } finally {\n      pageCtx.release();\n      this.memoryManager.free(mPtr);\n      this.memoryManager.free(clipPtr);\n    }\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderRectEncodedData`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n    const data = this.pdfiumModule.pdfium.HEAPU8.subarray(heapPtr, heapPtr + bytes);\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderRectEncodedData`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderRectEncodedImageData`,\n      'Begin',\n      `${doc.id}-${page.index}`,\n    );\n    // Return plain object (ImageDataLike) instead of browser-specific ImageData\n    // This ensures compatibility with Node.js and other non-browser environments\n    const imageDataLike: ImageDataLike = {\n      data: new Uint8ClampedArray(data),\n      width: wDev,\n      height: hDev,\n    };\n    this.logger.perf(\n      LOG_SOURCE,\n      LOG_CATEGORY,\n      `RenderRectEncodedImageData`,\n      'End',\n      `${doc.id}-${page.index}`,\n    );\n    task.resolve(imageDataLike);\n\n    this.pdfiumModule.FPDFBitmap_Destroy(bitmapPtr);\n    this.memoryManager.free(heapPtr);\n\n    return task;\n  }\n\n  /**\n   * Read the target of pdf link annotation\n   * @param docPtr - pointer to pdf document object\n   * @param getActionPtr - callback function to retrive the pointer of action\n   * @param getDestinationPtr - callback function to retrive the pointer of destination\n   * @returns target of link\n   *\n   * @private\n   */\n  private readPdfLinkAnnoTarget(\n    docPtr: number,\n    getActionPtr: () => number,\n    getDestinationPtr: () => number,\n  ): PdfLinkTarget | undefined {\n    const destinationPtr = getDestinationPtr();\n    if (destinationPtr) {\n      const destination = this.readPdfDestination(docPtr, destinationPtr);\n\n      return {\n        type: 'destination',\n        destination,\n      };\n    } else {\n      const actionPtr = getActionPtr();\n      if (actionPtr) {\n        const action = this.readPdfAction(docPtr, actionPtr);\n\n        return {\n          type: 'action',\n          action,\n        };\n      }\n    }\n  }\n\n  private createLocalDestPtr(docPtr: number, dest: PdfDestinationObject): number {\n    // Load page for local destinations.\n    const pagePtr = this.pdfiumModule.FPDF_LoadPage(docPtr, dest.pageIndex);\n    if (!pagePtr) return 0;\n\n    try {\n      if (dest.zoom.mode === PdfZoomMode.XYZ) {\n        const { x, y, zoom } = dest.zoom.params;\n        // We treat provided x/y/zoom as specified.\n        return this.pdfiumModule.EPDFDest_CreateXYZ(\n          pagePtr,\n          /*has_left*/ true,\n          x,\n          /*has_top*/ true,\n          y,\n          /*has_zoom*/ true,\n          zoom,\n        );\n      }\n\n      // Map non-XYZ view modes to PDFDEST_VIEW_* and params.\n      let viewEnum: PdfZoomMode;\n      let params: number[] = [];\n\n      switch (dest.zoom.mode) {\n        case PdfZoomMode.FitPage:\n          viewEnum = PdfZoomMode.FitPage; // no params\n          break;\n        case PdfZoomMode.FitHorizontal:\n          // FitH needs top; use view[0] if provided, else 0\n          viewEnum = PdfZoomMode.FitHorizontal;\n          params = [dest.view?.[0] ?? 0];\n          break;\n        case PdfZoomMode.FitVertical:\n          // FitV needs left; use view[0] if provided, else 0\n          viewEnum = PdfZoomMode.FitVertical;\n          params = [dest.view?.[0] ?? 0];\n          break;\n        case PdfZoomMode.FitRectangle:\n          // FitR needs left, bottom, right, top (pad with zeros).\n          {\n            const v = dest.view ?? [];\n            params = [v[0] ?? 0, v[1] ?? 0, v[2] ?? 0, v[3] ?? 0];\n            viewEnum = PdfZoomMode.FitRectangle;\n          }\n          break;\n        case PdfZoomMode.Unknown:\n        default:\n          // Unknown cannot be encoded as a valid explicit destination.\n          return 0;\n      }\n\n      return this.withFloatArray(params, (ptr, count) =>\n        this.pdfiumModule.EPDFDest_CreateView(pagePtr, viewEnum, ptr, count),\n      );\n    } finally {\n      this.pdfiumModule.FPDF_ClosePage(pagePtr);\n    }\n  }\n\n  private applyBookmarkTarget(docPtr: number, bmPtr: number, target: PdfLinkTarget): boolean {\n    if (target.type === 'destination') {\n      const destPtr = this.createLocalDestPtr(docPtr, target.destination);\n      if (!destPtr) return false;\n      const ok = this.pdfiumModule.EPDFBookmark_SetDest(docPtr, bmPtr, destPtr);\n      return !!ok;\n    }\n\n    // target.type === 'action'\n    const action = target.action;\n    switch (action.type) {\n      case PdfActionType.Goto: {\n        const destPtr = this.createLocalDestPtr(docPtr, action.destination);\n        if (!destPtr) return false;\n        const actPtr = this.pdfiumModule.EPDFAction_CreateGoTo(docPtr, destPtr);\n        if (!actPtr) return false;\n        return !!this.pdfiumModule.EPDFBookmark_SetAction(docPtr, bmPtr, actPtr);\n      }\n\n      case PdfActionType.URI: {\n        const actPtr = this.pdfiumModule.EPDFAction_CreateURI(docPtr, action.uri);\n        if (!actPtr) return false;\n        return !!this.pdfiumModule.EPDFBookmark_SetAction(docPtr, bmPtr, actPtr);\n      }\n\n      case PdfActionType.LaunchAppOrOpenFile: {\n        const actPtr = this.withWString(action.path, (wptr) =>\n          this.pdfiumModule.EPDFAction_CreateLaunch(docPtr, wptr),\n        );\n        if (!actPtr) return false;\n        return !!this.pdfiumModule.EPDFBookmark_SetAction(docPtr, bmPtr, actPtr);\n      }\n\n      case PdfActionType.RemoteGoto:\n        // We need a file path to build a GoToR action. Your Action shape\n        // doesnt carry a path, so well reject for now.\n        return false;\n\n      case PdfActionType.Unsupported:\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Read pdf action from pdf document\n   * @param docPtr - pointer to pdf document object\n   * @param actionPtr - pointer to pdf action object\n   * @returns pdf action object\n   *\n   * @private\n   */\n  private readPdfAction(docPtr: number, actionPtr: number): PdfActionObject {\n    const actionType = this.pdfiumModule.FPDFAction_GetType(actionPtr) as PdfActionType;\n    let action: PdfActionObject;\n    switch (actionType) {\n      case PdfActionType.Unsupported:\n        action = {\n          type: PdfActionType.Unsupported,\n        };\n        break;\n      case PdfActionType.Goto:\n        {\n          const destinationPtr = this.pdfiumModule.FPDFAction_GetDest(docPtr, actionPtr);\n          if (destinationPtr) {\n            const destination = this.readPdfDestination(docPtr, destinationPtr);\n\n            action = {\n              type: PdfActionType.Goto,\n              destination,\n            };\n          } else {\n            action = {\n              type: PdfActionType.Unsupported,\n            };\n          }\n        }\n        break;\n      case PdfActionType.RemoteGoto:\n        {\n          // In case of remote goto action,\n          // the application should first use FPDFAction_GetFilePath\n          // to get file path, then load that particular document,\n          // and use its document handle to call this\n          action = {\n            type: PdfActionType.Unsupported,\n          };\n        }\n        break;\n      case PdfActionType.URI:\n        {\n          const uri = readString(\n            this.pdfiumModule.pdfium,\n            (buffer, bufferLength) => {\n              return this.pdfiumModule.FPDFAction_GetURIPath(\n                docPtr,\n                actionPtr,\n                buffer,\n                bufferLength,\n              );\n            },\n            this.pdfiumModule.pdfium.UTF8ToString,\n          );\n\n          action = {\n            type: PdfActionType.URI,\n            uri,\n          };\n        }\n        break;\n      case PdfActionType.LaunchAppOrOpenFile:\n        {\n          const path = readString(\n            this.pdfiumModule.pdfium,\n            (buffer, bufferLength) => {\n              return this.pdfiumModule.FPDFAction_GetFilePath(actionPtr, buffer, bufferLength);\n            },\n            this.pdfiumModule.pdfium.UTF8ToString,\n          );\n          action = {\n            type: PdfActionType.LaunchAppOrOpenFile,\n            path,\n          };\n        }\n        break;\n    }\n\n    return action;\n  }\n\n  /**\n   * Read pdf destination object\n   * @param docPtr - pointer to pdf document object\n   * @param destinationPtr - pointer to pdf destination\n   * @returns pdf destination object\n   *\n   * @private\n   */\n  private readPdfDestination(docPtr: number, destinationPtr: number): PdfDestinationObject {\n    const pageIndex = this.pdfiumModule.FPDFDest_GetDestPageIndex(docPtr, destinationPtr);\n    // Every params is a float value\n    const maxParmamsCount = 4;\n    const paramsCountPtr = this.memoryManager.malloc(maxParmamsCount);\n    const paramsPtr = this.memoryManager.malloc(maxParmamsCount * 4);\n    const zoomMode = this.pdfiumModule.FPDFDest_GetView(\n      destinationPtr,\n      paramsCountPtr,\n      paramsPtr,\n    ) as PdfZoomMode;\n    const paramsCount = this.pdfiumModule.pdfium.getValue(paramsCountPtr, 'i32');\n    const view: number[] = [];\n    for (let i = 0; i < paramsCount; i++) {\n      const paramPtr = paramsPtr + i * 4;\n      view.push(this.pdfiumModule.pdfium.getValue(paramPtr, 'float'));\n    }\n    this.memoryManager.free(paramsCountPtr);\n    this.memoryManager.free(paramsPtr);\n\n    if (zoomMode === PdfZoomMode.XYZ) {\n      const hasXPtr = this.memoryManager.malloc(1);\n      const hasYPtr = this.memoryManager.malloc(1);\n      const hasZPtr = this.memoryManager.malloc(1);\n      const xPtr = this.memoryManager.malloc(4);\n      const yPtr = this.memoryManager.malloc(4);\n      const zPtr = this.memoryManager.malloc(4);\n\n      const isSucceed = this.pdfiumModule.FPDFDest_GetLocationInPage(\n        destinationPtr,\n        hasXPtr,\n        hasYPtr,\n        hasZPtr,\n        xPtr,\n        yPtr,\n        zPtr,\n      );\n      if (isSucceed) {\n        const hasX = this.pdfiumModule.pdfium.getValue(hasXPtr, 'i8');\n        const hasY = this.pdfiumModule.pdfium.getValue(hasYPtr, 'i8');\n        const hasZ = this.pdfiumModule.pdfium.getValue(hasZPtr, 'i8');\n\n        const x = hasX ? this.pdfiumModule.pdfium.getValue(xPtr, 'float') : 0;\n        const y = hasY ? this.pdfiumModule.pdfium.getValue(yPtr, 'float') : 0;\n        const zoom = hasZ ? this.pdfiumModule.pdfium.getValue(zPtr, 'float') : 0;\n\n        this.memoryManager.free(hasXPtr);\n        this.memoryManager.free(hasYPtr);\n        this.memoryManager.free(hasZPtr);\n        this.memoryManager.free(xPtr);\n        this.memoryManager.free(yPtr);\n        this.memoryManager.free(zPtr);\n\n        return {\n          pageIndex,\n          zoom: {\n            mode: zoomMode,\n            params: {\n              x,\n              y,\n              zoom,\n            },\n          },\n          view,\n        };\n      }\n\n      this.memoryManager.free(hasXPtr);\n      this.memoryManager.free(hasYPtr);\n      this.memoryManager.free(hasZPtr);\n      this.memoryManager.free(xPtr);\n      this.memoryManager.free(yPtr);\n      this.memoryManager.free(zPtr);\n\n      return {\n        pageIndex,\n        zoom: {\n          mode: zoomMode,\n          params: {\n            x: 0,\n            y: 0,\n            zoom: 0,\n          },\n        },\n        view,\n      };\n    }\n\n    return {\n      pageIndex,\n      zoom: {\n        mode: zoomMode,\n      },\n      view,\n    };\n  }\n\n  /**\n   * Read attachmet from pdf document\n   * @param docPtr - pointer to pdf document object\n   * @param index - index of attachment\n   * @returns attachment content\n   *\n   * @private\n   */\n  private readPdfAttachment(docPtr: number, index: number): PdfAttachmentObject {\n    const attachmentPtr = this.pdfiumModule.FPDFDoc_GetAttachment(docPtr, index);\n    const name = readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) => {\n        return this.pdfiumModule.FPDFAttachment_GetName(attachmentPtr, buffer, bufferLength);\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n    const description = readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) => {\n        return this.pdfiumModule.EPDFAttachment_GetDescription(attachmentPtr, buffer, bufferLength);\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n    const mimeType = readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) => {\n        return this.pdfiumModule.FPDFAttachment_GetSubtype(attachmentPtr, buffer, bufferLength);\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n    const creationDate = this.getAttachmentDate(attachmentPtr, 'CreationDate');\n    const checksum = readString(\n      this.pdfiumModule.pdfium,\n      (buffer, bufferLength) => {\n        return this.pdfiumModule.FPDFAttachment_GetStringValue(\n          attachmentPtr,\n          'Checksum',\n          buffer,\n          bufferLength,\n        );\n      },\n      this.pdfiumModule.pdfium.UTF16ToString,\n    );\n    const size = this.getAttachmentNumber(attachmentPtr, 'Size');\n\n    return {\n      index,\n      name,\n      description,\n      mimeType,\n      size,\n      creationDate,\n      checksum,\n    };\n  }\n\n  /**\n   * Convert coordinate of point from device coordinate to page coordinate\n   * @param page  - pdf page infor\n   * @param position - position of point\n   * @returns converted position\n   *\n   * @private\n   */\n  private convertDevicePointToPagePoint(page: PdfPageObject, position: Position): Position {\n    const DW = page.size.width;\n    const DH = page.size.height;\n    const r = page.rotation & 3;\n\n    if (r === 0) {\n      // 0\n      return { x: position.x, y: DH - position.y };\n    }\n    if (r === 1) {\n      // 90 CW\n      // x_d = sx*y, y_d = sy*x  =>  x = y_d/sy, y = x_d/sx\n      return { x: position.y, y: position.x };\n    }\n    if (r === 2) {\n      // 180\n      return { x: DW - position.x, y: position.y };\n    }\n    {\n      // 270 CW\n      // x_d = DW - sx*y, y_d = DH - sy*x\n      return { x: DH - position.y, y: DW - position.x };\n    }\n  }\n\n  /**\n   * Convert coordinate of point from page coordinate to device coordinate\n   * @param page  - pdf page infor\n   * @param position - position of point\n   * @returns converted position\n   *\n   * @private\n   */\n  private convertPagePointToDevicePoint(page: PdfPageObject, position: Position): Position {\n    const DW = page.size.width;\n    const DH = page.size.height;\n    const r = page.rotation & 3;\n\n    if (r === 0) {\n      // 0\n      return { x: position.x, y: DH - position.y };\n    }\n    if (r === 1) {\n      // 90 CW\n      return { x: position.y, y: position.x };\n    }\n    if (r === 2) {\n      // 180\n      return { x: DW - position.x, y: position.y };\n    }\n    {\n      // 270 CW\n      return { x: DW - position.y, y: DH - position.x };\n    }\n  }\n\n  /**\n   * Convert coordinate of rectangle from page coordinate to device coordinate\n   * @param page  - pdf page infor\n   * @param pagePtr - pointer to pdf page object\n   * @param pageRect - rectangle that needs to be converted\n   * @returns converted rectangle\n   *\n   * @private\n   */\n  private convertPageRectToDeviceRect(\n    page: PdfPageObject,\n    pageRect: {\n      left: number;\n      top: number;\n      right: number;\n      bottom: number;\n    },\n  ): Rect {\n    const { x, y } = this.convertPagePointToDevicePoint(page, {\n      x: pageRect.left,\n      y: pageRect.top,\n    });\n    const rect = {\n      origin: {\n        x,\n        y,\n      },\n      size: {\n        width: Math.abs(pageRect.right - pageRect.left),\n        height: Math.abs(pageRect.top - pageRect.bottom),\n      },\n    };\n\n    return rect;\n  }\n\n  /**\n   * Read the appearance stream of annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @param mode - appearance mode\n   * @returns appearance stream\n   *\n   * @private\n   */\n  private readPageAnnoAppearanceStreams(annotationPtr: number) {\n    return {\n      normal: this.readPageAnnoAppearanceStream(annotationPtr, AppearanceMode.Normal),\n      rollover: this.readPageAnnoAppearanceStream(annotationPtr, AppearanceMode.Rollover),\n      down: this.readPageAnnoAppearanceStream(annotationPtr, AppearanceMode.Down),\n    };\n  }\n\n  /**\n   * Read the appearance stream of annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @param mode - appearance mode\n   * @returns appearance stream\n   *\n   * @private\n   */\n  private readPageAnnoAppearanceStream(annotationPtr: number, mode = AppearanceMode.Normal) {\n    const utf16Length = this.pdfiumModule.FPDFAnnot_GetAP(annotationPtr, mode, 0, 0);\n    const bytesCount = (utf16Length + 1) * 2; // include NIL\n    const bufferPtr = this.memoryManager.malloc(bytesCount);\n    this.pdfiumModule.FPDFAnnot_GetAP(annotationPtr, mode, bufferPtr, bytesCount);\n    const ap = this.pdfiumModule.pdfium.UTF16ToString(bufferPtr);\n    this.memoryManager.free(bufferPtr);\n\n    return ap;\n  }\n\n  /**\n   * Set the appearance stream of annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @param mode - appearance mode\n   * @param apContent - appearance stream content (null to remove)\n   * @returns whether the appearance stream was set successfully\n   *\n   * @private\n   */\n  private setPageAnnoAppearanceStream(\n    annotationPtr: number,\n    mode: AppearanceMode = AppearanceMode.Normal,\n    apContent: string,\n  ): boolean {\n    // UTF-16LE buffer (+2 bytes for NUL)\n    const bytes = 2 * (apContent.length + 1);\n    const ptr = this.memoryManager.malloc(bytes);\n    try {\n      this.pdfiumModule.pdfium.stringToUTF16(apContent, ptr, bytes);\n      const ok = this.pdfiumModule.FPDFAnnot_SetAP(annotationPtr, mode, ptr);\n      return !!ok;\n    } finally {\n      this.memoryManager.free(ptr);\n    }\n  }\n\n  /**\n   * Set the rect of specified annotation\n   * @param page - page info that the annotation is belonged to\n   * @param annotationPtr - pointer to annotation object\n   * @param rect - target rectangle\n   * @returns whether the rect is setted\n   *\n   * @private\n   */\n  private setPageAnnoRect(page: PdfPageObject, annotPtr: number, rect: Rect): boolean {\n    // Snap device edges the same way FPDF_DeviceToPage(int,int,...) did (truncate  floor for 0)\n    const x0d = Math.floor(rect.origin.x);\n    const y0d = Math.floor(rect.origin.y);\n    const x1d = Math.floor(rect.origin.x + rect.size.width);\n    const y1d = Math.floor(rect.origin.y + rect.size.height);\n\n    // Map all 4 integer corners to page space (handles any /Rotate)\n    const TL = this.convertDevicePointToPagePoint(page, { x: x0d, y: y0d });\n    const TR = this.convertDevicePointToPagePoint(page, { x: x1d, y: y0d });\n    const BR = this.convertDevicePointToPagePoint(page, { x: x1d, y: y1d });\n    const BL = this.convertDevicePointToPagePoint(page, { x: x0d, y: y1d });\n\n    // Page-space AABB\n    let left = Math.min(TL.x, TR.x, BR.x, BL.x);\n    let right = Math.max(TL.x, TR.x, BR.x, BL.x);\n    let bottom = Math.min(TL.y, TR.y, BR.y, BL.y);\n    let top = Math.max(TL.y, TR.y, BR.y, BL.y);\n    if (left > right) [left, right] = [right, left];\n    if (bottom > top) [bottom, top] = [top, bottom];\n\n    // Write FS_RECTF in memory order: L, T, R, B\n    const ptr = this.memoryManager.malloc(16);\n    const pdf = this.pdfiumModule.pdfium;\n    pdf.setValue(ptr + 0, left, 'float'); // L\n    pdf.setValue(ptr + 4, top, 'float'); // T\n    pdf.setValue(ptr + 8, right, 'float'); // R\n    pdf.setValue(ptr + 12, bottom, 'float'); // B\n\n    const ok = this.pdfiumModule.FPDFAnnot_SetRect(annotPtr, ptr);\n    this.memoryManager.free(ptr);\n    return !!ok;\n  }\n\n  /**\n   * Read the rectangle of annotation\n   * @param annotationPtr - pointer to pdf annotation\n   * @returns rectangle of annotation\n   *\n   * @private\n   */\n  private readPageAnnoRect(annotationPtr: number) {\n    const pageRectPtr = this.memoryManager.malloc(4 * 4);\n    const pageRect = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n    };\n    if (this.pdfiumModule.FPDFAnnot_GetRect(annotationPtr, pageRectPtr)) {\n      pageRect.left = this.pdfiumModule.pdfium.getValue(pageRectPtr, 'float');\n      pageRect.top = this.pdfiumModule.pdfium.getValue(pageRectPtr + 4, 'float');\n      pageRect.right = this.pdfiumModule.pdfium.getValue(pageRectPtr + 8, 'float');\n      pageRect.bottom = this.pdfiumModule.pdfium.getValue(pageRectPtr + 12, 'float');\n    }\n    this.memoryManager.free(pageRectPtr);\n\n    return pageRect;\n  }\n\n  /**\n   * Get highlight rects for a specific character range (for search highlighting)\n   * @param page - pdf page info\n   * @param pagePtr - pointer to pdf page\n   * @param textPagePtr - pointer to pdf text page\n   * @param startIndex - starting character index\n   * @param charCount - number of characters in the range\n   * @returns array of rectangles for highlighting the specified character range\n   *\n   * @private\n   */\n  private getHighlightRects(\n    page: PdfPageObject,\n    textPagePtr: number,\n    startIndex: number,\n    charCount: number,\n  ): Rect[] {\n    const rectsCount = this.pdfiumModule.FPDFText_CountRects(textPagePtr, startIndex, charCount);\n    const highlightRects: Rect[] = [];\n\n    // scratch doubles for the page-space rect\n    const l = this.memoryManager.malloc(8);\n    const t = this.memoryManager.malloc(8);\n    const r = this.memoryManager.malloc(8);\n    const b = this.memoryManager.malloc(8);\n\n    for (let i = 0; i < rectsCount; i++) {\n      const ok = this.pdfiumModule.FPDFText_GetRect(textPagePtr, i, l, t, r, b);\n      if (!ok) continue;\n\n      const left = this.pdfiumModule.pdfium.getValue(l, 'double');\n      const top = this.pdfiumModule.pdfium.getValue(t, 'double');\n      const right = this.pdfiumModule.pdfium.getValue(r, 'double');\n      const bottom = this.pdfiumModule.pdfium.getValue(b, 'double');\n\n      // transform all four corners to device space\n      const p1 = this.convertPagePointToDevicePoint(page, { x: left, y: top });\n      const p2 = this.convertPagePointToDevicePoint(page, { x: right, y: top });\n      const p3 = this.convertPagePointToDevicePoint(page, { x: right, y: bottom });\n      const p4 = this.convertPagePointToDevicePoint(page, { x: left, y: bottom });\n\n      const xs = [p1.x, p2.x, p3.x, p4.x];\n      const ys = [p1.y, p2.y, p3.y, p4.y];\n\n      const x = Math.min(...xs);\n      const y = Math.min(...ys);\n      const width = Math.max(...xs) - x;\n      const height = Math.max(...ys) - y;\n\n      // ceil so highlights fully cover glyphs at integer pixels\n      highlightRects.push({\n        origin: { x, y },\n        size: { width: Math.ceil(width), height: Math.ceil(height) },\n      });\n    }\n\n    this.memoryManager.free(l);\n    this.memoryManager.free(t);\n    this.memoryManager.free(r);\n    this.memoryManager.free(b);\n\n    return highlightRects;\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.searchAllPages}\n   *\n   * Runs inside the worker.\n   * Emits per-page progress: { page, results }\n   *\n   * @public\n   */\n  searchInPage(\n    doc: PdfDocumentObject,\n    page: PdfPageObject,\n    keyword: string,\n    flags: number,\n  ): PdfTask<SearchResult[]> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'searchInPage', doc, page, keyword, flags);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `SearchInPage`, 'Begin', `${doc.id}-${page.index}`);\n    // Move keyword allocation inside here\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'Document is not open',\n      });\n    }\n    const length = 2 * (keyword.length + 1);\n    const keywordPtr = this.memoryManager.malloc(length);\n    this.pdfiumModule.pdfium.stringToUTF16(keyword, keywordPtr, length);\n\n    try {\n      const results = this.searchAllInPage(ctx, page, keywordPtr, flags);\n      return PdfTaskHelper.resolve(results);\n    } finally {\n      this.memoryManager.free(keywordPtr);\n    }\n  }\n\n  /**\n   * Get annotations for multiple pages in a single batch.\n   * Emits progress per page for streaming updates.\n   *\n   * @param doc - PDF document\n   * @param pages - Array of pages to process\n   * @returns Task with results keyed by page index, with per-page progress\n   *\n   * @public\n   */\n  getAnnotationsBatch(\n    doc: PdfDocumentObject,\n    pages: PdfPageObject[],\n  ): PdfTask<Record<number, PdfAnnotationObject[]>, BatchProgress<PdfAnnotationObject[]>> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'getAnnotationsBatch', doc.id, pages.length);\n\n    const task = new Task<\n      Record<number, PdfAnnotationObject[]>,\n      PdfErrorReason,\n      BatchProgress<PdfAnnotationObject[]>\n    >();\n\n    // Defer work to next microtask so caller can set up onProgress listener\n    queueMicrotask(() => {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetAnnotationsBatch', 'Begin', doc.id);\n\n      const ctx = this.cache.getContext(doc.id);\n      if (!ctx) {\n        task.reject({ code: PdfErrorCode.DocNotOpen, message: 'Document is not open' });\n        return;\n      }\n\n      const results: Record<number, PdfAnnotationObject[]> = {};\n      const total = pages.length;\n\n      // Process all pages in a tight loop - no queue overhead!\n      for (let i = 0; i < pages.length; i++) {\n        const page = pages[i];\n        const annotations = this.readPageAnnotationsRaw(ctx, page);\n        results[page.index] = annotations;\n\n        // Stream progress per page\n        task.progress({\n          pageIndex: page.index,\n          result: annotations,\n          completed: i + 1,\n          total,\n        });\n      }\n\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'GetAnnotationsBatch', 'End', doc.id);\n      task.resolve(results);\n    });\n\n    return task;\n  }\n\n  /**\n   * Search across multiple pages in a single batch.\n   * Emits progress per page for streaming updates.\n   *\n   * @param doc - PDF document\n   * @param pages - Array of pages to search\n   * @param keyword - Search keyword\n   * @param flags - Search flags\n   * @returns Task with results keyed by page index, with per-page progress\n   *\n   * @public\n   */\n  searchBatch(\n    doc: PdfDocumentObject,\n    pages: PdfPageObject[],\n    keyword: string,\n    flags: number,\n  ): PdfTask<Record<number, SearchResult[]>, BatchProgress<SearchResult[]>> {\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'searchBatch', doc.id, pages.length, keyword);\n\n    const task = new Task<\n      Record<number, SearchResult[]>,\n      PdfErrorReason,\n      BatchProgress<SearchResult[]>\n    >();\n\n    // Defer work to next microtask so caller can set up onProgress listener\n    queueMicrotask(() => {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'SearchBatch', 'Begin', doc.id);\n\n      const ctx = this.cache.getContext(doc.id);\n      if (!ctx) {\n        task.reject({ code: PdfErrorCode.DocNotOpen, message: 'Document is not open' });\n        return;\n      }\n\n      // Allocate keyword pointer once for all pages\n      const length = 2 * (keyword.length + 1);\n      const keywordPtr = this.memoryManager.malloc(length);\n      this.pdfiumModule.pdfium.stringToUTF16(keyword, keywordPtr, length);\n\n      try {\n        const results: Record<number, SearchResult[]> = {};\n        const total = pages.length;\n\n        // Process all pages in a tight loop - no queue overhead!\n        for (let i = 0; i < pages.length; i++) {\n          const page = pages[i];\n          const pageResults = this.searchAllInPage(ctx, page, keywordPtr, flags);\n          results[page.index] = pageResults;\n\n          // Stream progress per page\n          task.progress({\n            pageIndex: page.index,\n            result: pageResults,\n            completed: i + 1,\n            total,\n          });\n        }\n\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, 'SearchBatch', 'End', doc.id);\n        task.resolve(results);\n      } finally {\n        this.memoryManager.free(keywordPtr);\n      }\n    });\n\n    return task;\n  }\n\n  /**\n   * Extract word-aligned context for a search hit.\n   *\n   * @param fullText      full UTF-16 page text (fetch this once per page!)\n   * @param start         index of 1st char that matched\n   * @param count         number of chars in the match\n   * @param windowChars   minimum context chars to keep left & right\n   */\n  private buildContext(\n    fullText: string,\n    start: number,\n    count: number,\n    windowChars = 30,\n  ): TextContext {\n    const WORD_BREAK = /[\\s\\u00A0.,;:!?()\\[\\]{}<>/\\\\\\-\"'`\"\\u2013\\u2014]/;\n\n    // Find the start of a word moving left\n    const findWordStart = (index: number): number => {\n      while (index > 0 && !WORD_BREAK.test(fullText[index - 1])) index--;\n      return index;\n    };\n\n    // Find the end of a word moving right\n    const findWordEnd = (index: number): number => {\n      while (index < fullText.length && !WORD_BREAK.test(fullText[index])) index++;\n      return index;\n    };\n\n    // Move left to build context\n    let left = start;\n    while (left > 0 && WORD_BREAK.test(fullText[left - 1])) left--; // Skip blanks\n    let collected = 0;\n    while (left > 0 && collected < windowChars) {\n      left--;\n      if (!WORD_BREAK.test(fullText[left])) collected++;\n    }\n    left = findWordStart(left);\n\n    // Move right to build context\n    let right = start + count;\n    while (right < fullText.length && WORD_BREAK.test(fullText[right])) right++; // Skip blanks\n    collected = 0;\n    while (right < fullText.length && collected < windowChars) {\n      if (!WORD_BREAK.test(fullText[right])) collected++;\n      right++;\n    }\n    right = findWordEnd(right);\n\n    // Compose the context\n    const before = fullText.slice(left, start).replace(/\\s+/g, ' ').trimStart();\n    const match = fullText.slice(start, start + count);\n    const after = fullText\n      .slice(start + count, right)\n      .replace(/\\s+/g, ' ')\n      .trimEnd();\n\n    return {\n      before: this.tidy(before),\n      match: this.tidy(match),\n      after: this.tidy(after),\n      truncatedLeft: left > 0,\n      truncatedRight: right < fullText.length,\n    };\n  }\n\n  /**\n   * Tidy the text to remove any non-printable characters and whitespace\n   * @param s - text to tidy\n   * @returns tidied text\n   *\n   * @private\n   */\n  private tidy(s: string): string {\n    return (\n      s\n        /* 1  join words split by hyphen + U+FFFE + whitespace */\n        .replace(/-\\uFFFE\\s*/g, '')\n\n        /* 2  drop any remaining U+FFFE, soft-hyphen, zero-width chars */\n        .replace(/[\\uFFFE\\u00AD\\u200B\\u2060\\uFEFF]/g, '')\n\n        /* 3  collapse whitespace so we stay on one line */\n        .replace(/\\s+/g, ' ')\n    );\n  }\n\n  /**\n   * Search for all occurrences of a keyword on a single page\n   * This method efficiently loads the page only once and finds all matches\n   *\n   * @param docPtr - pointer to pdf document\n   * @param page - pdf page object\n   * @param pageIndex - index of the page\n   * @param keywordPtr - pointer to the search keyword\n   * @param flag - search flags\n   * @returns array of search results on this page\n   *\n   * @private\n   */\n  private searchAllInPage(\n    ctx: DocumentContext,\n    page: PdfPageObject,\n    keywordPtr: number,\n    flag: number,\n  ): SearchResult[] {\n    return ctx.borrowPage(page.index, (pageCtx) => {\n      const textPagePtr = pageCtx.getTextPage();\n\n      // Load the full text of the page once\n      const total = this.pdfiumModule.FPDFText_CountChars(textPagePtr);\n      const bufPtr = this.memoryManager.malloc(2 * (total + 1));\n      this.pdfiumModule.FPDFText_GetText(textPagePtr, 0, total, bufPtr);\n      const fullText = this.pdfiumModule.pdfium.UTF16ToString(bufPtr);\n      this.memoryManager.free(bufPtr);\n\n      const pageResults: SearchResult[] = [];\n\n      // Initialize search handle once for the page\n      const searchHandle = this.pdfiumModule.FPDFText_FindStart(\n        textPagePtr,\n        keywordPtr,\n        flag,\n        0, // Start from the beginning of the page\n      );\n\n      // Call FindNext repeatedly to get all matches on the page\n      while (this.pdfiumModule.FPDFText_FindNext(searchHandle)) {\n        const charIndex = this.pdfiumModule.FPDFText_GetSchResultIndex(searchHandle);\n        const charCount = this.pdfiumModule.FPDFText_GetSchCount(searchHandle);\n\n        const rects = this.getHighlightRects(page, textPagePtr, charIndex, charCount);\n\n        const context = this.buildContext(fullText, charIndex, charCount);\n\n        pageResults.push({\n          pageIndex: page.index,\n          charIndex,\n          charCount,\n          rects,\n          context,\n        });\n      }\n\n      // Close the search handle only once after finding all results\n      this.pdfiumModule.FPDFText_FindClose(searchHandle);\n      return pageResults;\n    });\n  }\n\n  /**\n   * {@inheritDoc @embedpdf/models!PdfEngine.preparePrintDocument}\n   *\n   * Prepares a PDF document for printing with specified options.\n   * Creates a new document with selected pages and optionally removes annotations\n   * for optimal printing performance.\n   *\n   * @public\n   */\n  preparePrintDocument(doc: PdfDocumentObject, options?: PdfPrintOptions): PdfTask<ArrayBuffer> {\n    const { includeAnnotations = true, pageRange = null } = options ?? {};\n\n    this.logger.debug(LOG_SOURCE, LOG_CATEGORY, 'preparePrintDocument', doc, options);\n    this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'Begin', doc.id);\n\n    // Verify document is open\n    const ctx = this.cache.getContext(doc.id);\n    if (!ctx) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.DocNotOpen,\n        message: 'Document is not open',\n      });\n    }\n\n    // Create new document for printing\n    const printDocPtr = this.pdfiumModule.FPDF_CreateNewDocument();\n    if (!printDocPtr) {\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.CantCreateNewDoc,\n        message: 'Cannot create print document',\n      });\n    }\n\n    try {\n      // Validate and sanitize page range\n      const sanitizedPageRange = this.sanitizePageRange(pageRange, doc.pageCount);\n\n      // Import pages from source document\n      // pageRange null means import all pages\n      if (\n        !this.pdfiumModule.FPDF_ImportPages(\n          printDocPtr,\n          ctx.docPtr,\n          sanitizedPageRange ?? '',\n          0, // Insert at beginning\n        )\n      ) {\n        this.pdfiumModule.FPDF_CloseDocument(printDocPtr);\n        this.logger.error(LOG_SOURCE, LOG_CATEGORY, 'Failed to import pages for printing');\n        this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n\n        return PdfTaskHelper.reject({\n          code: PdfErrorCode.CantImportPages,\n          message: 'Failed to import pages for printing',\n        });\n      }\n\n      // Remove annotations if requested\n      if (!includeAnnotations) {\n        const removalResult = this.removeAnnotationsFromPrintDocument(printDocPtr);\n\n        if (!removalResult.success) {\n          this.pdfiumModule.FPDF_CloseDocument(printDocPtr);\n          this.logger.error(\n            LOG_SOURCE,\n            LOG_CATEGORY,\n            `Failed to remove annotations: ${removalResult.error}`,\n          );\n          this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n\n          return PdfTaskHelper.reject({\n            code: PdfErrorCode.Unknown,\n            message: `Failed to prepare print document: ${removalResult.error}`,\n          });\n        }\n\n        this.logger.debug(\n          LOG_SOURCE,\n          LOG_CATEGORY,\n          `Removed ${removalResult.annotationsRemoved} annotations from ${removalResult.pagesProcessed} pages`,\n        );\n      }\n\n      // Save the prepared document to buffer\n      const buffer = this.saveDocument(printDocPtr);\n\n      // Clean up\n      this.pdfiumModule.FPDF_CloseDocument(printDocPtr);\n\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n      return PdfTaskHelper.resolve(buffer);\n    } catch (error) {\n      // Ensure cleanup on any error\n      if (printDocPtr) {\n        this.pdfiumModule.FPDF_CloseDocument(printDocPtr);\n      }\n\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, 'preparePrintDocument failed', error);\n      this.logger.perf(LOG_SOURCE, LOG_CATEGORY, `PreparePrintDocument`, 'End', doc.id);\n\n      return PdfTaskHelper.reject({\n        code: PdfErrorCode.Unknown,\n        message: error instanceof Error ? error.message : 'Failed to prepare print document',\n      });\n    }\n  }\n\n  /**\n   * Removes all annotations from a print document using fast raw annotation functions.\n   * This method is optimized for performance by avoiding full page loading.\n   *\n   * @param printDocPtr - Pointer to the print document\n   * @returns Result object with success status and statistics\n   *\n   * @private\n   */\n  private removeAnnotationsFromPrintDocument(printDocPtr: number): {\n    success: boolean;\n    annotationsRemoved: number;\n    pagesProcessed: number;\n    error?: string;\n  } {\n    let totalAnnotationsRemoved = 0;\n    let pagesProcessed = 0;\n\n    try {\n      const pageCount = this.pdfiumModule.FPDF_GetPageCount(printDocPtr);\n\n      // Process each page\n      for (let pageIndex = 0; pageIndex < pageCount; pageIndex++) {\n        // Get annotation count using the fast raw function\n        const annotCount = this.pdfiumModule.EPDFPage_GetAnnotCountRaw(printDocPtr, pageIndex);\n\n        if (annotCount <= 0) {\n          pagesProcessed++;\n          continue;\n        }\n\n        // Remove annotations in reverse order to maintain indices\n        // This is important because removing an annotation shifts the indices of subsequent ones\n        let annotationsRemovedFromPage = 0;\n\n        for (let annotIndex = annotCount - 1; annotIndex >= 0; annotIndex--) {\n          // Use the fast raw removal function\n          const removed = this.pdfiumModule.EPDFPage_RemoveAnnotRaw(\n            printDocPtr,\n            pageIndex,\n            annotIndex,\n          );\n\n          if (removed) {\n            annotationsRemovedFromPage++;\n            totalAnnotationsRemoved++;\n          } else {\n            this.logger.warn(\n              LOG_SOURCE,\n              LOG_CATEGORY,\n              `Failed to remove annotation ${annotIndex} from page ${pageIndex}`,\n            );\n          }\n        }\n\n        // Generate content for the page if annotations were removed\n        if (annotationsRemovedFromPage > 0) {\n          // We need to regenerate the page content after removing annotations\n          const pagePtr = this.pdfiumModule.FPDF_LoadPage(printDocPtr, pageIndex);\n          if (pagePtr) {\n            this.pdfiumModule.FPDFPage_GenerateContent(pagePtr);\n            this.pdfiumModule.FPDF_ClosePage(pagePtr);\n          }\n        }\n\n        pagesProcessed++;\n      }\n\n      return {\n        success: true,\n        annotationsRemoved: totalAnnotationsRemoved,\n        pagesProcessed: pagesProcessed,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        annotationsRemoved: totalAnnotationsRemoved,\n        pagesProcessed: pagesProcessed,\n        error: error instanceof Error ? error.message : 'Unknown error during annotation removal',\n      };\n    }\n  }\n\n  /**\n   * Sanitizes and validates a page range string.\n   * Ensures page numbers are within valid bounds and properly formatted.\n   *\n   * @param pageRange - Page range string (e.g., \"1,3,5-7\") or null for all pages\n   * @param totalPages - Total number of pages in the document\n   * @returns Sanitized page range string or null for all pages\n   *\n   * @private\n   */\n  private sanitizePageRange(\n    pageRange: string | null | undefined,\n    totalPages: number,\n  ): string | null {\n    // Null or empty means all pages\n    if (!pageRange || pageRange.trim() === '') {\n      return null;\n    }\n\n    try {\n      const sanitized: number[] = [];\n      const parts = pageRange.split(',');\n\n      for (const part of parts) {\n        const trimmed = part.trim();\n\n        if (trimmed.includes('-')) {\n          // Handle range (e.g., \"5-7\")\n          const [startStr, endStr] = trimmed.split('-').map((s) => s.trim());\n          const start = parseInt(startStr, 10);\n          const end = parseInt(endStr, 10);\n\n          if (isNaN(start) || isNaN(end)) {\n            this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Invalid range: ${trimmed}`);\n            continue;\n          }\n\n          // Clamp to valid bounds (1-based page numbers)\n          const validStart = Math.max(1, Math.min(start, totalPages));\n          const validEnd = Math.max(1, Math.min(end, totalPages));\n\n          // Add all pages in range\n          for (let i = validStart; i <= validEnd; i++) {\n            if (!sanitized.includes(i)) {\n              sanitized.push(i);\n            }\n          }\n        } else {\n          // Handle single page number\n          const pageNum = parseInt(trimmed, 10);\n\n          if (isNaN(pageNum)) {\n            this.logger.warn(LOG_SOURCE, LOG_CATEGORY, `Invalid page number: ${trimmed}`);\n            continue;\n          }\n\n          // Clamp to valid bounds\n          const validPageNum = Math.max(1, Math.min(pageNum, totalPages));\n\n          if (!sanitized.includes(validPageNum)) {\n            sanitized.push(validPageNum);\n          }\n        }\n      }\n\n      // If no valid pages found, return null (all pages)\n      if (sanitized.length === 0) {\n        this.logger.warn(LOG_SOURCE, LOG_CATEGORY, 'No valid pages in range, using all pages');\n        return null;\n      }\n\n      // Sort and convert back to range string\n      sanitized.sort((a, b) => a - b);\n\n      // Optimize consecutive pages into ranges\n      const optimized: string[] = [];\n      let rangeStart = sanitized[0];\n      let rangeEnd = sanitized[0];\n\n      for (let i = 1; i < sanitized.length; i++) {\n        if (sanitized[i] === rangeEnd + 1) {\n          rangeEnd = sanitized[i];\n        } else {\n          // End current range\n          if (rangeStart === rangeEnd) {\n            optimized.push(rangeStart.toString());\n          } else if (rangeEnd - rangeStart === 1) {\n            optimized.push(rangeStart.toString());\n            optimized.push(rangeEnd.toString());\n          } else {\n            optimized.push(`${rangeStart}-${rangeEnd}`);\n          }\n\n          // Start new range\n          rangeStart = sanitized[i];\n          rangeEnd = sanitized[i];\n        }\n      }\n\n      // Add final range\n      if (rangeStart === rangeEnd) {\n        optimized.push(rangeStart.toString());\n      } else if (rangeEnd - rangeStart === 1) {\n        optimized.push(rangeStart.toString());\n        optimized.push(rangeEnd.toString());\n      } else {\n        optimized.push(`${rangeStart}-${rangeEnd}`);\n      }\n\n      const result = optimized.join(',');\n\n      this.logger.debug(\n        LOG_SOURCE,\n        LOG_CATEGORY,\n        `Sanitized page range: \"${pageRange}\" -> \"${result}\"`,\n      );\n\n      return result;\n    } catch (error) {\n      this.logger.error(LOG_SOURCE, LOG_CATEGORY, `Error sanitizing page range: ${error}`);\n      return null; // Fallback to all pages\n    }\n  }\n}\n","import { Logger } from '@embedpdf/models';\nimport { init } from '@embedpdf/pdfium';\nimport { PdfiumNative } from '../engine';\nimport { PdfEngine } from '../../orchestrator/pdf-engine';\nimport { browserImageDataToBlobConverter } from '../../converters/browser';\nimport type { FontFallbackConfig } from '../font-fallback';\n\nexport type { FontFallbackConfig };\n\nexport interface CreatePdfiumEngineOptions {\n  /**\n   * Logger instance for debugging\n   */\n  logger?: Logger;\n  /**\n   * Number of workers in the image encoder pool (default: 0 - disabled)\n   * Set to 2-4 for optimal performance with parallel encoding\n   */\n  encoderPoolSize?: number;\n  /**\n   * Font fallback configuration for handling missing fonts in PDFs.\n   * When enabled, PDFium will request fallback fonts from configured URLs\n   * when it encounters text that requires fonts not embedded in the PDF.\n   */\n  fontFallback?: FontFallbackConfig;\n}\n\n/**\n * Create a PDFium engine running directly in the main thread\n *\n * This is the \"direct\" mode where PDFium runs in the main thread.\n * The PdfEngine orchestrator still provides priority-based task scheduling.\n *\n * @param wasmUrl - URL to the pdfium.wasm file\n * @param options - Configuration options\n *\n * @example\n * // Basic usage\n * const engine = await createPdfiumEngine('/wasm/pdfium.wasm', { logger });\n *\n * @example\n * // With encoder pool for parallel image encoding\n * const engine = await createPdfiumEngine('/wasm/pdfium.wasm', {\n *   logger,\n *   encoderPoolSize: 2\n * });\n */\nexport async function createPdfiumEngine(\n  wasmUrl: string,\n  options?: CreatePdfiumEngineOptions,\n): Promise<PdfEngine<Blob>> {\n  const response = await fetch(wasmUrl);\n  const wasmBinary = await response.arrayBuffer();\n  const wasmModule = await init({ wasmBinary });\n\n  // Create the \"dumb\" executor (initializes PDFium in constructor)\n  const native = new PdfiumNative(wasmModule, {\n    logger: options?.logger,\n    fontFallback: options?.fontFallback,\n  });\n\n  // Create the \"smart\" orchestrator\n  return new PdfEngine<Blob>(native, {\n    imageConverter: browserImageDataToBlobConverter,\n    logger: options?.logger,\n  });\n}\n"],"names":["createPdfium","_scriptName","import","async","moduleArg","moduleRtn","readyPromiseResolve","readyPromiseReject","Module","readyPromise","Promise","resolve","reject","forEach","prop","Object","getOwnPropertyDescriptor","defineProperty","get","abort","set","ENVIRONMENT_IS_WEB","window","ENVIRONMENT_IS_WORKER","importScripts","process","versions","node","type","require","readAsync","readBinary","ENVIRONMENT_IS_SHELL","moduleOverrides","assign","thisProgram","scriptDirectory","locateFile","path","Error","f","readbuffer","Uint8Array","data","read","assert","setTimeout","globalThis","clearTimeout","id","print","console","log","warn","error","printErr","self","location","href","document","currentScript","src","startsWith","substr","replace","lastIndexOf","url","xhr","XMLHttpRequest","open","responseType","send","response","isFileURI","fetch","credentials","then","ok","arrayBuffer","status","out","bind","err","checkIncomingModuleAPI","legacyModuleProp","wasmMemory","wasmBinary","WebAssembly","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAPF64","ABORT","condition","text","updateMemoryViews","b","buffer","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","writeStackCookie","max","_emscripten_stack_get_end","checkStackCookie","cookie1","cookie2","ptrToString","undefined","prototype","subarray","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runtimeInitialized","preRun","preRuns","addOnPreRun","callRuntimeCallbacks","initRuntime","FS","initialized","init","ignorePermissions","postRun","postRuns","addOnPostRun","cb","unshift","addOnInit","Math","imul","fround","clz32","trunc","runDependencies","runDependencyWatcher","dependenciesFulfilled","runDependencyTracking","getUniqueRunDependency","orig","random","addRunDependency","setInterval","clearInterval","shown","dep","removeRunDependency","callback","what","e","RuntimeError","wasmBinaryFile","tempDouble","tempI64","dataURIPrefix","isDataURI","filename","createExportWrapper","name","nargs","args","wasmExports","length","findWasmBinary","URL","getBinarySync","file","getBinaryPromise","binaryFile","instantiateArrayBuffer","imports","receiver","binary","instantiate","reason","instantiateAsync","instantiateStreaming","result","getWasmImports","env","wasmImports","wasi_snapshot_preview1","createWasm","info","receiveInstance","instance","module","exports","wasmTable","trueModule","receiveInstantiationResult","catch","h16","h8","newName","incoming","configurable","extra","ignoredModuleProp","isExportedByForceFilesystem","hookGlobalSymbolAccess","sym","func","missingGlobal","msg","warnOnce","missingLibrarySymbol","librarySymbol","unexportedRuntimeSymbol","callbacks","getValue","ptr","endsWith","toString","padStart","setValue","value","stackRestore","val","__emscripten_stack_restore","stackSave","_emscripten_stack_get_current","UTF8Decoder","TextDecoder","UTF8ArrayToString","heapOrArray","idx","maxBytesToRead","NaN","endIdx","endPtr","decode","str","u0","u1","u2","String","fromCharCode","ch","UTF8ToString","___assert_fail","line","syscallGetVarargI","SYSCALLS","varargs","ret","syscallGetVarargP","PATH","isAbs","charAt","splitPath","splitPathRe","exec","slice","normalizeArray","parts","allowAboveRoot","up","i","last","splice","normalize","isAbsolute","trailingSlash","split","filter","p","join","dirname","root","dir","basename","lastSlash","paths","join2","l","r","initRandomFill","crypto","view","getRandomValues","randomFill","PATH_FS","resolvedPath","resolvedAbsolute","cwd","TypeError","relative","from","to","trim","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","push","concat","FS_stdin_getChar_buffer","lengthBytesUTF8","len","c","charCodeAt","stringToUTF8Array","heap","outIdx","maxBytesToWrite","startIdx","u","intArrayFromString","stringy","dontAddNull","u8array","Array","numBytesWritten","FS_stdin_getChar","prompt","readline","shift","TTY","ttys","shutdown","register","dev","ops","input","output","registerDevice","stream_ops","stream","tty","rdev","ErrnoError","seekable","close","fsync","offset","pos","get_char","bytesRead","timestamp","Date","now","write","put_char","default_tty_ops","ioctl_tcgets","c_iflag","c_oflag","c_cflag","c_lflag","c_cc","ioctl_tcsets","optional_actions","ioctl_tiocgwinsz","default_tty1_ops","zeroMemory","address","size","fill","alignMemory","alignment","ceil","mmapAlloc","_emscripten_builtin_memalign","MEMFS","ops_table","mount","createNode","parent","mode","isBlkdev","isFIFO","getattr","node_ops","setattr","lookup","mknod","rename","unlink","rmdir","readdir","symlink","llseek","allocate","mmap","msync","link","readlink","chrdev","chrdev_stream_ops","isDir","contents","isFile","usedBytes","isLink","isChrdev","getFileDataAsTypedArray","expandFileStorage","newCapacity","prevCapacity","CAPACITY_DOUBLING_MAX","oldContents","resizeFileStorage","newSize","attr","ino","nlink","uid","gid","atime","mtime","ctime","blksize","blocks","genericErrors","old_node","new_dir","new_name","new_node","lookupNode","entries","key","keys","newname","oldpath","position","canOwn","ArrayBuffer","whence","prot","flags","allocated","call","byteOffset","mmapFlags","asyncLoad","onload","onerror","noRunDep","FS_createDataFile","fileData","canRead","canWrite","createDataFile","preloadPlugins","FS_handledByPreloadPlugin","byteArray","fullname","finish","Browser","handled","plugin","FS_createPreloadedFile","dontCreateFile","preFinish","processData","FS_modeStringToFlags","flagModes","w","a","FS_getMode","strError","errno","_strerror","ERRNO_CODES","EPERM","ENOENT","ESRCH","EINTR","EIO","ENXIO","E2BIG","ENOEXEC","EBADF","ECHILD","EAGAIN","EWOULDBLOCK","ENOMEM","EACCES","EFAULT","ENOTBLK","EBUSY","EEXIST","EXDEV","ENODEV","ENOTDIR","EISDIR","EINVAL","ENFILE","EMFILE","ENOTTY","ETXTBSY","EFBIG","ENOSPC","ESPIPE","EROFS","EMLINK","EPIPE","EDOM","ERANGE","ENOMSG","EIDRM","ECHRNG","EL2NSYNC","EL3HLT","EL3RST","ELNRNG","EUNATCH","ENOCSI","EL2HLT","EDEADLK","ENOLCK","EBADE","EBADR","EXFULL","ENOANO","EBADRQC","EBADSLT","EDEADLOCK","EBFONT","ENOSTR","ENODATA","ETIME","ENOSR","ENONET","ENOPKG","EREMOTE","ENOLINK","EADV","ESRMNT","ECOMM","EPROTO","EMULTIHOP","EDOTDOT","EBADMSG","ENOTUNIQ","EBADFD","EREMCHG","ELIBACC","ELIBBAD","ELIBSCN","ELIBMAX","ELIBEXEC","ENOSYS","ENOTEMPTY","ENAMETOOLONG","ELOOP","EOPNOTSUPP","EPFNOSUPPORT","ECONNRESET","ENOBUFS","EAFNOSUPPORT","EPROTOTYPE","ENOTSOCK","ENOPROTOOPT","ESHUTDOWN","ECONNREFUSED","EADDRINUSE","ECONNABORTED","ENETUNREACH","ENETDOWN","ETIMEDOUT","EHOSTDOWN","EHOSTUNREACH","EINPROGRESS","EALREADY","EDESTADDRREQ","EMSGSIZE","EPROTONOSUPPORT","ESOCKTNOSUPPORT","EADDRNOTAVAIL","ENETRESET","EISCONN","ENOTCONN","ETOOMANYREFS","EUSERS","EDQUOT","ESTALE","ENOTSUP","ENOMEDIUM","EILSEQ","EOVERFLOW","ECANCELED","ENOTRECOVERABLE","EOWNERDEAD","ESTRPIPE","mounts","devices","streams","nextInode","nameTable","currentPath","constructor","super","this","code","filesystems","syncFSRequests","readFiles","FSStream","shared","object","isRead","isWrite","isAppend","FSNode","mounted","readMode","writeMode","isFolder","isDevice","lookupPath","opts","defaults","follow_mount","recurse_count","current","current_path","islast","isMountpoint","follow","count","getPath","isRoot","mountpoint","hashName","parentid","hash","hashAddNode","name_next","hashRemoveNode","errCode","mayLookup","nodeName","destroyNode","isSocket","flagsToPermissionString","flag","perms","nodePermissions","includes","mayCreate","mayDelete","isdir","mayOpen","MAX_OPEN_FDS","nextfd","fd","getStreamChecked","getStream","createStream","closeStream","dupStream","origStream","dup","device","getDevice","major","minor","makedev","ma","mi","getMounts","check","m","pop","syncfs","populate","completed","doCallback","done","errored","pseudo","mountRoot","unmount","next","indexOf","create","mkdir","mkdirTree","dirs","d","mkdev","newpath","old_path","new_path","old_dir","old_dirname","new_dirname","old_name","stat","dontFollow","lstat","chmod","lchmod","fchmod","chown","lchown","fchown","truncate","ftruncate","utime","created","ungotten","isClosed","getdents","seeking","bytesWritten","ioctl","cmd","arg","readFile","encoding","buf","writeFile","actualNumBytes","isView","byteLength","chdir","createDefaultDirectories","createDefaultDevices","randomBuffer","randomLeft","randomByte","createDevice","createSpecialDirectories","proc_self","createStandardStreams","stdin","stdout","stderr","staticInit","stack","quit","_fflush","findObject","dontResolveLastLink","analyzePath","exists","parentExists","parentPath","parentObject","createPath","reverse","part","createFile","properties","forceLoadFile","obj","createLazyFile","LazyUint8Array","lengthKnown","chunks","chunkOffset","chunkSize","chunkNum","getter","setDataGetter","cacheLength","header","datalength","Number","getResponseHeader","hasByteServing","usesGzip","doXHR","setRequestHeader","overrideMimeType","responseText","lazyArray","_length","_chunkSize","defineProperties","writeChunks","fn","absolutePath","createFolder","createLink","joinPath","standardizePath","DEFAULT_POLLMASK","calculateAt","dirfd","allowEmpty","dirstream","getStreamFromFD","doStat","abs","floor","getTime","doMsync","addr","getStr","___syscall_fcntl64","newStream","___syscall_fstat64","convertI32PairToI53Checked","lo","hi","___syscall_ftruncate64","length_low","length_high","isNaN","stringToUTF8","outPtr","___syscall_getdents64","dirp","struct_size","off","child","___syscall_ioctl","op","termios","argp","winsize","___syscall_lstat64","___syscall_newfstatat","nofollow","___syscall_openat","___syscall_rmdir","___syscall_stat64","___syscall_unlinkat","__abort_js","__emscripten_memcpy_js","dest","num","copyWithin","__emscripten_throw_longjmp","Infinity","__gmtime_js","time_low","time_high","tmPtr","time","date","getUTCSeconds","getUTCMinutes","getUTCHours","getUTCDate","getUTCMonth","getUTCFullYear","getUTCDay","UTC","yday","isLeapYear","year","MONTH_DAYS_LEAP_CUMULATIVE","MONTH_DAYS_REGULAR_CUMULATIVE","ydayFromDate","leap","getFullYear","monthDaysCumulative","getMonth","getDate","__localtime_js","getSeconds","getMinutes","getHours","getDay","getTimezoneOffset","summerOffset","winterOffset","dst","__tzset_js","timezone","daylight","std_name","dst_name","currentYear","winter","summer","stdTimezoneOffset","extractZone","timezoneOffset","sign","absOffset","hours","minutes","winterName","summerName","_emscripten_date_now","getHeapMax","growMemory","pages","grow","_emscripten_resize_heap","requestedSize","oldSize","maxHeapSize","cutDown","overGrownHeapSize","replacement","ENV","getExecutableName","getEnvStrings","strings","lang","navigator","languages","USER","LOGNAME","PWD","HOME","LANG","_","x","stringToAscii","_environ_get","__environ","environ_buf","bufSize","string","_environ_sizes_get","penviron_count","penviron_buf_size","_fd_close","doReadv","iov","iovcnt","curr","_fd_read","pnum","_fd_seek","offset_low","offset_high","newOffset","_fd_sync","doWritev","_fd_write","functionsInTableMap","wasmTableMirror","getWasmTableEntry","funcPtr","UTF16Decoder","UTF16ToString","maxIdx","codeUnit","uleb128Encode","n","target","sigToWasmTypes","sig","typeNames","j","parameters","results","generateFuncType","sigRet","sigParam","typeCodes","convertJsFunctionToWasm","Function","typeSectionBody","bytes","Instance","wrappedFunc","updateTableMap","item","getFunctionAddress","WeakMap","freeTableIndexes","getEmptyTableSlot","RangeError","setWasmTableEntry","addFunction","rtn","wrapped","getCFunc","ident","writeArrayToMemory","array","stackAlloc","sz","__emscripten_stack_alloc","stringToUTF8OnStack","ccall","returnType","argTypes","toC","convertReturnValue","Boolean","cArgs","converter","onDone","cwrap","removeFunction","index","delete","stringToUTF16","startPtr","numCharsToWrite","createPreloadedFile","__assert_fail","__syscall_fcntl64","__syscall_fstat64","__syscall_ftruncate64","__syscall_getdents64","__syscall_ioctl","__syscall_lstat64","__syscall_newfstatat","__syscall_openat","__syscall_rmdir","__syscall_stat64","__syscall_unlinkat","_abort_js","_emscripten_memcpy_js","_emscripten_throw_longjmp","_gmtime_js","_localtime_js","_tzset_js","emscripten_date_now","emscripten_resize_heap","environ_get","environ_sizes_get","fd_close","fd_read","fd_seek","fd_sync","fd_write","invoke_ii","invoke_iii","invoke_iiii","invoke_iiiii","invoke_v","invoke_vii","invoke_viii","invoke_viiii","invoke_viiiiiiiii","_setThrew","_emscripten_stack_init","a0","a1","a2","a3","sp","a4","a5","a6","a7","a8","a9","missingLibrarySymbols","calledRun","calledPrerun","unexportedSymbols","stackCheckInit","run","doRun","runCaller","functions","EPDF_GetMetaKeyCount","EPDF_GetMetaKeyName","EPDF_GetMetaTrapped","EPDF_GetPageRotationByIndex","EPDF_HasMetaText","EPDF_PNG_EncodeRGBA","EPDF_RenderAnnotBitmap","EPDF_SetMetaText","EPDF_SetMetaTrapped","EPDFAction_CreateGoTo","EPDFAction_CreateGoToNamed","EPDFAction_CreateLaunch","EPDFAction_CreateRemoteGoToByName","EPDFAction_CreateRemoteGoToDest","EPDFAction_CreateURI","EPDFAnnot_ClearColor","EPDFAnnot_GenerateAppearance","EPDFAnnot_GenerateAppearanceWithBlend","EPDFAnnot_GetBlendMode","EPDFAnnot_GetBorderDashPattern","EPDFAnnot_GetBorderDashPatternCount","EPDFAnnot_GetBorderEffect","EPDFAnnot_GetBorderStyle","EPDFAnnot_GetColor","EPDFAnnot_GetDefaultAppearance","EPDFAnnot_GetIcon","EPDFAnnot_GetIntent","EPDFAnnot_GetLineEndings","EPDFAnnot_GetOpacity","EPDFAnnot_GetRectangleDifferences","EPDFAnnot_GetRichContent","EPDFAnnot_GetTextAlignment","EPDFAnnot_GetVerticalAlignment","EPDFAnnot_SetBorderDashPattern","EPDFAnnot_SetBorderStyle","EPDFAnnot_SetColor","EPDFAnnot_SetDefaultAppearance","EPDFAnnot_SetIcon","EPDFAnnot_SetIntent","EPDFAnnot_SetLine","EPDFAnnot_SetLineEndings","EPDFAnnot_SetLinkedAnnot","EPDFAnnot_SetOpacity","EPDFAnnot_SetTextAlignment","EPDFAnnot_SetVerticalAlignment","EPDFAnnot_SetVertices","EPDFAnnot_UpdateAppearanceToRect","EPDFAttachment_GetDescription","EPDFAttachment_GetIntegerValue","EPDFAttachment_SetDescription","EPDFAttachment_SetSubtype","EPDFBookmark_AppendChild","EPDFBookmark_Clear","EPDFBookmark_ClearTarget","EPDFBookmark_Create","EPDFBookmark_Delete","EPDFBookmark_InsertAfter","EPDFBookmark_SetAction","EPDFBookmark_SetDest","EPDFBookmark_SetTitle","EPDFCatalog_GetLanguage","EPDFDest_CreateRemoteView","EPDFDest_CreateRemoteXYZ","EPDFDest_CreateView","EPDFDest_CreateXYZ","EPDFNamedDest_Remove","EPDFNamedDest_SetDest","EPDFPage_CreateAnnot","EPDFPage_GetAnnotByName","EPDFPage_GetAnnotCountRaw","EPDFPage_GetAnnotRaw","EPDFPage_RemoveAnnotByName","EPDFPage_RemoveAnnotRaw","EPDFText_RedactInQuads","EPDFText_RedactInRect","FORM_CanRedo","FORM_CanUndo","FORM_DoDocumentAAction","FORM_DoDocumentJSAction","FORM_DoDocumentOpenAction","FORM_DoPageAAction","FORM_ForceToKillFocus","FORM_GetFocusedAnnot","FORM_GetFocusedText","FORM_GetSelectedText","FORM_IsIndexSelected","FORM_OnAfterLoadPage","FORM_OnBeforeClosePage","FORM_OnChar","FORM_OnFocus","FORM_OnKeyDown","FORM_OnKeyUp","FORM_OnLButtonDoubleClick","FORM_OnLButtonDown","FORM_OnLButtonUp","FORM_OnMouseMove","FORM_OnMouseWheel","FORM_OnRButtonDown","FORM_OnRButtonUp","FORM_Redo","FORM_ReplaceAndKeepSelection","FORM_ReplaceSelection","FORM_SelectAllText","FORM_SetFocusedAnnot","FORM_SetIndexSelected","FORM_Undo","FPDF_AddInstalledFont","FPDF_CloseDocument","FPDF_ClosePage","FPDF_CloseXObject","FPDF_CopyViewerPreferences","FPDF_CountNamedDests","FPDF_CreateClipPath","FPDF_CreateNewDocument","FPDF_DestroyClipPath","FPDF_DestroyLibrary","FPDF_DeviceToPage","FPDF_DocumentHasValidCrossReferenceTable","FPDF_FFLDraw","FPDF_FreeDefaultSystemFontInfo","FPDF_GetDefaultSystemFontInfo","FPDF_GetDefaultTTFMap","FPDF_GetDefaultTTFMapCount","FPDF_GetDefaultTTFMapEntry","FPDF_GetDocPermissions","FPDF_GetDocUserPermissions","FPDF_GetFileIdentifier","FPDF_GetFileVersion","FPDF_GetFormType","FPDF_GetLastError","FPDF_GetMetaText","FPDF_GetNamedDest","FPDF_GetNamedDestByName","FPDF_GetPageAAction","FPDF_GetPageBoundingBox","FPDF_GetPageCount","FPDF_GetPageHeight","FPDF_GetPageHeightF","FPDF_GetPageLabel","FPDF_GetPageSizeByIndex","FPDF_GetPageSizeByIndexF","FPDF_GetPageWidth","FPDF_GetPageWidthF","FPDF_GetSecurityHandlerRevision","FPDF_GetSignatureCount","FPDF_GetSignatureObject","FPDF_GetTrailerEnds","FPDF_GetXFAPacketContent","FPDF_GetXFAPacketCount","FPDF_GetXFAPacketName","FPDF_ImportNPagesToOne","FPDF_ImportPages","FPDF_ImportPagesByIndex","FPDF_InitLibrary","FPDF_InitLibraryWithConfig","FPDF_LoadCustomDocument","FPDF_LoadDocument","FPDF_LoadMemDocument","FPDF_LoadMemDocument64","FPDF_LoadPage","FPDF_LoadXFA","FPDF_MovePages","FPDF_NewFormObjectFromXObject","FPDF_NewXObjectFromPage","FPDF_PageToDevice","FPDF_RemoveFormFieldHighlight","FPDF_RenderPage_Close","FPDF_RenderPage_Continue","FPDF_RenderPageBitmap","FPDF_RenderPageBitmap_Start","FPDF_RenderPageBitmapWithColorScheme_Start","FPDF_RenderPageBitmapWithMatrix","FPDF_SaveAsCopy","FPDF_SaveWithVersion","FPDF_SetFormFieldHighlightAlpha","FPDF_SetFormFieldHighlightColor","FPDF_SetSandBoxPolicy","FPDF_SetSystemFontInfo","FPDF_StructElement_Attr_CountChildren","FPDF_StructElement_Attr_GetBlobValue","FPDF_StructElement_Attr_GetBooleanValue","FPDF_StructElement_Attr_GetChildAtIndex","FPDF_StructElement_Attr_GetCount","FPDF_StructElement_Attr_GetName","FPDF_StructElement_Attr_GetNumberValue","FPDF_StructElement_Attr_GetStringValue","FPDF_StructElement_Attr_GetType","FPDF_StructElement_Attr_GetValue","FPDF_StructElement_CountChildren","FPDF_StructElement_GetActualText","FPDF_StructElement_GetAltText","FPDF_StructElement_GetAttributeAtIndex","FPDF_StructElement_GetAttributeCount","FPDF_StructElement_GetChildAtIndex","FPDF_StructElement_GetChildMarkedContentID","FPDF_StructElement_GetID","FPDF_StructElement_GetLang","FPDF_StructElement_GetMarkedContentID","FPDF_StructElement_GetMarkedContentIdAtIndex","FPDF_StructElement_GetMarkedContentIdCount","FPDF_StructElement_GetObjType","FPDF_StructElement_GetParent","FPDF_StructElement_GetStringAttribute","FPDF_StructElement_GetTitle","FPDF_StructElement_GetType","FPDF_StructTree_Close","FPDF_StructTree_CountChildren","FPDF_StructTree_GetChildAtIndex","FPDF_StructTree_GetForPage","FPDF_VIEWERREF_GetDuplex","FPDF_VIEWERREF_GetName","FPDF_VIEWERREF_GetNumCopies","FPDF_VIEWERREF_GetPrintPageRange","FPDF_VIEWERREF_GetPrintPageRangeCount","FPDF_VIEWERREF_GetPrintPageRangeElement","FPDF_VIEWERREF_GetPrintScaling","FPDFAction_GetDest","FPDFAction_GetFilePath","FPDFAction_GetType","FPDFAction_GetURIPath","FPDFAnnot_AddFileAttachment","FPDFAnnot_AddInkStroke","FPDFAnnot_AppendAttachmentPoints","FPDFAnnot_AppendObject","FPDFAnnot_CountAttachmentPoints","FPDFAnnot_GetAP","FPDFAnnot_GetAttachmentPoints","FPDFAnnot_GetBorder","FPDFAnnot_GetColor","FPDFAnnot_GetFileAttachment","FPDFAnnot_GetFlags","FPDFAnnot_GetFocusableSubtypes","FPDFAnnot_GetFocusableSubtypesCount","FPDFAnnot_GetFontColor","FPDFAnnot_GetFontSize","FPDFAnnot_GetFormAdditionalActionJavaScript","FPDFAnnot_GetFormControlCount","FPDFAnnot_GetFormControlIndex","FPDFAnnot_GetFormFieldAlternateName","FPDFAnnot_GetFormFieldAtPoint","FPDFAnnot_GetFormFieldExportValue","FPDFAnnot_GetFormFieldFlags","FPDFAnnot_GetFormFieldName","FPDFAnnot_GetFormFieldType","FPDFAnnot_GetFormFieldValue","FPDFAnnot_GetInkListCount","FPDFAnnot_GetInkListPath","FPDFAnnot_GetLine","FPDFAnnot_GetLink","FPDFAnnot_GetLinkedAnnot","FPDFAnnot_GetNumberValue","FPDFAnnot_GetObject","FPDFAnnot_GetObjectCount","FPDFAnnot_GetOptionCount","FPDFAnnot_GetOptionLabel","FPDFAnnot_GetRect","FPDFAnnot_GetStringValue","FPDFAnnot_GetSubtype","FPDFAnnot_GetValueType","FPDFAnnot_GetVertices","FPDFAnnot_HasAttachmentPoints","FPDFAnnot_HasKey","FPDFAnnot_IsChecked","FPDFAnnot_IsObjectSupportedSubtype","FPDFAnnot_IsOptionSelected","FPDFAnnot_IsSupportedSubtype","FPDFAnnot_RemoveInkList","FPDFAnnot_RemoveObject","FPDFAnnot_SetAP","FPDFAnnot_SetAttachmentPoints","FPDFAnnot_SetBorder","FPDFAnnot_SetColor","FPDFAnnot_SetFlags","FPDFAnnot_SetFocusableSubtypes","FPDFAnnot_SetFontColor","FPDFAnnot_SetFormFieldFlags","FPDFAnnot_SetRect","FPDFAnnot_SetStringValue","FPDFAnnot_SetURI","FPDFAnnot_UpdateObject","FPDFAttachment_GetFile","FPDFAttachment_GetName","FPDFAttachment_GetStringValue","FPDFAttachment_GetSubtype","FPDFAttachment_GetValueType","FPDFAttachment_HasKey","FPDFAttachment_SetFile","FPDFAttachment_SetStringValue","FPDFAvail_Create","FPDFAvail_Destroy","FPDFAvail_GetDocument","FPDFAvail_GetFirstPageNum","FPDFAvail_IsDocAvail","FPDFAvail_IsFormAvail","FPDFAvail_IsLinearized","FPDFAvail_IsPageAvail","FPDFBitmap_Create","FPDFBitmap_CreateEx","FPDFBitmap_Destroy","FPDFBitmap_FillRect","FPDFBitmap_GetBuffer","FPDFBitmap_GetFormat","FPDFBitmap_GetHeight","FPDFBitmap_GetStride","FPDFBitmap_GetWidth","FPDFBookmark_Find","FPDFBookmark_GetAction","FPDFBookmark_GetCount","FPDFBookmark_GetDest","FPDFBookmark_GetFirstChild","FPDFBookmark_GetNextSibling","FPDFBookmark_GetTitle","FPDFCatalog_IsTagged","FPDFCatalog_SetLanguage","FPDFClipPath_CountPaths","FPDFClipPath_CountPathSegments","FPDFClipPath_GetPathSegment","FPDFDest_GetDestPageIndex","FPDFDest_GetLocationInPage","FPDFDest_GetView","FPDFDoc_AddAttachment","FPDFDoc_CloseJavaScriptAction","FPDFDoc_DeleteAttachment","FPDFDOC_ExitFormFillEnvironment","FPDFDoc_GetAttachment","FPDFDoc_GetAttachmentCount","FPDFDoc_GetJavaScriptAction","FPDFDoc_GetJavaScriptActionCount","FPDFDoc_GetPageMode","FPDFDOC_InitFormFillEnvironment","FPDFFont_Close","FPDFFont_GetAscent","FPDFFont_GetBaseFontName","FPDFFont_GetDescent","FPDFFont_GetFamilyName","FPDFFont_GetFlags","FPDFFont_GetFontData","FPDFFont_GetGlyphPath","FPDFFont_GetGlyphWidth","FPDFFont_GetIsEmbedded","FPDFFont_GetItalicAngle","FPDFFont_GetWeight","FPDFFormObj_CountObjects","FPDFFormObj_GetObject","FPDFFormObj_RemoveObject","FPDFGlyphPath_CountGlyphSegments","FPDFGlyphPath_GetGlyphPathSegment","FPDFImageObj_GetBitmap","FPDFImageObj_GetIccProfileDataDecoded","FPDFImageObj_GetImageDataDecoded","FPDFImageObj_GetImageDataRaw","FPDFImageObj_GetImageFilter","FPDFImageObj_GetImageFilterCount","FPDFImageObj_GetImageMetadata","FPDFImageObj_GetImagePixelSize","FPDFImageObj_GetRenderedBitmap","FPDFImageObj_LoadJpegFile","FPDFImageObj_LoadJpegFileInline","FPDFImageObj_SetBitmap","FPDFImageObj_SetMatrix","FPDFJavaScriptAction_GetName","FPDFJavaScriptAction_GetScript","FPDFLink_CloseWebLinks","FPDFLink_CountQuadPoints","FPDFLink_CountRects","FPDFLink_CountWebLinks","FPDFLink_Enumerate","FPDFLink_GetAction","FPDFLink_GetAnnot","FPDFLink_GetAnnotRect","FPDFLink_GetDest","FPDFLink_GetLinkAtPoint","FPDFLink_GetLinkZOrderAtPoint","FPDFLink_GetQuadPoints","FPDFLink_GetRect","FPDFLink_GetTextRange","FPDFLink_GetURL","FPDFLink_LoadWebLinks","FPDFPage_CloseAnnot","FPDFPage_CountObjects","FPDFPage_CreateAnnot","FPDFPage_Delete","FPDFPage_Flatten","FPDFPage_FormFieldZOrderAtPoint","FPDFPage_GenerateContent","FPDFPage_GetAnnot","FPDFPage_GetAnnotCount","FPDFPage_GetAnnotIndex","FPDFPage_GetArtBox","FPDFPage_GetBleedBox","FPDFPage_GetCropBox","FPDFPage_GetDecodedThumbnailData","FPDFPage_GetMediaBox","FPDFPage_GetObject","FPDFPage_GetRawThumbnailData","FPDFPage_GetRotation","FPDFPage_GetThumbnailAsBitmap","FPDFPage_GetTrimBox","FPDFPage_HasFormFieldAtPoint","FPDFPage_HasTransparency","FPDFPage_InsertClipPath","FPDFPage_InsertObject","FPDFPage_InsertObjectAtIndex","FPDFPage_New","FPDFPage_RemoveAnnot","FPDFPage_RemoveObject","FPDFPage_SetArtBox","FPDFPage_SetBleedBox","FPDFPage_SetCropBox","FPDFPage_SetMediaBox","FPDFPage_SetRotation","FPDFPage_SetTrimBox","FPDFPage_TransformAnnots","FPDFPage_TransFormWithClip","FPDFPageObj_AddMark","FPDFPageObj_CountMarks","FPDFPageObj_CreateNewPath","FPDFPageObj_CreateNewRect","FPDFPageObj_CreateTextObj","FPDFPageObj_Destroy","FPDFPageObj_GetBounds","FPDFPageObj_GetClipPath","FPDFPageObj_GetDashArray","FPDFPageObj_GetDashCount","FPDFPageObj_GetDashPhase","FPDFPageObj_GetFillColor","FPDFPageObj_GetIsActive","FPDFPageObj_GetLineCap","FPDFPageObj_GetLineJoin","FPDFPageObj_GetMark","FPDFPageObj_GetMarkedContentID","FPDFPageObj_GetMatrix","FPDFPageObj_GetRotatedBounds","FPDFPageObj_GetStrokeColor","FPDFPageObj_GetStrokeWidth","FPDFPageObj_GetType","FPDFPageObj_HasTransparency","FPDFPageObj_NewImageObj","FPDFPageObj_NewTextObj","FPDFPageObj_RemoveMark","FPDFPageObj_SetBlendMode","FPDFPageObj_SetDashArray","FPDFPageObj_SetDashPhase","FPDFPageObj_SetFillColor","FPDFPageObj_SetIsActive","FPDFPageObj_SetLineCap","FPDFPageObj_SetLineJoin","FPDFPageObj_SetMatrix","FPDFPageObj_SetStrokeColor","FPDFPageObj_SetStrokeWidth","FPDFPageObj_Transform","FPDFPageObj_TransformClipPath","FPDFPageObj_TransformF","FPDFPageObjMark_CountParams","FPDFPageObjMark_GetName","FPDFPageObjMark_GetParamBlobValue","FPDFPageObjMark_GetParamIntValue","FPDFPageObjMark_GetParamKey","FPDFPageObjMark_GetParamStringValue","FPDFPageObjMark_GetParamValueType","FPDFPageObjMark_RemoveParam","FPDFPageObjMark_SetBlobParam","FPDFPageObjMark_SetIntParam","FPDFPageObjMark_SetStringParam","FPDFPath_BezierTo","FPDFPath_Close","FPDFPath_CountSegments","FPDFPath_GetDrawMode","FPDFPath_GetPathSegment","FPDFPath_LineTo","FPDFPath_MoveTo","FPDFPath_SetDrawMode","FPDFPathSegment_GetClose","FPDFPathSegment_GetPoint","FPDFPathSegment_GetType","FPDFSignatureObj_GetByteRange","FPDFSignatureObj_GetContents","FPDFSignatureObj_GetDocMDPPermission","FPDFSignatureObj_GetReason","FPDFSignatureObj_GetSubFilter","FPDFSignatureObj_GetTime","FPDFText_ClosePage","FPDFText_CountChars","FPDFText_CountRects","FPDFText_FindClose","FPDFText_FindNext","FPDFText_FindPrev","FPDFText_FindStart","FPDFText_GetBoundedText","FPDFText_GetCharAngle","FPDFText_GetCharBox","FPDFText_GetCharIndexAtPos","FPDFText_GetCharIndexFromTextIndex","FPDFText_GetCharOrigin","FPDFText_GetFillColor","FPDFText_GetFontInfo","FPDFText_GetFontSize","FPDFText_GetFontWeight","FPDFText_GetLooseCharBox","FPDFText_GetMatrix","FPDFText_GetRect","FPDFText_GetSchCount","FPDFText_GetSchResultIndex","FPDFText_GetStrokeColor","FPDFText_GetText","FPDFText_GetTextIndexFromCharIndex","FPDFText_GetTextObject","FPDFText_GetUnicode","FPDFText_HasUnicodeMapError","FPDFText_IsGenerated","FPDFText_IsHyphen","FPDFText_LoadCidType2Font","FPDFText_LoadFont","FPDFText_LoadPage","FPDFText_LoadStandardFont","FPDFText_SetCharcodes","FPDFText_SetText","FPDFTextObj_GetFont","FPDFTextObj_GetFontSize","FPDFTextObj_GetRenderedBitmap","FPDFTextObj_GetText","FPDFTextObj_GetTextRenderMode","FPDFTextObj_SetTextRenderMode","PDFiumExt_CloseFileWriter","PDFiumExt_CloseFormFillInfo","PDFiumExt_ExitFormFillEnvironment","PDFiumExt_GetFileWriterData","PDFiumExt_GetFileWriterSize","PDFiumExt_Init","PDFiumExt_InitFormFillEnvironment","PDFiumExt_OpenFileWriter","PDFiumExt_OpenFormFillInfo","PDFiumExt_SaveAsCopy","createWrappedModule","pdfium","readString","wasmModule","readChars","parseChars","defaultLength","malloc","actualLength","free","readArrayBuffer","bufferSize","bufferPtr","DataView","setInt8","RESERVED_INFO_KEYS","Set","isValidCustomKey","has","computeFormDrawParams","matrix","rect","pageSize","rotation","rectLeft","origin","rectBottom","y","rectRight","width","rectTop","height","pageWidth","pageHeight","scaleX","hypot","scaleY","swap","formsWidth","round","formsHeight","startX","startY","Rotation","Degree0","Degree90","Degree180","Degree270","WasmPointer","DEFAULT_CONFIG","pageTtl","maxPagesPerDocument","PdfCache","memoryManager","config","docs","Map","setDocument","filePtr","docPtr","ctx","DocumentContext","getContext","docId","closeDocument","dispose","closeAllDocuments","values","clear","updateConfig","newConfig","getCacheStats","pagesByDocument","totalPages","pageCount","getCacheSize","documents","pageCache","PageCache","acquirePage","pageIdx","acquire","borrowPage","forceReleaseAll","pdf","cache","accessOrder","evictIfNeeded","pagePtr","PageContext","removeFromAccessOrder","updateAccessOrder","clearExpiryTimer","bumpRefCount","existed","release","disposeImmediate","updateTtl","lruPageIdx","getRefCount","ttl","onFinalDispose","refCount","disposed","expiryTimer","newTtl","textPagePtr","formHandle","formInfoPtr","getTextPage","ensureAlive","getFormHandle","withAnnotation","annotIdx","annotPtr","MEMORY_LIMITS","MAX_TOTAL_MEMORY","LIMITS","MEMORY","LOG_SOURCE$2","LOG_CATEGORY$2","MemoryManager","pdfiumModule","logger","allocations","totalAllocated","allocation","isEnabled","getStats","allocationCount","checkLeaks","alloc","SYSFONTINFO_SIZE","OFFSET_VERSION","OFFSET_RELEASE","OFFSET_ENUMFONTS","OFFSET_MAPFONT","OFFSET_GETFONT","OFFSET_GETFONTDATA","OFFSET_GETFACENAME","OFFSET_GETFONTCHARSET","OFFSET_DELETEFONT","LOG_SOURCE$1","LOG_CATEGORY$1","FontFallbackManager","NoopLogger","fontHandles","fontCache","nextHandleId","enabled","structPtr","releaseFnPtr","enumFontsFnPtr","mapFontFnPtr","getFontFnPtr","getFontDataFnPtr","getFaceNameFnPtr","getFontCharsetFnPtr","deleteFontFnPtr","fontConfig","initialize","_pThis","_pMapper","weight","bItalic","charset","pitchFamily","facePtr","bExactPtr","face","handle","mapFont","hFont","table","getFontData","_hFont","_buffer","_bufSize","deleteFont","fonts","cleanup","disable","debug","removeIfExists","handleCount","cacheSize","cachedUrls","preloadFonts","charsets","urls","map","getFontUrlForCharset","uniqueUrls","all","fetchFontAsync","italic","findBestFontMatch","matchedWeight","matchedItalic","fontHandle","fetchFontSync","fontData","requestedWeight","requestedItalic","defaultFont","baseUrl","entry","variants","normalizeToVariants","best","selectBestVariant","isArray","v","italicMatches","candidates","bestMatch","bestDistance","variant","variantWeight","distance","currentWeight","pathOrUrl","fontLoader","LOG_SOURCE","LOG_CATEGORY","PdfiumNative","options","memoryLeakCheckInterval","fontFallbackManager","fontFallback","perf","destroy","PdfTaskHelper","getFontFallbackManager","withWString","withFloatArray","openDocumentBuffer","content","password","lastError","message","sizePtr","page","pdfDoc","getMetadata","doc","PdfErrorCode","DocNotOpen","creationRaw","readMetaText","modRaw","metadata","title","author","subject","keywords","producer","creator","creationDate","pdfDateToDate","modificationDate","trapped","getMetaTrapped","custom","readAllMeta","setMetadata","meta","strMap","field","s","setMetaText","writeDate","raw","dateToPdfDate","setMetaTrapped","Unknown","getDocPermissions","permissions","getDocUserPermissions","getSignatures","signatures","signatureObjPtr","byteRange","subFilter","bufferLength","docMDP","getBookmarks","bookmarks","readPdfBookmarks","setBookmarks","list","build","parentPtr","items","bmPtr","wptr","ok2","applyBookmarkTarget","_a","children","deleteBookmarks","renderPageRaw","task","renderRectEncoded","renderPageRect","getPageAnnotations","annotations","readPageAnnotations","createPageAnnotation","annotation","context","pageCtx","annotationPtr","CantCreateAnnot","isUuidV4","uuidV4","setAnnotString","CantSetAnnotString","setPageAnnoRect","CantSetAnnotRect","isSucceed","PdfAnnotationSubtype","INK","addInkStroke","STAMP","addStampContent","imageData","TEXT","addTextContent","FREETEXT","addFreeTextContent","LINE","addLineContent","POLYLINE","POLYGON","addPolyContent","CIRCLE","SQUARE","addShapeContent","UNDERLINE","STRIKEOUT","SQUIGGLY","HIGHLIGHT","addTextMarkupContent","blendMode","CantSetAnnotContent","updatePageAnnotation","getAnnotationByName","NotFound","removePageAnnotation","removeAnnotationByName","getPageTextRects","textRects","readPageTextRects","renderThumbnailRaw","scaleFactor","rest","getAttachments","attachments","attachment","readPdfAttachment","addAttachment","params","description","mimeType","attachmentPtr","wNamePtr","wDescriptionPtr","u8","contentPtr","removeAttachment","readAttachmentContent","CantReadAttachmentSize","CantReadAttachmentContent","setFormFieldValue","formFillInfoPtr","CantFocusAnnot","kind","CantSelectText","textPtr","isSelected","CantSelectOption","kReturn","CantCheckField","flattenPage","PdfPageFlattenFlag","Display","extractPages","pageIndexes","newDocPtr","CantCreateNewDoc","pageIndexesPtr","CantImportPages","saveDocument","extractText","charCount","text2","getTextSlices","slices","byPage","pageIndex","bufPtr","charIndex","stripPdfUnwantedMarkers","merge","files","fileIds","file2","ptrs","mergePages","mergeConfigs","configIds","pageIndices","validPageIndices","pageString","saveAsCopy","setAnnotCustom","modified","setAnnotationDate","inReplyToId","setInReplyToId","setAnnotationIcon","icon","PdfAnnotationIcon","Comment","setAnnotationFlags","state","stateModel","setBorderStyle","PdfAnnotationBorderStyle","SOLID","setAnnotationOpacity","opacity","setAnnotationTextAlignment","textAlign","setAnnotationVerticalAlignment","verticalAlign","setAnnotationDefaultAppearance","fontFamily","fontSize","fontColor","intent","setAnnotIntent","backgroundColor","setAnnotationColor","PdfAnnotationColorType","Color","strokeWidth","setInkList","inkList","color","setLinePoints","linePoints","setLineEndings","lineEndings","PdfAnnotationLineEnding","None","_b","strokeStyle","setBorderDashPattern","strokeDashArray","InteriorColor","strokeColor","setPdfAnnoVertices","vertices","syncQuadPointsAnno","segmentRects","addImageObject","PdfStampFit","Cover","bytesPerPixel","pixelCount","bitmapBufferPtr","red","green","blue","alpha","format","bitmapPtr","imageObjectPtr","matrixPtr","pagePos","convertDevicePointToPagePoint","writerPtr","dataPtr","readCatalogLanguage","byteLen","PdfTrappedStatus","NotSet","True","False","toSet","valid","getMetaKeyCount","customOnly","getMetaKeyName","buflen","rootBookmarkPtr","bookmarkPtr","bookmark","readPdfBookmark","nextBookmarkPtr","readPdfBookmarkTarget","rectsCount","topPtr","leftPtr","rightPtr","bottomPtr","left","top","right","bottom","deviceXPtr","deviceYPtr","utf16Length","bytesCount","textBuffer","fontNameLength","bytesCount2","textBufferPtr","flagsPtr","textRect","font","family","getPageGeometry","label","glyphCount","glyphs","g","readGlyphInfo","runs","buildRunsFromGlyphs","curObjPtr","bounds","objPtr","charStart","minX","minY","maxX","maxY","isEmpty","isSpace","dx1Ptr","dy1Ptr","dx2Ptr","dy2Ptr","rectPtr","x1","y1","x2","y2","uc","getPageGlyphs","total","readCharBox","annotationCount","anno","readPageAnnotation","readPageAnnotationsRaw","getPageAnnotationsRaw","getAnnotString","subType","readPdfTextAnno","readPdfFreeTextAnno","LINK","readPdfLinkAnno","WIDGET","readPdfWidgetAnno","FILEATTACHMENT","readPdfFileAttachmentAnno","readPdfInkAnno","readPdfPolygonAnno","readPdfPolylineAnno","readPdfLineAnno","readPdfHighlightAnno","readPdfStampAnno","readPdfSquareAnno","readPdfCircleAnno","readPdfUnderlineAnno","readPdfSquigglyAnno","readPdfStrikeOutAnno","CARET","readPdfCaretAnno","readPdfAnno","readAnnotationColor","colorType","rPtr","gPtr","bPtr","colour","getAnnotationColor","annotationColor","pdfColorToWebColor","webColor","pdfColor","webColorToPdfColor","getAnnotationOpacity","opacityPtr","pdfAlphaToWebOpacity","pdfOpacity","webOpacityToPdfAlpha","getAnnotationTextAlignment","getAnnotationVerticalAlignment","getAnnotationDefaultAppearance","fontPtr","getBorderStyle","widthPtr","style","UNKNOWN","getAnnotationIcon","getBorderEffect","intensityPtr","intensity","getRectangleDifferences","lPtr","tPtr","getAnnotationDate","getAttachmentDate","getAttachmentString","setAttachmentDate","setAttachmentString","getBorderDashPattern","pattern","arrPtr","okNative","clean","isFinite","getLineEndings","getLinePoints","sx","sy","ex","ey","convertPagePointToDevicePoint","p1","p2","getQuadPointsAnno","quadCount","FS_QUADPOINTSF_SIZE","quads","qi","quadPtr","xs","ys","base","p3","p4","quadToRect","rects","writeQuad","q","rectToQuad","redactTextInRects","recurseForms","drawBlackBoxes","_c","_d","allocFSQuadsBufferFromRects","STRIDE","getInkList","pathCount","POINT_STRIDE","points","px","py","stroke","pDev","pPage","getAnnotCustom","annoRect","readPageAnnoRect","convertPageRectToDeviceRect","getInReplyToId","getAnnotationFlags","defaultStyle","da","richContent","getAnnotRichContent","PdfStandardFont","linkPtr","readPdfLinkAnnoTarget","pageRect","readPdfWidgetAnnoField","getAnnotIntent","readPdfAnnoVertices","interiorColor","DASHED","first","readPdfPageObject","pageObjectPtr","PdfPageObjectType","readPathObject","IMAGE","readImageObject","FORM","readFormObject","pathObjectPtr","segmentCount","segments","segment","readPdfSegment","readPdfPageObjectTransformMatrix","annotationObjectPtr","segmentIndex","segmentPtr","segmentType","pointXPtr","pointYPtr","pointX","pointY","point","bitmapWidth","bitmapHeight","Uint8ClampedArray","imageDataLike","formObjectPtr","objectCount","objects","pageObj","readStampAnnotationContents","getStrokeWidth","hPtr","vPtr","wPtr","rawFlags","flagsToNames","namesToFlags","getAttachmentNumber","JSON","parse","jsonString","stringify","codeUnits","wValPtr","pointMemorySize","pointsPtr","FS_POINTF_SIZE","pagePt","getActionPtr","getDestinationPtr","actionPtr","action","readPdfAction","destinationPtr","destination","readPdfDestination","alternateName","PDF_FORM_FIELD_TYPE","COMBOBOX","LISTBOX","isChecked","CHECKBOX","RADIOBUTTON","renderPageAnnotationRaw","dpr","AppearanceMode","Normal","Task","finalScale","toIntRect","devRect","transformRect","wDev","hDev","stride","heapPtr","M","buildUserToDeviceMatrix","mPtr","mView","FLAGS","scale","baseW","baseH","shouldRenderForms","withForms","clipPtr","clipView","withAnnotations","formParams","createLocalDestPtr","zoom","PdfZoomMode","XYZ","viewEnum","FitPage","FitHorizontal","FitVertical","FitRectangle","destPtr","PdfActionType","Goto","actPtr","URI","uri","LaunchAppOrOpenFile","RemoteGoto","Unsupported","actionType","maxParmamsCount","paramsCountPtr","paramsPtr","zoomMode","paramsCount","paramPtr","hasXPtr","hasYPtr","hasZPtr","xPtr","yPtr","zPtr","hasX","hasY","hasZ","checksum","DW","DH","readPageAnnoAppearanceStreams","normal","readPageAnnoAppearanceStream","rollover","Rollover","down","Down","ap","setPageAnnoAppearanceStream","apContent","x0d","y0d","x1d","y1d","TL","TR","BR","BL","pageRectPtr","getHighlightRects","startIndex","highlightRects","t","searchInPage","keyword","keywordPtr","searchAllInPage","getAnnotationsBatch","queueMicrotask","progress","searchBatch","pageResults","buildContext","fullText","windowChars","WORD_BREAK","findWordStart","test","findWordEnd","collected","before","trimStart","match","after","trimEnd","tidy","truncatedLeft","truncatedRight","searchHandle","preparePrintDocument","includeAnnotations","pageRange","printDocPtr","sanitizedPageRange","sanitizePageRange","removalResult","removeAnnotationsFromPrintDocument","success","annotationsRemoved","pagesProcessed","totalAnnotationsRemoved","annotCount","annotationsRemovedFromPage","annotIndex","removed","sanitized","trimmed","startStr","endStr","parseInt","validStart","validEnd","pageNum","validPageNum","sort","optimized","rangeStart","rangeEnd","createPdfiumEngine","wasmUrl","native","PdfEngine","imageConverter","browserImageDataToBlobConverter"],"ignoreList":[],"sourceRoot":""}